<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ¬¢è¿æ¥åˆ°åŒ¡ç›Ÿç›Ÿçš„åšå®¢ï¼</title>
  
  <subtitle>Colyn å´›èµ·æ­£å½“æ—¶ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://meng.uno/"/>
  <updated>2018-02-09T10:46:20.918Z</updated>
  <id>http://meng.uno/</id>
  
  <author>
    <name>åŒ¡ç›Ÿç›Ÿ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡</title>
    <link href="http://meng.uno/posts/fff444e8/"/>
    <id>http://meng.uno/posts/fff444e8/</id>
    <published>2018-02-08T09:20:00.000Z</published>
    <updated>2018-02-09T10:46:20.918Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/fff444e8/">http://meng.uno/posts/fff444e8/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ¬æ–‡é“¾æ¥: &lt;a href=&quot;http://meng.uno/posts/fff444e8/&quot;&gt;http://meng.uno/posts/fff444e8/&lt;/a&gt; æ¬¢è¿è½¬è½½ï¼&lt;/p&gt;
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
    
      <category term="ç®—æ³•å¤æ‚æ€§" scheme="http://meng.uno/tags/%E7%AE%97%E6%B3%95%E5%A4%8D%E6%9D%82%E6%80%A7/"/>
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
      <category term="äºŒåˆ†æŸ¥æ‰¾" scheme="http://meng.uno/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
    
  </entry>
  
  <entry>
    <title>Java Substring() çš„å®ç°</title>
    <link href="http://meng.uno/posts/f3057e6c/"/>
    <id>http://meng.uno/posts/f3057e6c/</id>
    <published>2018-02-08T07:43:08.000Z</published>
    <updated>2018-02-09T10:46:20.937Z</updated>
    
    <content type="html"><![CDATA[<p>å†™è¿‡Javaçš„äººåº”è¯¥éƒ½ç”¨è¿‡<code>substring(int bedinIndex, int endIndex)</code>æ–¹æ³•ã€‚æˆ‘å‘ç°è¿™ä¸ªç®€å•çš„æ–¹æ³•åœ¨å®ç°ä¸Šå±…ç„¶ç»è¿‡äº†ä¸€æ¬¡å¤§çš„å˜é©ã€‚</p><h2 id="substring-çš„ç”¨é€”"><a class="header-anchor" href="#substring-çš„ç”¨é€”">ğŸŒŠ</a>substring()çš„ç”¨é€”</h2><p>ä»£ç :</p><figure class="highlight">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>      </td>      <td class="code">        <pre><span class="line">String origin = "asdfg"; </span><br><span class="line">origin = origin.substring(1,3);</span><br><span class="line">System.out.println(origin);</span><br></pre>      </td>    </tr>  </table></figure><p>è¾“å‡º:</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">sd</span><br></pre>      </td>    </tr>  </table></figure><p>æˆ‘ä»¬å‘ç°å®ƒèƒ½å°†åŸå§‹å­—ç¬¦ä¸²ä¸­ä»ä¸‹æ ‡ä¸ºbeginIndexåˆ°endIndex-1ä¹‹é—´çš„å­ä¸²å–å‡ºã€‚é‚£å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><h2 id="substring-çš„å®ç°"><a class="header-anchor" href="#substring-çš„å®ç°">ğŸŒŠ</a>substring()çš„å®ç°</h2><blockquote>  <p>Javaä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸‰ä¸ªåŸŸï¼šchar value[], int offsetä»¥åŠint countï¼Œå®ƒä»¬åˆ†åˆ«å­˜å‚¨å­—ç¬¦ä¸²çš„å€¼ï¼Œèµ·å§‹ä¸‹æ ‡ä¸é•¿åº¦ã€‚</p></blockquote><h3 id="jdk6ç‰ˆæœ¬"><a class="header-anchor" href="#jdk6ç‰ˆæœ¬">ğŸŒŠ</a>JDK6ç‰ˆæœ¬</h3><p>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ¯æ¬¡æ‰§è¡Œsubstring()æ–¹æ³•æ—¶å¹¶ä¸ä¼šæ–°å»ºæ–°çš„stringï¼Œä»…ä»…åªæ˜¯å°†ä¸Šè¿°ä¸‰ä¸ªåŸŸä¸­çš„offsetï¼Œcountåšå¿…è¦çš„ä¿®æ”¹ã€‚è¿”å›å¯¹è±¡ä»æŒ‡å‘åŸæ¥çš„æ•°æ®ã€‚</p><p><img src="http://www.meng.uno/images/substring_jdk.png" alt="Substring()å®ç°ç‰ˆæœ¬ä¸€"></p><p>è¿™æ ·ä¸€æ¥ï¼Œ<strong><em>ç¼ºç‚¹</em></strong>å°±æ¯”è¾ƒæ˜æ˜¾ï¼šå½“åŸå§‹å­—ç¬¦ä¸²æ¯”è¾ƒé•¿ï¼Œè€Œæˆªå–çš„å­ä¸²æ¯”è¾ƒçŸ­æ—¶ï¼Œåœ¨åç»­çš„ä½¿ç”¨ä¸­å°±ä¼šæµªè´¹å¤§é‡çš„ç©ºé—´ã€‚</p><h3 id="jdk7-ç‰ˆæœ¬"><a class="header-anchor" href="#jdk7-ç‰ˆæœ¬">ğŸŒŠ</a>JDK7+ç‰ˆæœ¬</h3><p>åœ¨ä¸Šä¸€ä¸ªç‰ˆæœ¬åŸºç¡€ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•è¿›è¡Œäº†æ”¹è¿›ï¼Œæ¯æ¬¡ä½¿ç”¨è¿™ä¸ªæ–¹æ³•éƒ½ä¼šæ–°å»ºä¸€ä¸ªstringå¯¹è±¡ï¼Œå¹¶å°†å…¶è¿”å›ã€‚</p><p><img src="http://www.meng.uno/images/substring_jdk7.png" alt="Substring()å®ç°ç‰ˆæœ¬äºŒ"></p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/f3057e6c/">http://meng.uno/posts/f3057e6c/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å†™è¿‡Javaçš„äººåº”è¯¥éƒ½ç”¨è¿‡&lt;code&gt;substring(int bedinIndex, int endIndex)&lt;/code&gt;æ–¹æ³•ã€‚æˆ‘å‘ç°è¿™ä¸ªç®€å•çš„æ–¹æ³•åœ¨å®ç°ä¸Šå±…ç„¶ç»è¿‡äº†ä¸€æ¬¡å¤§çš„å˜é©ã€‚&lt;/p&gt;
&lt;h2 id=&quot;substring-çš„ç”¨é€”&quot;&gt;&lt;a class=&quot;heade
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Analysis For Hyperkernel</title>
    <link href="http://meng.uno/posts/55c9299d/"/>
    <id>http://meng.uno/posts/55c9299d/</id>
    <published>2018-01-29T13:43:03.000Z</published>
    <updated>2018-02-09T10:46:20.922Z</updated>
    
    <content type="html"><![CDATA[<h2 id="state-machine-specification"><a class="header-anchor" href="#state-machine-specification">ğŸŒŠ</a>State-machine Specification</h2><p>State-machine specification means the system function will first verify the old procedure until the procedure is runnable and then return a new procedure and write to the system image. All of these must run in the user level. This specification consists  of two parts: a definition of abstract kernel state, and a definition of trap handlers (e.g., system calls) in terms of abstract state transitions. They use fully automated technique to find bugs and this method is full functional verification if program  is free of loops and state is finite.</p><p>The â€œhv6/hv6/spec/kernel/spec/specs.pyâ€ file contains the system calls which use this kind of specification. From the picture, we can see that they use Z3 to prove the correction of the â€œoldâ€ procedure and if it can transfer to a new state or it is runnable,  it will return the new procedure so that it can be proved true.</p><h2 id="declarative-specification"><a class="header-anchor" href="#declarative-specification">ğŸŒŠ</a>Declarative Specification</h2><p>The authors also provide a declarative specification of the high level properties that the state-machine specification should satisfy. The verifier will check that these high level properties are indeed satisfied, helping increase the programmerâ€™s confidence  in the correctness of the state-machine specification. To improve confidence in its correctness, there is a higher-level declarative specification to better capture programmer intuition about kernel behavior, in the form of a conjunction of crosscutting  properties that hold across all trap handlers.</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/55c9299d/">http://meng.uno/posts/55c9299d/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;state-machine-specification&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#state-machine-specification&quot;&gt;ğŸŒŠ&lt;/a&gt;State-machine Specification&lt;/h2&gt;
&lt;p&gt;
      
    
    </summary>
    
      <category term="System" scheme="http://meng.uno/categories/System/"/>
    
    
      <category term="System Verification" scheme="http://meng.uno/tags/System-Verification/"/>
    
  </entry>
  
  <entry>
    <title>ä¸­æ–‡åˆ†è¯å°èµ›æ•°æ®</title>
    <link href="http://meng.uno/posts/649482ba/"/>
    <id>http://meng.uno/posts/649482ba/</id>
    <published>2017-10-30T08:02:41.000Z</published>
    <updated>2018-02-09T10:46:20.930Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>çºªå¿µä¸€ä¸‹å¤§å››ç»„ç»‡çš„ä¸€æ¬¡ä¸­æ–‡åˆ†è¯å°æ¯”èµ›ã€‚</p></blockquote><h2 id="åˆ†é¡¹æ•°æ®"><a class="header-anchor" href="#åˆ†é¡¹æ•°æ®">ğŸŒŠ</a>åˆ†é¡¹æ•°æ®</h2><ul>  <li>è®­ç»ƒæ•°æ®ï¼š é“¾æ¥: <a href="https://pan.baidu.com/s/1sl9JLqX" target="_blank" rel="noopener">https://pan.baidu.com/s/1sl9JLqX</a> å¯†ç : 8am6</li>  <li>æµ‹è¯•æ•°æ®ï¼š é“¾æ¥: <a href="https://pan.baidu.com/s/1eSeYhfO" target="_blank" rel="noopener">https://pan.baidu.com/s/1eSeYhfO</a> å¯†ç : cnw2</li>  <li>ç›¸å…³å‚è€ƒç­”æ¡ˆï¼š é“¾æ¥: <a href="https://pan.baidu.com/s/1c2tVto0" target="_blank" rel="noopener">https://pan.baidu.com/s/1c2tVto0</a> å¯†ç : 3rpt</li>  <li>æœ‰åˆ‡åˆ†æ­§ä¹‰çš„100ä¸ªå¥å­ï¼šé“¾æ¥: <a href="https://pan.baidu.com/s/1gfJ7Duz" target="_blank" rel="noopener">https://pan.baidu.com/s/1gfJ7Duz</a> å¯†ç : 8mmx</li></ul><h2 id="æ‰€æœ‰æ•°æ®"><a class="header-anchor" href="#æ‰€æœ‰æ•°æ®">ğŸŒŠ</a>æ‰€æœ‰æ•°æ®</h2><p>æ‰€æœ‰æ–‡ä»¶ä¸‹è½½ï¼šé“¾æ¥: <a href="https://pan.baidu.com/s/1gfJ7Duz" target="_blank" rel="noopener">https://pan.baidu.com/s/1gfJ7Duz</a> å¯†ç : 8mmx</p><h2 id="æµ‹è¯•ç»“æœ"><a class="header-anchor" href="#æµ‹è¯•ç»“æœ">ğŸŒŠ</a>æµ‹è¯•ç»“æœ</h2><p>ç›¸å…³PPTï¼š<a href="http://www.meng.uno/nlpc.pdf" target="_blank" rel="noopener">http://www.meng.uno/nlpc.pdf</a></p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/649482ba/">http://meng.uno/posts/649482ba/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;çºªå¿µä¸€ä¸‹å¤§å››ç»„ç»‡çš„ä¸€æ¬¡ä¸­æ–‡åˆ†è¯å°æ¯”èµ›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åˆ†é¡¹æ•°æ®&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#åˆ†é¡¹æ•°æ®&quot;&gt;ğŸŒŠ&lt;/a&gt;åˆ†é¡¹æ•°æ®&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;è®­ç»ƒæ•°æ®ï¼š
      
    
    </summary>
    
      <category term="NLP" scheme="http://meng.uno/categories/NLP/"/>
    
    
      <category term="NLP" scheme="http://meng.uno/tags/NLP/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptæ“ä½œDOM</title>
    <link href="http://meng.uno/posts/2c47a986/"/>
    <id>http://meng.uno/posts/2c47a986/</id>
    <published>2017-03-05T08:03:01.000Z</published>
    <updated>2018-02-09T10:46:20.926Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»ºèŠ‚ç‚¹"><a class="header-anchor" href="#åˆ›å»ºèŠ‚ç‚¹">ğŸŒŠ</a>åˆ›å»ºèŠ‚ç‚¹</h2><p>é™¤äº†å¯ä»¥ä½¿ç”¨<code>createElement</code>åˆ›å»ºå…ƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>createTextNode</code>åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹ã€‚<code>document.body</code>æŒ‡å‘çš„æ˜¯<code>&lt;body&gt;</code>å…ƒç´ ï¼Œ<code>document.documentElement</code>åˆ™æŒ‡å‘<code>&lt;html&gt;</code>å…ƒç´ ã€‚</p><figure class="highlight javascript">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">//åˆ›å»ºèŠ‚ç‚¹</span></span><br><span class="line">   <span class="keyword">var</span> createNode = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line">   <span class="keyword">var</span> createTextNode = <span class="built_in">document</span>.createTextNode(<span class="string">"hello world"</span>);</span><br><span class="line">   createNode.appendChild(createTextNode);</span><br><span class="line">   <span class="built_in">document</span>.body.appendChild(createNode);</span><br><span class="line">   <span class="built_in">document</span>.documentElement.appendChild(createNode);</span><br></pre>      </td>    </tr>  </table></figure><h2 id="æ’å…¥èŠ‚ç‚¹"><a class="header-anchor" href="#æ’å…¥èŠ‚ç‚¹">ğŸŒŠ</a>æ’å…¥èŠ‚ç‚¹</h2><p>å¯ä»¥ä½¿ç”¨appendChildï¼ŒinsertBeforeï¼ŒinsertBeforeæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ’å…¥çš„èŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªæ˜¯å‚ç…§èŠ‚ç‚¹ï¼Œå¦‚insertBefore(a,b)ï¼Œåˆ™aä¼šæ’å…¥åœ¨bçš„å‰é¢</p><figure class="highlight javascript">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">//æ’å…¥èŠ‚ç‚¹</span></span><br><span class="line"> <span class="keyword">var</span> createNode = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>);</span><br><span class="line"><span class="keyword">var</span> createTextNode = <span class="built_in">document</span>.createTextNode(<span class="string">"hello world"</span>);</span><br><span class="line">createNode.appendChild(createTextNode);</span><br><span class="line"><span class="keyword">var</span> div1 = <span class="built_in">document</span>.getElementById(<span class="string">"div1"</span>);</span><br><span class="line"><span class="built_in">document</span>.body.insertBefore(createNode,div1);</span><br></pre>      </td>    </tr>  </table></figure><h2 id="æ›¿æ¢å’Œåˆ é™¤å…ƒç´ "><a class="header-anchor" href="#æ›¿æ¢å’Œåˆ é™¤å…ƒç´ ">ğŸŒŠ</a>æ›¿æ¢å’Œåˆ é™¤å…ƒç´ </h2><p>ä»replaceChildå’ŒremoveChildçš„å­—é¢æ„æ€çœ‹ï¼Œå°±æ˜¯åˆ é™¤å­èŠ‚ç‚¹ï¼Œå› æ­¤è°ƒç”¨è€…ï¼Œéœ€è¦åŒ…å«å­èŠ‚ç‚¹div1ï¼Œä¸ç„¶è°ƒç”¨ä¼šæŠ¥é”™ã€‚è¿”å›çš„èŠ‚ç‚¹æ˜¯æ›¿æ¢çš„æˆ–åˆ é™¤çš„å…ƒç´ ï¼Œè¢«æ›¿æ¢/åˆ é™¤çš„å…ƒç´ ä»ç„¶å­˜åœ¨ï¼Œä½†documentä¸­å·²ç»æ²¡æœ‰ä»–ä»¬çš„ä½ç½®äº†ã€‚</p><figure class="highlight javascript">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">//æ›¿æ¢å…ƒç´ </span></span><br><span class="line">   <span class="keyword">var</span> replaceChild = <span class="built_in">document</span>.body.replaceChild(createNode,div1);</span><br><span class="line"><span class="comment">//åˆ é™¤å…ƒç´ </span></span><br><span class="line">    <span class="keyword">var</span> removeChild = <span class="built_in">document</span>.body.removeChild(div1);</span><br></pre>      </td>    </tr>  </table></figure><h2 id="èŠ‚ç‚¹çš„å±æ€§"><a class="header-anchor" href="#èŠ‚ç‚¹çš„å±æ€§">ğŸŒŠ</a>èŠ‚ç‚¹çš„å±æ€§</h2><ul>  <li>firstChild:ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹</li>  <li>lastChild:æœ€åä¸€ä¸ªå­èŠ‚ç‚¹</li>  <li>childNodes:å­èŠ‚ç‚¹é›†åˆï¼Œè·å–å…¶ä¸­å­èŠ‚ç‚¹å¯</li>  <li>someNode.childNodes[index]æˆ–</li>  <li>someNode.childNodes.item(index)</li>  <li>nextSibling:ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</li>  <li>previousSiblingï¼šä¸Šä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹</li>  <li>parentNodeï¼šçˆ¶èŠ‚ç‚¹</li></ul><figure class="highlight vbscript-html">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;ul id="ul"&gt;</span><br><span class="line">&lt;li&gt;sdsssssss&lt;/li&gt;</span><br><span class="line">&lt;li&gt;qqqq&lt;/li&gt;</span><br><span class="line">&lt;li&gt;wwww&lt;/li&gt;</span><br><span class="line">&lt;li&gt;eeee&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre>      </td>    </tr>  </table></figure><figure class="highlight javascript">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">//èŠ‚ç‚¹å±æ€§</span></span><br><span class="line">  <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>);</span><br><span class="line">  <span class="keyword">var</span> firstChild = ul.firstChild;</span><br><span class="line">  <span class="built_in">console</span>.log(firstChild.innerHTML);</span><br><span class="line">  <span class="keyword">var</span> lastChild = ul.lastChild;</span><br><span class="line">  <span class="built_in">console</span>.log(lastChild.innerHTML);</span><br><span class="line">  <span class="keyword">var</span> length = ul.childNodes.length;</span><br><span class="line">  <span class="built_in">console</span>.log(length);</span><br><span class="line">  <span class="keyword">var</span> secondChild = ul.childNodes.item(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(secondChild.innerHTML);</span><br><span class="line">  <span class="keyword">var</span> forthChild = ul.childNodes.item(<span class="number">2</span>).nextSibling;</span><br><span class="line">  <span class="built_in">console</span>.log(forthChild.innerHTML);</span><br><span class="line">  <span class="keyword">var</span> thridChild = forthChild.previousSibling;</span><br><span class="line">  <span class="built_in">console</span>.log(thridChild.innerHTML);</span><br><span class="line">  <span class="keyword">var</span> parentNode = forthChild.parentNode;</span><br><span class="line">  <span class="built_in">console</span>.log(parentNode.innerHTML);</span><br></pre>      </td>    </tr>  </table></figure><h2 id="æ–‡æ¡£ç‰‡æ®µ"><a class="header-anchor" href="#æ–‡æ¡£ç‰‡æ®µ">ğŸŒŠ</a>æ–‡æ¡£ç‰‡æ®µ</h2><p>å¥½å¤„åœ¨äºå‡å°‘domçš„æ¸²æŸ“æ¬¡æ•°ï¼Œå¯ä»¥ä¼˜åŒ–æ€§èƒ½ã€‚</p><figure class="highlight javascript">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">//æ–‡æœ¬ç‰‡æ®µ</span></span><br><span class="line">   <span class="keyword">var</span> fragment = <span class="built_in">document</span>.createDocumentFragment();</span><br><span class="line">   <span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">"ul"</span>);</span><br><span class="line">   <span class="keyword">var</span> li = <span class="literal">null</span>;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">       li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">       li.appendChild(<span class="built_in">document</span>.createTextNode(<span class="string">"item "</span>+i));</span><br><span class="line">       fragment.appendChild(li);</span><br><span class="line">   &#125;</span><br><span class="line">   ul.appendChild(fragment);</span><br></pre>      </td>    </tr>  </table></figure><h2 id="å…‹éš†å…ƒç´ "><a class="header-anchor" href="#å…‹éš†å…ƒç´ ">ğŸŒŠ</a>å…‹éš†å…ƒç´ </h2><ul>  <li>someNode.cloneNode(true):æ·±åº¦å…‹éš†ï¼Œä¼šå¤åˆ¶èŠ‚ç‚¹åŠæ•´ä¸ªå­èŠ‚ç‚¹</li>  <li>someNode.cloneNode(false):æµ…å…‹éš†ï¼Œä¼šå¤åˆ¶èŠ‚ç‚¹ï¼Œä½†ä¸å¤åˆ¶å­èŠ‚ç‚¹</li></ul><figure class="highlight php">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">//å…‹éš†</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">clone</span> = ul.cloneNode(<span class="keyword">true</span>);</span><br><span class="line">document.body.appendChild(<span class="keyword">clone</span>);</span><br></pre>      </td>    </tr>  </table></figure><h2 id="æ³¨æ„ï¼š"><a class="header-anchor" href="#æ³¨æ„ï¼š">ğŸŒŠ</a>æ³¨æ„ï¼š</h2><h3 id="childnodes-lengthå­˜åœ¨è·¨æµè§ˆå™¨çš„é—®é¢˜"><a class="header-anchor" href="#childnodes-lengthå­˜åœ¨è·¨æµè§ˆå™¨çš„é—®é¢˜">ğŸŒŠ</a>childNodes.lengthå­˜åœ¨è·¨æµè§ˆå™¨çš„é—®é¢˜</h3><p>å¯ä»¥çœ‹åˆ°æœ‰å…³åˆ—è¡¨çš„htmlç‰‡æ®µæ²¡æœ‰ç”¨</p><figure class="highlight vbscript-html">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;ul id="ul"&gt;</span><br><span class="line">&lt;li&gt;sdsssssss&lt;/li&gt;</span><br><span class="line">&lt;li&gt;qqqq&lt;/li&gt;</span><br><span class="line">&lt;li&gt;wwww&lt;/li&gt;</span><br><span class="line">&lt;li&gt;eeee&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>è¿™ç§ä¹¦å†™æ ¼å¼è€Œæ˜¯ä½¿ç”¨æ²¡æœ‰æ¢è¡Œçš„æ ¼å¼ä¹¦å†™ï¼Œæ˜¯å› ä¸ºåœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­ï¼Œè·å–<code>ul.childNodes.length</code>çš„ç»“æœæœ‰å·®å¼‚ï¼š</p><ul>  <li>åœ¨ieä¸­ï¼Œul.childNodes.lengthä¸ä¼šè®¡ç®—liä¹‹é—´çš„æ¢è¡Œç©ºæ ¼ï¼Œä»è€Œå¾—åˆ°æ•°å€¼ä¸º4</li>  <li>åœ¨ffã€chrome,safariä¸­ï¼Œä¼šæœ‰åŒ…å«liä¹‹é—´çš„ç©ºç™½ç¬¦çš„5ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼Œå› æ­¤ul.childNodes.lengthä¸º9<br> è‹¥è¦è§£å†³è·¨æµè§ˆå™¨é—®é¢˜ï¼Œå¯ä»¥å°†liä¹‹é—´çš„æ¢è¡Œå»æ‰ï¼Œæ”¹æˆä¸€è¡Œä¹¦å†™æ ¼å¼ã€‚  </li></ul><h3 id="clonenodeå­˜åœ¨è·¨æµè§ˆå™¨çš„é—®é¢˜"><a class="header-anchor" href="#clonenodeå­˜åœ¨è·¨æµè§ˆå™¨çš„é—®é¢˜">ğŸŒŠ</a>cloneNodeå­˜åœ¨è·¨æµè§ˆå™¨çš„é—®é¢˜</h3><ul>  <li>åœ¨IEä¸­ï¼Œé€šè¿‡cloneNodeæ–¹æ³•å¤åˆ¶çš„å…ƒç´ ï¼Œä¼šå¤åˆ¶äº‹ä»¶å¤„ç†ç¨‹åºï¼Œæ¯”å¦‚ï¼Œvar b = a.cloneNode(true).è‹¥aå­˜åœ¨click,mouseoverç­‰äº‹ä»¶ç›‘å¬ï¼Œåˆ™bä¹Ÿä¼šæ‹¥æœ‰è¿™äº›äº‹ä»¶ç›‘å¬ã€‚</li>  <li>åœ¨ff,chrome,safariä¸­ï¼Œé€šè¿‡cloneNodeæ–¹æ³•å¤åˆ¶çš„å…ƒç´ ï¼Œåªä¼šå¤åˆ¶ç‰¹æ€§ï¼Œå…¶ä»–ä¸€åˆ‡éƒ½ä¸ä¼šå¤åˆ¶<br> å› æ­¤ï¼Œè‹¥è¦è§£å†³è·¨æµè§ˆå™¨é—®é¢˜ï¼Œåœ¨å¤åˆ¶å‰ï¼Œæœ€å¥½å…ˆç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åºã€‚  </li></ul><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/2c47a986/">http://meng.uno/posts/2c47a986/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åˆ›å»ºèŠ‚ç‚¹&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#åˆ›å»ºèŠ‚ç‚¹&quot;&gt;ğŸŒŠ&lt;/a&gt;åˆ›å»ºèŠ‚ç‚¹&lt;/h2&gt;
&lt;p&gt;é™¤äº†å¯ä»¥ä½¿ç”¨&lt;code&gt;createElement&lt;/code&gt;åˆ›å»ºå…ƒç´ ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;createTextNode&lt;/code&gt;
      
    
    </summary>
    
      <category term="å‰ç«¯" scheme="http://meng.uno/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="å‰ç«¯" scheme="http://meng.uno/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>HITæ“ä½œç³»ç»Ÿå®éªŒæ€»ç»“</title>
    <link href="http://meng.uno/posts/86743755/"/>
    <id>http://meng.uno/posts/86743755/</id>
    <published>2017-01-04T12:50:26.000Z</published>
    <updated>2018-02-09T10:46:20.931Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹å…­æ¬¡å®éªŒæ¯æ¬¡éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶è§ï¼š<a href="http://www.meng.uno/os.html" target="_blank" rel="noopener">ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨</a><br> æœ¬å®éªŒæ€»ç»“æºè‡ªgithubé¡¹ç›®ï¼š    <a href="https://github.com/HITAmigos/MIC" target="_blank" rel="noopener">MIC</a></p></blockquote><h2 id="æ“ä½œç³»ç»Ÿå¼•å¯¼"><a class="header-anchor" href="#æ“ä½œç³»ç»Ÿå¼•å¯¼">ğŸŒŠ</a>æ“ä½œç³»ç»Ÿå¼•å¯¼</h2><h3 id="bootsect-s"><a class="header-anchor" href="#bootsect-s">ğŸŒŠ</a>bootsect.s</h3><ul>  <li>å®ç°å±å¹•è¾“å‡º</li>  <li>ä¿®æ”¹æ‰“å°çš„å­—ç¬¦ä¸²ï¼ˆç©ºç™½ä¹Ÿç®—ä½œä¸€ä¸ªå­—ç¬¦ï¼‰</li>  <li>è¯»å…¥setup.sä»£ç ï¼ˆåŒ…æ‹¬ï¼šè®¾ç½®é©±åŠ¨å™¨ã€ç£å¤´ï¼Œè¯»å–setup.sçš„ç£é“å’Œæ‰‡åŒºï¼Œå¹¶è·³åˆ°ç›¸åº”ä½ç½®å¼€å§‹æ‰§è¡Œï¼‰</li></ul><h3 id="setup-s"><a class="header-anchor" href="#setup-s">ğŸŒŠ</a>setup.s</h3><ul>  <li>ï¼ˆå’Œbootsect.sä¸­éƒ¨åˆ†ä»£ç ç›¸åŒï¼‰æ‰“å°ç›¸å…³ä¿¡æ¯</li>  <li>ï¼ˆåŸä»£ç å·²ç»å¯ä»¥éƒ¨åˆ†æ‰“å°ç¡¬ä»¶ä¿¡æ¯ï¼‰éœ€è¦åœ¨ç›¸å…³ä½ç½®åµŒå…¥msgå®ç°æ‰“å°æç¤ºä¿¡æ¯åŠŸèƒ½</li></ul><h3 id="build-c"><a class="header-anchor" href="#build-c">ğŸŒŠ</a>build.c</h3><ul>  <li>å°†bootsect.sã€setup.sã€system.sç¼–è¯‘ã€é“¾æ¥ç”ŸæˆImageæ–‡ä»¶</li></ul><h2 id="ç³»ç»Ÿè°ƒç”¨"><a class="header-anchor" href="#ç³»ç»Ÿè°ƒç”¨">ğŸŒŠ</a>ç³»ç»Ÿè°ƒç”¨</h2><ul>  <li>unistd.hæ–‡ä»¶ï¼šæ·»åŠ ç³»ç»Ÿè°ƒç”¨åŠŸèƒ½å·</li>  <li>sys.hå£°æ˜æ–°çš„ç³»ç»Ÿè°ƒç”¨å¤„ç†å‡½æ•°ï¼›æ·»åŠ ç³»ç»Ÿè°ƒç”¨å¤„ç†ç¨‹åºç´¢å¼•å€¼åˆ°æŒ‡é’ˆæ•°ç»„è¡¨ä¸­</li>  <li>system_call.sä¸­å¢åŠ ç³»ç»Ÿè°ƒç”¨æ€»æ•°</li>  <li>makefileæ·»åŠ æ–°çš„ç³»ç»Ÿè°ƒç”¨æ‰€åœ¨æ–‡ä»¶çš„ç¼–è¯‘é“¾æ¥è§„åˆ™ï¼ˆä¾èµ–å…³ç³»ï¼‰</li></ul><h2 id="è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªä¸ç»Ÿè®¡"><a class="header-anchor" href="#è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªä¸ç»Ÿè®¡">ğŸŒŠ</a>è¿›ç¨‹è¿è¡Œè½¨è¿¹çš„è·Ÿè¸ªä¸ç»Ÿè®¡</h2><h3 id="process-c"><a class="header-anchor" href="#process-c">ğŸŒŠ</a>process.c</h3><ul>  <li>æ¶‰åŠåˆ°fork()å’Œwait()ç³»ç»Ÿè°ƒç”¨</li>  <li>ä¸»è¦å®ç°äº†ä¸€ä¸ªå‡½æ•°â€”â€”cpuio_bound()</li>  <li>ç”¨fork()å»ºç«‹è‹¥å¹²ä¸ªåŒæ—¶è¿è¡Œçš„å­ç¨‹åº</li>  <li>çˆ¶Pç­‰å¾…æ‰€æœ‰å­Pé€€å‡ºåæ‰é€€å‡ºï¼Œæ¯ä¸ªå­Pæ€§è´¨é€šè¿‡cpuio_bound()æ§åˆ¶æ€§è´¨</li></ul><h3 id="fork-c"><a class="header-anchor" href="#fork-c">ğŸŒŠ</a>fork.c</h3><ul>  <li>forkç³»ç»Ÿè°ƒç”¨å‡½æ•°</li></ul><h3 id="main-c"><a class="header-anchor" href="#main-c">ğŸŒŠ</a>main.c</h3><ul>  <li>å†…æ ¸çš„å…¥å£å‡½æ•°main()ï¼Œå¯¹å®ƒçš„ä¿®æ”¹æ˜¯å¢åŠ æ—¥å¿—åˆ›å»ºè¯­å¥ï¼Œå¹¶å°†logæ–‡ä»¶å…³è”åˆ°æ–‡ä»¶æè¿°ç¬¦logæ–‡ä»¶è®°å½•è¿›ç¨‹çŠ¶æ€è½¬æ¢è½¨è¿¹</li></ul><h3 id="kernel"><a class="header-anchor" href="#kernel">ğŸŒŠ</a>kernel</h3><p>ä¸»è¦å¯»æ‰¾è¿›ç¨‹çŠ¶æ€è½¬æ¢ç‚¹ï¼š</p><ul>  <li>printk.c</li>  <li>sched.c</li>  <li>exit.c</li></ul><h2 id="ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨"><a class="header-anchor" href="#ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨">ğŸŒŠ</a>ä¿¡å·é‡çš„å®ç°å’Œåº”ç”¨</h2><h3 id="sem-open"><a class="header-anchor" href="#sem-open">ğŸŒŠ</a>sem_open</h3><ul>  <li>æ‰“å¼€ä¿¡å·é‡</li></ul><h3 id="sem-wait"><a class="header-anchor" href="#sem-wait">ğŸŒŠ</a>sem_wait</h3><ul>  <li>ä¿¡å·é‡Pæ“ä½œâ€”â€”valueâ€“</li></ul><h3 id="sem-post"><a class="header-anchor" href="#sem-post">ğŸŒŠ</a>sem_post</h3><ul>  <li>ä¿¡å·é‡Væ“ä½œâ€”â€”value++</li></ul><h3 id="sem-unlink"><a class="header-anchor" href="#sem-unlink">ğŸŒŠ</a>sem_unlink</h3><ul>  <li>é‡Šæ”¾ä¿¡å·é‡</li></ul><h2 id="åœ°å€æ˜ å°„ä¸å…±äº«"><a class="header-anchor" href="#åœ°å€æ˜ å°„ä¸å…±äº«">ğŸŒŠ</a>åœ°å€æ˜ å°„ä¸å…±äº«</h2><h3 id="shm-c"><a class="header-anchor" href="#shm-c">ğŸŒŠ</a>shm.c</h3><ul>  <li>shmget()ï¼šå¾—åˆ°ä¸€ä¸ªå…±äº«å†…å­˜æ ‡è¯†ç¬¦æˆ–åˆ›å»ºä¸€ä¸ªå…±äº«å†…å­˜å¯¹è±¡å¹¶è¿”å›å…±äº«å†…å­˜æ ‡è¯†ç¬¦</li>  <li>shmat()ï¼šè¿æ¥å…±äº«å†…å­˜æ ‡è¯†ç¬¦ä¸ºshmidçš„å…±äº«å†…å­˜ï¼Œè¿æ¥æˆåŠŸåæŠŠå…±äº«å†…å­˜åŒºå¯¹è±¡æ˜ å°„åˆ°è°ƒç”¨è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œéšåå¯åƒæœ¬åœ°ç©ºé—´ä¸€æ ·è®¿é—®</li></ul><h3 id="sem-c"><a class="header-anchor" href="#sem-c">ğŸŒŠ</a>sem.c</h3><p>å®ç°ä¿¡å·é‡çš„å››ç§æ“ä½œï¼Œä¸å®éªŒå››ç›¸åŒ</p><h2 id="å­—ç¬¦æ˜¾ç¤ºçš„æ§åˆ¶"><a class="header-anchor" href="#å­—ç¬¦æ˜¾ç¤ºçš„æ§åˆ¶">ğŸŒŠ</a>å­—ç¬¦æ˜¾ç¤ºçš„æ§åˆ¶</h2><h3 id="keyboard-s"><a class="header-anchor" href="#keyboard-s">ğŸŒŠ</a>keyboard.S</h3><ul>  <li>æ·»åŠ å¯¹å­—ç¬¦F12çš„è¾“å…¥åˆ¤æ–­</li></ul><h3 id="console-c"><a class="header-anchor" href="#console-c">ğŸŒŠ</a>console.c</h3><ul>  <li>æ·»åŠ è¾“å‡ºåˆ°æ§åˆ¶å°çš„å­—ç¬¦æ§åˆ¶</li></ul><h3 id="file-dev-c"><a class="header-anchor" href="#file-dev-c">ğŸŒŠ</a>file_dev.c</h3><ul>  <li>æ·»åŠ è¾“å‡ºåˆ°æ–‡ä»¶çš„å­—ç¬¦æ§åˆ¶</li></ul><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/86743755/">http://meng.uno/posts/86743755/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;å“ˆå·¥å¤§ã€Šæ“ä½œç³»ç»Ÿã€‹å…­æ¬¡å®éªŒæ¯æ¬¡éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶è§ï¼š&lt;a href=&quot;http://www.meng.uno/os.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¿®æ”¹æ–‡ä»¶åˆ—è¡¨&lt;/a&gt;&lt;br&gt; æœ¬å®éªŒæ€»ç»“æºè‡ªgithubé¡¹
      
    
    </summary>
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="http://meng.uno/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="http://meng.uno/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>æ‰‹å†™æ•°å­—è¯†åˆ«ï¼ˆSVMï¼‰</title>
    <link href="http://meng.uno/posts/7dac38a/"/>
    <id>http://meng.uno/posts/7dac38a/</id>
    <published>2016-12-17T04:08:13.000Z</published>
    <updated>2018-02-09T10:46:20.940Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è°ƒç”¨ç¬¬ä¸‰æ–¹åº“"><a class="header-anchor" href="#è°ƒç”¨ç¬¬ä¸‰æ–¹åº“">ğŸŒŠ</a>è°ƒç”¨ç¬¬ä¸‰æ–¹åº“</h2><p>åœ¨æ­¤æˆ‘é€‰ç”¨çš„æ˜¯sk-learnçš„å…³äºsvmçš„åº“ï¼Œå…¶å…³äºæ­¤æ¬¡å®éªŒçš„svmå‡½æ•°å®šä¹‰ä¸ºï¼š<br> svm.SVC(C=8.0, kernel=â€˜rbfâ€™, gamma=0.1)<br> svm.SVC()å‡½æ•°çš„å‡ ä¸ªé‡è¦å‚æ•°åœ¨å…¶å®˜æ–¹çš„ä»‹ç»æ–‡æ¡£ä¸­æœ‰å¦‚ä¸‹çš„è§£é‡Šï¼š  <br> C :è¯¯å·®é¡¹çš„æƒ©ç½šå‚æ•°ï¼Œæµ®ç‚¹å‹ï¼Œå¯é€‰ (é»˜è®¤=1.0)ï¼›<br> kernel : æŒ‡å®šæ ¸å‡½æ•°ç±»å‹ï¼Œå­—ç¬¦å‹ï¼Œå¯é€‰ (é»˜è®¤=â€˜rbfâ€™)ï¼Œå¦‚æœä½¿ç”¨è‡ªå®šä¹‰çš„æ ¸å‡½æ•°ï¼Œéœ€è¦é¢„å…ˆè®¡ç®—æ ¸çŸ©é˜µï¼›<br> gamma : æµ®ç‚¹å‹, å¯é€‰ (é»˜è®¤=0.0)ï¼Œâ€™rbfâ€™æ ¸å‡½æ•°çš„ç³»æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ­¤å¤„çš„gammaä¸è¯¾æœ¬ä¸­çš„sigmaæ˜¯äº’ä¸ºå€’æ•°çš„å…³ç³»ï¼ˆæ‰€ä»¥å…¶å¯ä»¥ä¸º0ï¼‰ã€‚<br> å› ä¸ºæ˜¯è°ƒç”¨åˆ«äººçš„åº“ï¼ˆåº”è¯¥è¯´å®Œå…¨æ˜¯åˆ«äººçš„åŠŸåŠ³ï¼‰ï¼Œæ‰€ä»¥åœ¨å®ç°ä¸Šæ²¡æœ‰ä»€ä¹ˆå¯ä»¥è¯´çš„ã€‚</p><h3 id="ä»£ç "><a class="header-anchor" href="#ä»£ç ">ğŸŒŠ</a>ä»£ç </h3><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre>      </td>      <td class="code">        <pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">Created on Thu Dec  1 13:30:21 2016</span></span><br><span class="line"><span class="string">@author: kuangmeng</span></span><br><span class="line"><span class="string">ä½¿ç”¨SVMåˆ†ç±»å™¨ï¼Œä»MNISTæ•°æ®é›†ä¸­è¿›è¡Œæ‰‹å†™æ•°å­—è¯†åˆ«çš„åˆ†ç±»ç¨‹åº</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line">import cPickle</span><br><span class="line">import gzip</span><br><span class="line">from sklearn import svm</span><br><span class="line">import time</span><br><span class="line">def load_data():</span><br><span class="line">    <span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">    è¿”å›åŒ…å«è®­ç»ƒæ•°æ®ã€éªŒè¯æ•°æ®ã€æµ‹è¯•æ•°æ®çš„å…ƒç»„çš„æ¨¡å¼è¯†åˆ«æ•°æ®</span></span><br><span class="line"><span class="string">    "</span><span class="string">""</span></span><br><span class="line">    f = gzip.open(<span class="string">'data.gz'</span>, <span class="string">'rb'</span>)</span><br><span class="line">    training_data, validation_data, test_data = cPickle.load(f)</span><br><span class="line">    f.close()</span><br><span class="line">    return (training_data, validation_data, test_data)</span><br><span class="line">def Svm():</span><br><span class="line">    print (<span class="string">"å¼€å§‹æ—¶é—´ï¼š"</span>,<span class="selector-tag">time</span>.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>)) </span><br><span class="line">    training_data, validation_data, test_data = load_data()</span><br><span class="line">    # ä¼ é€’è®­ç»ƒæ¨¡å‹çš„å‚æ•°ï¼Œè¿™é‡Œç”¨é»˜è®¤çš„å‚æ•°</span><br><span class="line">    clf = svm.SVC(C=<span class="number">10.0</span>, kernel=<span class="string">'rbf'</span>, gamma=<span class="number">0.10</span>,cache_size=<span class="number">8000</span>,probability=False)</span><br><span class="line">    # è¿›è¡Œæ¨¡å‹è®­ç»ƒ</span><br><span class="line">    clf.fit(training_data[<span class="number">0</span>], training_data[<span class="number">1</span>])</span><br><span class="line">    # æµ‹è¯•é›†æµ‹è¯•é¢„æµ‹ç»“æœ</span><br><span class="line">    predictions = [int(a) <span class="keyword">for</span> <span class="selector-tag">a</span> <span class="keyword">in</span> clf.predict(test_data[<span class="number">0</span>])]</span><br><span class="line">    num_correct = sum(int(<span class="selector-tag">a</span> == y) <span class="keyword">for</span> <span class="selector-tag">a</span>, y <span class="keyword">in</span> zip(predictions, test_data[<span class="number">1</span>]))</span><br><span class="line">    print ("%s ä¸­çš„ %s æµ‹è¯•æ­£ç¡®ã€‚" % (num_correct, len(test_data[1])))</span><br><span class="line">    print (<span class="string">"ç»“æŸæ—¶é—´ï¼š"</span>,<span class="selector-tag">time</span>.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>))</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    Svm()</span><br></pre>      </td>    </tr>  </table></figure><h2 id="è‡ªå·±ç¼–ç¨‹å®ç°"><a class="header-anchor" href="#è‡ªå·±ç¼–ç¨‹å®ç°">ğŸŒŠ</a>è‡ªå·±ç¼–ç¨‹å®ç°</h2><p>åœ¨è‡ªå·±ç¼–ç¨‹å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¹Ÿå€Ÿé‰´äº†å¾ˆå¤šå…¶ä»–äººå†™çš„å¾ˆæˆç†Ÿçš„æ–¹æ¡ˆï¼Œæœ€ç»ˆä»æ•°æ®ç»“æ„ã€é€»è¾‘ç»“æ„ä»¥åŠç‰¹å¾è®¡ç®—ç­‰æ–¹é¢å¾—åˆ°æ¯”è¾ƒåˆç†çš„ä¸€ç»„ç­”æ¡ˆã€‚</p><h3 id="é€»è¾‘ç»“æ„"><a class="header-anchor" href="#é€»è¾‘ç»“æ„">ğŸŒŠ</a>é€»è¾‘ç»“æ„</h3><p>æœ¬æ¬¡å®éªŒçš„ç¨‹åºåˆ†ä¸ºâ€œè®­ç»ƒâ€å’Œâ€œæµ‹è¯•â€ä¸¤éƒ¨åˆ†ï¼Œä¸¤éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œçš„å·¥ä½œå¦‚ä¸‹ï¼š</p><h4 id="è®­ç»ƒ"><a class="header-anchor" href="#è®­ç»ƒ">ğŸŒŠ</a>è®­ç»ƒ</h4><p>åŠ è½½æ•°æ®<br> åˆå§‹åŒ–æ¨¡å‹  <br> æ›´æ–°æ ‡ç­¾  <br> åˆå§‹åŒ–é¢„æµ‹è¯¯å·®  <br> è¿­ä»£æ¯ä¸ªæ ·æœ¬ï¼ˆç”¨KTä¼˜åŒ–ï¼‰  <br> å¾—åˆ°æ¯ä¸ªæ ·æœ¬çš„æ¨¡å‹  <br> å¯¹æ­¥éª¤5çš„è§£é‡Šï¼š  <br> å¯¹äºsvmæˆ‘ä»¬è¦æ±‚è§£aï¼ˆæ•°ç»„ï¼‰ï¼Œå¦‚æœ açš„æ‰€æœ‰åˆ†é‡æ»¡è¶³svmå¯¹å¶é—®é¢˜çš„KKTæ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜çš„è§£å°±æ±‚å‡ºæ¥äº†ï¼Œæˆ‘ä»¬svmæ¨¡å‹å­¦ä¹ ä¹Ÿå°±å®Œæˆäº†ã€‚å¦‚æœæ²¡æœ‰æ»¡è¶³KKTï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±åœ¨ aä¸­æ‰¾ä¸¤ä¸ªåˆ†é‡ aiå’Œ ajï¼Œå…¶ä¸­ ai æ˜¯è¿åKKTæ¡ä»¶æœ€ä¸¥é‡çš„åˆ†é‡ï¼Œé€šè¿‡è®¡ç®—ï¼Œä½¿å¾— ai å’Œ ajæ»¡è¶³KKTæ¡ä»¶ï¼Œç›´åˆ°açš„æ‰€æœ‰åˆ†é‡éƒ½æ»¡è¶³KKTæ¡ä»¶ã€‚è€Œä¸”è¿™ä¸ªè®¡ç®—è¿‡ç¨‹æ˜¯æ”¶æ•›çš„ï¼Œå› ä¸ºæ¯æ¬¡è®¡ç®—å‡ºæ¥çš„æ–°çš„ä¸¤ä¸ªåˆ†é‡ï¼Œä½¿å¾—å¯¹å¶é—®é¢˜ä¸­è¦ä¼˜åŒ–çš„ç›®æ ‡å‡½æ•°å€¼æ›´å°ã€‚å› ä¸ºæ¯æ¬¡æ±‚è§£çš„é‚£ä¸¤ä¸ªåˆ†é‡ï¼Œæ˜¯è¦ä¼˜åŒ–é—®é¢˜åœ¨è¿™ä¸¤ä¸ªåˆ†é‡ä¸Šçš„æå°å€¼ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡ä¼˜åŒ–ï¼Œéƒ½ä¼šä½¿ç›®æ ‡å‡½æ•°æ¯”ä¸Šä¸€æ¬¡çš„ä¼˜åŒ–ç»“æœçš„å€¼å˜å°ã€‚</p><h4 id="æµ‹è¯•"><a class="header-anchor" href="#æµ‹è¯•">ğŸŒŠ</a>æµ‹è¯•</h4><p>åŠ è½½æ•°æ®<br> å¯¹æ¯ä¸ªæ•°æ®é¢„æµ‹  <br> è®¡ç®—æ­£ç¡®ç‡ä¸ç›¸å…³ä¿¡æ¯é€»è¾‘ç»“æ„  <br> ç‰¹å¾è®¡ç®—  <br> ä»¿ç…§KKTçš„ä¼˜åŒ–æ–¹æ³•ï¼Œåœ¨æœ¬æ¬¡è¯•éªŒä¸­ï¼Œæˆ‘å°†æ¯å¼ å›¾ç‰‡ä½œä¸ºä¸€ä¸ªæ•°æ®ã€‚ç”±æ­¤å¾—åˆ°å¯¹æ¯ä¸€ä¸ªæµ‹è¯•æ ·æœ¬çš„é¢„æµ‹ï¼ˆå¦‚æœåœ¨æŸä¸ªåˆ†ç±»çš„è®¡ç®—æ—¶ç»“æœä¸ºæ­£ï¼Œåˆ™è¯´æ˜è¯¥æµ‹è¯•æ ·æœ¬å±äºè¯¥ç±»åˆ«ï¼Œç»“æœä¸º0åˆ™ä¸å±äºæ­¤ç±»åˆ«ï¼‰ã€‚</p><h3 id="å…¶ä»–æ‚é¡¹"><a class="header-anchor" href="#å…¶ä»–æ‚é¡¹">ğŸŒŠ</a>å…¶ä»–æ‚é¡¹</h3><p>æ ¸å‡½æ•°é€‰æ‹©ï¼šæŒ‰ç…§ä¼ ç»Ÿï¼Œé€‰æ‹©çš„æ˜¯RBFæ ¸å‡½æ•°ï¼Œå‡½æ•°å½¢å¼ä¸æ•™æå®Œå…¨ç›¸åŒï¼›<br> æ•°æ®æ¥æºï¼šæ¥æºè‡ªç½‘å‹æ•´ç†ä¹‹åçš„æ•°æ®ï¼ˆæµ‹è¯•æ•°æ®ä¸è®­ç»ƒæ•°æ®æ²¡æœ‰å‡åˆ†ï¼‰ï¼›  <br> SMOä¼˜åŒ–ç®—æ³•ï¼š  <br> å–åˆå§‹å€¼a(0)=0ï¼Œä»¤K=0ï¼›  <br> é€‰å–ä¼˜åŒ–å˜é‡a1(k) , a2(k) , é’ˆå¯¹ä¼˜åŒ–é—®é¢˜ï¼Œæ±‚å¾—æœ€ä¼˜è§£ a1(k+1) , a2(k+1) æ›´æ–° a(k) ä¸º a(k+1) ï¼›<br> åœ¨ç²¾åº¦æ¡ä»¶èŒƒå›´å†…æ˜¯å¦æ»¡è¶³åœæœºæ¡ä»¶ï¼Œå³æ˜¯å¦æœ‰å˜é‡è¿åKKTæ¡ä»¶ï¼Œå¦‚æœè¿åäº†ï¼Œåˆ™ä»¤k=k+1ï¼Œè·³è½¬2ï¼Œå¦åˆ™4ï¼›  <br> æ±‚å¾—è¿‘ä¼¼è§£aÌ‚ =a(k+1)<br> å…¶ä¸­ç¬¬3æ­¥ä¸­ï¼Œæ˜¯å¦è¿åKKTæ¡ä»¶ï¼Œå¯¹äºa(k)çš„æ¯ä¸ªåˆ†é‡æŒ‰ç…§ä»¥ä¸‹çš„è¿åKKTæ¡ä»¶çš„å…¬å¼è¿›è¡ŒéªŒç®—å³å¯ã€‚  <br> å˜é‡é€‰å–åˆ†ä¸ºä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥æ˜¯é€‰å–è¿åKKTæ¡ä»¶æœ€ä¸¥é‡çš„aiï¼Œç¬¬äºŒæ­¥æ˜¯æ ¹æ®å·²ç»é€‰å–çš„ç¬¬ä¸€ä¸ªå˜é‡ï¼Œé€‰æ‹©ä¼˜åŒ–ç¨‹åº¦æœ€å¤§çš„ç¬¬äºŒä¸ªå˜é‡ã€‚  <br> è¿åKKTæ¡ä»¶æœ€ä¸¥é‡çš„å˜é‡å¯ä»¥æŒ‰ç…§è¿™æ ·çš„è§„åˆ™é€‰å–ï¼Œé¦–å…ˆçœ‹0&lt;ai&lt;Cçš„é‚£äº›åˆ†é‡ä¸­ï¼Œæ˜¯å¦æœ‰è¿åKKTæ¡ä»¶çš„ï¼Œå¦‚æœæœ‰ï¼Œåˆ™é€‰å–yig(xi)æœ€å°çš„é‚£ä¸ªåšä¸ºa1ã€‚å¦‚æœæ²¡æœ‰åˆ™éå†æ‰€æœ‰çš„æ ·æœ¬ç‚¹ï¼Œåœ¨è¿åKKTæ¡ä»¶çš„åˆ†é‡ä¸­é€‰å–yig(xi)æœ€å°çš„åšä¸ºa1ã€‚  <br> å½“é€‰æ‹©äº†a1åï¼Œå¦‚æœa1å¯¹åº”çš„E1ä¸ºæ­£ï¼Œé€‰æ‹©Eiæœ€å°çš„é‚£ä¸ªåˆ†é‡æœ€ä¸ºa2ï¼Œå¦‚æœE1ä¸ºè´Ÿï¼Œé€‰æ‹©Eiæœ€å¤§çš„é‚£ä¸ªåˆ†é‡æœ€ä¸ºa2ï¼Œè¿™æ˜¯å› ä¸ºanew2ä¾èµ–äº|E1âˆ’E2|ã€‚ å¦‚æœé€‰æ‹©çš„a2ï¼Œä¸èƒ½æ»¡è¶³ä¸‹é™çš„æœ€å°æ­¥é•¿ï¼Œé‚£ä¹ˆå°±éå†æ‰€æœ‰çš„æ”¯æŒå‘é‡ç‚¹åšä¸ºa2è¿›è¡Œè¯•ç”¨ï¼Œå¦‚æœä»ç„¶éƒ½ä¸èƒ½æ»¡è¶³ä¸‹é™çš„æœ€å°æ­¥é•¿ï¼Œé‚£ä¹ˆå°±éå†æ‰€æœ‰çš„æ ·æœ¬ç‚¹åšä¸ºa2è¯•ç”¨ã€‚å¦‚æœè¿˜ç®—æ˜¯ä¸èƒ½æ»¡è¶³ä¸‹é™çš„æœ€å°æ­¥é•¿ï¼Œé‚£ä¹ˆå°±é‡æ–°é€‰æ‹©a1ã€‚</p><h3 id="ä»£ç -v2"><a class="header-anchor" href="#ä»£ç -v2">ğŸŒŠ</a>ä»£ç </h3><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br></pre>      </td>      <td class="code">        <pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">Created on Sun Dec  4 14:24:53 2016</span></span><br><span class="line"><span class="string">@author: kuangmeng</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line">import time</span><br><span class="line">import os</span><br><span class="line">import math</span><br><span class="line">class model:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self<span class="selector-class">.a</span> = []</span><br><span class="line">        self<span class="selector-class">.b</span> = <span class="number">0.0</span>   </span><br><span class="line">class DATA:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.samples = []        # æ ·æœ¬æ•°æ®</span><br><span class="line">        self.tests = []          # æµ‹è¯•æ•°æ®</span><br><span class="line">        self.models = []         # è®­ç»ƒçš„æ¨¡å‹</span><br><span class="line">        self.forecasterror = []      # é¢„æµ‹çŸ¥ä¸çœŸå®yä¹‹å·®Ei</span><br><span class="line">        self.modelnum = 0         # å½“å‰æ­£ä½¿ç”¨æˆ–è®­ç»ƒçš„æ¨¡å‹</span><br><span class="line">        self.cache= []   # ç¼“å­˜kernelå‡½æ•°çš„è®¡ç®—ç»“æœ</span><br><span class="line">        self.sigma = 10        # sigma</span><br><span class="line">    def init_models(self):</span><br><span class="line">        <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">            m = model()</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(self.samples)):</span><br><span class="line">                m<span class="selector-class">.a</span><span class="selector-class">.append</span>(<span class="number">0</span>)</span><br><span class="line">            self<span class="selector-class">.models</span><span class="selector-class">.append</span>(m)</span><br><span class="line">    def init_cache(self):</span><br><span class="line">        <span class="selector-tag">i</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> self<span class="selector-class">.samples</span>: </span><br><span class="line">            print (<span class="string">"æ­£åœ¨è®¡ç®—ç¬¬"</span>,i+<span class="number">1</span>,<span class="string">"ä¸ªæ ·æœ¬çš„RBFæ ¸"</span>)</span><br><span class="line">            self<span class="selector-class">.cache</span><span class="selector-class">.append</span>([])</span><br><span class="line">            j = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> z <span class="keyword">in</span> self<span class="selector-class">.samples</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="selector-tag">i</span> &gt; j:</span><br><span class="line">                    self<span class="selector-class">.cache</span>[i].append(self<span class="selector-class">.cache</span>[j][i])</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    self<span class="selector-class">.cache</span>[i].append(RBF(x,z))</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="selector-tag">i</span> += <span class="number">1</span>                 </span><br><span class="line">class image:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self<span class="selector-class">.data</span> = []</span><br><span class="line">        self<span class="selector-class">.num</span> = <span class="number">0</span></span><br><span class="line">        self<span class="selector-class">.label</span> = []</span><br><span class="line">        self<span class="selector-class">.filename</span> = <span class="string">""</span></span><br><span class="line">gv = DATA()</span><br><span class="line"># RBFæ ¸å‡½æ•°</span><br><span class="line">def RBF(j, i):</span><br><span class="line">    <span class="keyword">if</span> j == <span class="selector-tag">i</span>:</span><br><span class="line">        return math.exp(<span class="number">0</span>)</span><br><span class="line">    sigma = gv.sigma</span><br><span class="line">    ret = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> m <span class="keyword">in</span> range(len(j.data)):</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> range(len(j<span class="selector-class">.data</span>[m])):</span><br><span class="line">            ret += math.pow(int(j<span class="selector-class">.data</span>[m][n]) - int(<span class="selector-tag">i</span><span class="selector-class">.data</span>[m][n]), <span class="number">2</span>)</span><br><span class="line">    ret = math.exp(-ret/sigma)</span><br><span class="line">    return ret</span><br><span class="line">#åŠ è½½æµ‹è¯•ä¸è®­ç»ƒæ•°æ®</span><br><span class="line">def loaddata(dirpath, name):</span><br><span class="line">    files = os.listdir(dirpath)</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        <span class="selector-tag">img</span> = image()</span><br><span class="line">        <span class="selector-tag">img</span><span class="selector-class">.data</span> = images(dirpath + file)</span><br><span class="line">        <span class="selector-tag">img</span><span class="selector-class">.num</span> = int(file[<span class="number">0</span>])</span><br><span class="line">        <span class="selector-tag">img</span><span class="selector-class">.filename</span> = file</span><br><span class="line">        name.append(img)</span><br><span class="line">#å›¾ç‰‡åˆ†åˆ—        </span><br><span class="line">def images(path):</span><br><span class="line">    <span class="selector-tag">img</span> = []</span><br><span class="line">    file = open(path, <span class="string">"r"</span>) </span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> file:</span><br><span class="line">        line = line[:-<span class="number">2</span>]</span><br><span class="line">        <span class="selector-tag">img</span>.append(line)</span><br><span class="line">    return <span class="selector-tag">img</span>  </span><br><span class="line">#æ›´æ–°æ ·æœ¬æ ‡ç­¾ï¼Œæ­£åœ¨è®­ç»ƒå•¥å°±å°†å•¥çš„æ ‡ç­¾å®šä¸º<span class="number">1</span>ï¼Œå…¶ä»–çš„å®šä¸º-<span class="number">1</span>    </span><br><span class="line">def update_samples_label(num):</span><br><span class="line">    <span class="keyword">for</span> <span class="selector-tag">img</span> <span class="keyword">in</span> gv<span class="selector-class">.samples</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="selector-tag">img</span><span class="selector-class">.num</span> == num:</span><br><span class="line">            <span class="selector-tag">img</span><span class="selector-class">.label</span><span class="selector-class">.append</span>(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="selector-tag">img</span><span class="selector-class">.label</span><span class="selector-class">.append</span>(-<span class="number">1</span>)          </span><br><span class="line">#åˆå§‹åŒ–DATA.forecasterror</span><br><span class="line">def init_forecasterror():</span><br><span class="line">    gv<span class="selector-class">.forecasterror</span> = []</span><br><span class="line">    <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(len(gv.samples)):</span><br><span class="line">        diff = <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(len(gv.samples)):</span><br><span class="line">            <span class="keyword">if</span> gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[j] != <span class="number">0</span>:</span><br><span class="line">                 diff += gv.models[gv.modelnum].a[j] * gv.samples[j].label[gv.modelnum] * gv.cache[j][i]</span><br><span class="line">        diff += gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.b</span> </span><br><span class="line">        diff -= gv<span class="selector-class">.samples</span>[i]<span class="selector-class">.label</span>[gv.modelnum]</span><br><span class="line">        gv<span class="selector-class">.forecasterror</span><span class="selector-class">.append</span>(diff)</span><br><span class="line">#æ›´æ–°DATA<span class="selector-class">.forecasterror</span>        </span><br><span class="line">def update_forecasterror(i, new_ai, j, new_bj, new_b):</span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> range(len(gv.samples)):</span><br><span class="line">        diff = (new_ai - gv.models[gv.modelnum].a[i])* gv.samples[i].label[gv.modelnum] * gv.cache[i][idx]</span><br><span class="line">        diff += (new_bj - gv.models[gv.modelnum].a[j])* gv.samples[j].label[gv.modelnum] * gv.cache[j][idx]</span><br><span class="line">        diff += new_b - gv<span class="selector-class">.models</span>[gv.modelnum].b</span><br><span class="line">        diff += gv<span class="selector-class">.forecasterror</span>[idx]</span><br><span class="line">        gv<span class="selector-class">.forecasterror</span>[idx] = diff</span><br><span class="line"># g(x)</span><br><span class="line">def predict(m):</span><br><span class="line">    pred = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(len(gv.samples)):</span><br><span class="line">        <span class="keyword">if</span> gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[j] != <span class="number">0</span>:</span><br><span class="line">            pred += gv.models[gv.modelnum].a[j] * gv.samples[j].label[gv.modelnum] * RBF(gv.samples[j],m)</span><br><span class="line">    pred += gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.b</span> </span><br><span class="line">    return pred</span><br><span class="line">def save_models():</span><br><span class="line">    <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        fn = open(<span class="string">"models/"</span> + str(i) + <span class="string">"_a.model"</span>, <span class="string">"w"</span>)</span><br><span class="line">        <span class="keyword">for</span> ai <span class="keyword">in</span> gv<span class="selector-class">.models</span>[i]<span class="selector-class">.a</span>:</span><br><span class="line">            fn.write(str(ai))</span><br><span class="line">            fn.write(<span class="string">'\n'</span>)</span><br><span class="line">        fn.close()</span><br><span class="line">        fn = open(<span class="string">"models/"</span> + str(i) + <span class="string">"_b.model"</span>, <span class="string">"w"</span>)</span><br><span class="line">        fn.write(str(gv<span class="selector-class">.models</span>[i].b))</span><br><span class="line">        fn.close()</span><br><span class="line">def load_models():</span><br><span class="line">    <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        fn = open(<span class="string">"models/"</span> + str(i) + <span class="string">"_a.model"</span>, <span class="string">"r"</span>)</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> line <span class="keyword">in</span> fn:</span><br><span class="line">            gv<span class="selector-class">.models</span>[i]<span class="selector-class">.a</span>[j] = <span class="attribute">float</span>(line)</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        fn.close()</span><br><span class="line">        fn = open(<span class="string">"models/"</span> + str(i) + <span class="string">"_b.model"</span>, <span class="string">"r"</span>)</span><br><span class="line">        gv.models[i].b = float(fn.readline())</span><br><span class="line">        fn.close()</span><br><span class="line">###</span><br><span class="line">#  T: tolerance è¯¯å·®å®¹å¿åº¦(ç²¾åº¦)</span><br><span class="line">#  times: è¿­ä»£æ¬¡æ•°</span><br><span class="line"># ä¼˜åŒ–æ–¹æ³•ï¼šSMO</span><br><span class="line">#  C: æƒ©ç½šç³»æ•°</span><br><span class="line">#  modelnum: æ¨¡å‹åºå·0åˆ°9</span><br><span class="line">#  step: ajç§»åŠ¨çš„æœ€å°æ­¥é•¿</span><br><span class="line">###</span><br><span class="line">def train(T, times, C, modelnum, step):</span><br><span class="line">    <span class="selector-tag">time</span> = <span class="number">0</span></span><br><span class="line">    gv<span class="selector-class">.modelnum</span> = modelnum</span><br><span class="line">    update_samples_label(modelnum)</span><br><span class="line">    init_forecasterror()</span><br><span class="line">    updated = True</span><br><span class="line">    while <span class="selector-tag">time</span> &lt; times and updated:</span><br><span class="line">        updated = False</span><br><span class="line">        <span class="selector-tag">time</span> += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(len(gv.samples)):</span><br><span class="line">            ai = gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[i]</span><br><span class="line">            Ei = gv<span class="selector-class">.forecasterror</span>[i]</span><br><span class="line">            #è®¡ç®—è¿èƒŒKKTçš„ç‚¹</span><br><span class="line">            if (gv.samples[i].label[gv.modelnum] * Ei &lt; -T and ai &lt; C) or (gv.samples[i].label[gv.modelnum] * Ei &gt; T and ai &gt; 0):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(len(gv.samples)):</span><br><span class="line">                    <span class="keyword">if</span> j == <span class="selector-tag">i</span>: continue</span><br><span class="line">                    kii = gv<span class="selector-class">.cache</span>[i][i]</span><br><span class="line">                    kjj = gv<span class="selector-class">.cache</span>[j][j]</span><br><span class="line">                    kji = kij = gv<span class="selector-class">.cache</span>[i][j] </span><br><span class="line">                    eta = kii + kjj - 2 * kij </span><br><span class="line">                    <span class="keyword">if</span> eta &lt;= <span class="number">0</span>: continue</span><br><span class="line">                    new_aj = gv.models[gv.modelnum].a[j] + gv.samples[j].label[gv.modelnum] * (gv.forecasterror[i] - gv.forecasterror[j]) / eta # f 7.106</span><br><span class="line">                    L = <span class="number">0.0</span></span><br><span class="line">                    H = <span class="number">0.0</span></span><br><span class="line">                    a1_old = gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[i]</span><br><span class="line">                    a2_old = gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[j]</span><br><span class="line">                    <span class="keyword">if</span> gv<span class="selector-class">.samples</span>[i]<span class="selector-class">.label</span>[gv.modelnum] == gv<span class="selector-class">.samples</span>[j]<span class="selector-class">.label</span>[gv.modelnum]:</span><br><span class="line">                        L = max(<span class="number">0</span>, a2_old + a1_old - C)</span><br><span class="line">                        H = min(C, a2_old + a1_old)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        L = max(<span class="number">0</span>, a2_old - a1_old)</span><br><span class="line">                        H = min(C, C + a2_old - a1_old)</span><br><span class="line">                    <span class="keyword">if</span> new_aj &gt; H:</span><br><span class="line">                        new_aj = H</span><br><span class="line">                    <span class="keyword">if</span> new_aj &lt; L:</span><br><span class="line">                        new_aj = L</span><br><span class="line">                    <span class="keyword">if</span> abs(a2_old - new_aj) &lt; step:</span><br><span class="line">                       # print ("j = %d, is not moving enough" % j)</span><br><span class="line">                        continue</span><br><span class="line">                    new_ai = a1_old + gv.samples[i].label[gv.modelnum] * gv.samples[j].label[gv.modelnum] * (a2_old - new_aj) # f 7.109 </span><br><span class="line">                    new_b1 = gv.models[gv.modelnum].b - gv.forecasterror[i] - gv.samples[i].label[gv.modelnum] * kii * (new_ai - a1_old) - gv.samples[j].label[gv.modelnum] * kji * (new_aj - a2_old) # f7.115</span><br><span class="line">                    new_b2 = gv.models[gv.modelnum].b - gv.forecasterror[j] - gv.samples[i].label[gv.modelnum]*kji*(new_ai - a1_old) - gv.samples[j].label[gv.modelnum]*kjj*(new_aj-a2_old)    # f7.116</span><br><span class="line">                    <span class="keyword">if</span> new_ai &gt; <span class="number">0</span> and new_ai &lt; C: new_b = new_b1</span><br><span class="line">                    elif new_aj &gt; <span class="number">0</span> and new_aj &lt; C: new_b = new_b2</span><br><span class="line">                    <span class="keyword">else</span>: new_b = (new_b1 + new_b2) / <span class="number">2.0</span></span><br><span class="line">                    update_forecasterror(<span class="selector-tag">i</span>, new_ai, j, new_aj, new_b)</span><br><span class="line">                    gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[i] = new_ai</span><br><span class="line">                    gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.a</span>[j] = new_aj</span><br><span class="line">                    gv<span class="selector-class">.models</span>[gv.modelnum]<span class="selector-class">.b</span> = new_b</span><br><span class="line">                    updated = True</span><br><span class="line">                    print ("è¿­ä»£æ¬¡æ•°: %d, ä¿®æ”¹ç»„åˆ: i: %d ä¸ j:%d" %(time, i, j))</span><br><span class="line">                    break</span><br><span class="line"># æµ‹è¯•æ•°æ®</span><br><span class="line">def test():</span><br><span class="line">    record = <span class="number">0</span></span><br><span class="line">    record_correct = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> <span class="selector-tag">img</span> <span class="keyword">in</span> gv<span class="selector-class">.tests</span>: </span><br><span class="line">        print (<span class="string">"æ­£åœ¨æµ‹è¯•ï¼š"</span>, <span class="selector-tag">img</span>.filename)</span><br><span class="line">        <span class="keyword">for</span> modelnum <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">            gv<span class="selector-class">.modelnum</span> = modelnum</span><br><span class="line">            <span class="keyword">if</span> predict(img) &gt; <span class="number">0</span>:</span><br><span class="line">                print (<span class="string">"æµ‹è¯•ç»“æœï¼š"</span>,modelnum)</span><br><span class="line">                record += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> modelnum == int(<span class="selector-tag">img</span><span class="selector-class">.filename</span>[<span class="number">0</span>]):</span><br><span class="line">                    record_correct += <span class="number">1</span></span><br><span class="line">                break</span><br><span class="line">    print (<span class="string">"ç›¸å…³è®°å½•æ•°é‡:"</span>, record)</span><br><span class="line">    print (<span class="string">"æ­£ç¡®è¯†åˆ«æ•°é‡:"</span>, record_correct)</span><br><span class="line">    print (<span class="string">"æ­£ç¡®è¯†åˆ«æ¯”ä¾‹:"</span>, record_correct/record)</span><br><span class="line">    print (<span class="string">"æµ‹è¯•æ•°æ®æ€»é‡:"</span>, len(gv.tests))</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    print (<span class="string">"å¼€å§‹æ—¶é—´ï¼š"</span>,<span class="selector-tag">time</span>.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>)) </span><br><span class="line">    training = True</span><br><span class="line">    loaddata(<span class="string">"train/"</span>, gv.samples)</span><br><span class="line">    loaddata(<span class="string">"test/"</span>, gv.tests)    </span><br><span class="line">    print (<span class="string">"è®­ç»ƒæ•°æ®ä¸ªæ•°ï¼š"</span>,len(gv.samples))</span><br><span class="line">    print (<span class="string">"æµ‹è¯•æ•°æ®ä¸ªæ•°ï¼š"</span>,len(gv.tests))</span><br><span class="line">    <span class="keyword">if</span> training == True:</span><br><span class="line">        gv.init_cache()</span><br><span class="line">        gv.init_models()</span><br><span class="line">    print (<span class="string">"æ¨¡å‹åˆå§‹åŒ–æˆåŠŸï¼"</span>) </span><br><span class="line">    print (<span class="string">"å½“å‰æ—¶é—´ï¼š"</span>,<span class="selector-tag">time</span>.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>))        </span><br><span class="line">    T = <span class="number">0.0001</span></span><br><span class="line">    C = <span class="number">10</span></span><br><span class="line">    step = <span class="number">0.001</span></span><br><span class="line">    gv<span class="selector-class">.sigma</span> = <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> training == True:</span><br><span class="line">       <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">            print (<span class="string">"æ­£åœ¨è®­ç»ƒæ¨¡å‹:"</span>, i)</span><br><span class="line">            train(T, <span class="number">10</span>, C, <span class="selector-tag">i</span>, step)</span><br><span class="line">            save_models()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        load_models()</span><br><span class="line">        <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">            update_samples_label(i)</span><br><span class="line">    print (<span class="string">"è®­ç»ƒå®Œæˆæ—¶é—´ï¼š"</span>,<span class="selector-tag">time</span>.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>)) </span><br><span class="line">    test()</span><br><span class="line">    print (<span class="string">"æµ‹è¯•å®Œæˆæ—¶é—´ï¼š"</span>,<span class="selector-tag">time</span>.strftime(<span class="string">'%Y-%m-%d %H:%M:%S'</span>))</span><br></pre>      </td>    </tr>  </table></figure><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/7dac38a/">http://meng.uno/posts/7dac38a/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è°ƒç”¨ç¬¬ä¸‰æ–¹åº“&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#è°ƒç”¨ç¬¬ä¸‰æ–¹åº“&quot;&gt;ğŸŒŠ&lt;/a&gt;è°ƒç”¨ç¬¬ä¸‰æ–¹åº“&lt;/h2&gt;
&lt;p&gt;åœ¨æ­¤æˆ‘é€‰ç”¨çš„æ˜¯sk-learnçš„å…³äºsvmçš„åº“ï¼Œå…¶å…³äºæ­¤æ¬¡å®éªŒçš„svmå‡½æ•°å®šä¹‰ä¸ºï¼š&lt;br&gt; svm.SVC(C=8.0, ke
      
    
    </summary>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>å¤šé¡¹å¼æ‹Ÿåˆæ›²çº¿â€”â€”æœ€å°äºŒä¹˜æ³•</title>
    <link href="http://meng.uno/posts/1af17fd9/"/>
    <id>http://meng.uno/posts/1af17fd9/</id>
    <published>2016-12-17T03:59:39.000Z</published>
    <updated>2018-02-09T10:46:20.929Z</updated>
    
    <content type="html"><![CDATA[<p>ç›´æ¥ä¸Šä»£ç ï¼Œæœ€å°äºŒä¹˜æ³•æ¯”è¾ƒç®€å•ï¼Œåœ¨æ‹Ÿåˆæ•ˆæœä¸Šä¹Ÿç›¸å½“ä¸é”™ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre>      </td>      <td class="code">        <pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import matplotlib<span class="selector-class">.pyplot</span> as plt</span><br><span class="line">import numpy</span><br><span class="line">import random</span><br><span class="line"></span><br><span class="line">f = plt.figure()</span><br><span class="line">draw = f.add_subplot(<span class="number">111</span>)</span><br><span class="line">#æ‹Ÿåˆå‡½æ•°çš„æ¬¡æ•°é™åˆ¶</span><br><span class="line">times=<span class="number">9</span></span><br><span class="line">tail=times+<span class="number">1</span></span><br><span class="line">x = numpy.arange(-<span class="number">2</span>,<span class="number">2</span>,<span class="number">0.1</span>)</span><br><span class="line">y = [((xi-<span class="number">1</span>)*(xi*xi-<span class="number">1</span>)+<span class="number">0.5</span>)*numpy.cos(xi) <span class="keyword">for</span> xi <span class="keyword">in</span> x]</span><br><span class="line">#æ‰€æœ‰ä½¿ç”¨åˆ°çš„å…¨å±€å˜é‡å£°æ˜</span><br><span class="line">i=<span class="number">0</span></span><br><span class="line">xlabel=[]</span><br><span class="line">ylabel=[]</span><br><span class="line">A=[]</span><br><span class="line">B=[]</span><br><span class="line">tempA=[]</span><br><span class="line">tempB=[]</span><br><span class="line">X=[]</span><br><span class="line">Y=[]</span><br><span class="line">#-----------------------------</span><br><span class="line">#ç”Ÿæˆæ•°æ®ï¼ŒåŠ å…¥coså‡½æ•°ï¼Œä½œä¸ºå™ªå£°ï¼</span><br><span class="line"><span class="keyword">for</span> xi <span class="keyword">in</span> x:</span><br><span class="line">    r=float(random.randint(80,100))/100</span><br><span class="line">    xlabel.append(xi*r)</span><br><span class="line">    ylabel.append(y[i]*r)</span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">draw.plot(xlabel,ylabel,<span class="attribute">color</span>=<span class="string">'b'</span>,linestyle=<span class="string">''</span>,marker=<span class="string">'*'</span>)</span><br><span class="line">length=len(xlabel)</span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">0</span>,tail):</span><br><span class="line">tempA=[]</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,tail):</span><br><span class="line">temp=<span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>,length):</span><br><span class="line">d=<span class="number">1.0</span></span><br><span class="line"><span class="keyword">for</span> m <span class="keyword">in</span> range(<span class="number">0</span>,j+i):</span><br><span class="line">d=d*xlabel[k]</span><br><span class="line">temp+=d</span><br><span class="line">tempA.append(temp)</span><br><span class="line">A.append(tempA)</span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">0</span>,tail):</span><br><span class="line">temp=<span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>,length):</span><br><span class="line">d=<span class="number">1.0</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,i):</span><br><span class="line">d=d*xlabel[k]</span><br><span class="line">temp+=ylabel[k]*d</span><br><span class="line">B.append(temp)</span><br><span class="line"> #Xä¸ºå¯è¡Œè§£</span><br><span class="line">X=numpy<span class="selector-class">.linalg</span><span class="selector-class">.solve</span>(A,B)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(<span class="string">'å¯è¡Œè§£a(xçš„ç³»æ•°)çš„çŸ©é˜µè¡¨ç¤ºä¸ºï¼š[a0,---,a%d]'</span>%(times)</span></span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(X)</span></span></span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">0</span>,length):</span><br><span class="line">temp=<span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,tail):</span><br><span class="line">d=<span class="number">1.0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>,j):</span><br><span class="line">d*=x[i]</span><br><span class="line">d*=X[j]</span><br><span class="line">temp+=d</span><br><span class="line">Y.append(temp)</span><br><span class="line">draw.plot(x,Y,<span class="attribute">color</span>=<span class="string">'r'</span>,linestyle=<span class="string">'-'</span>,marker=<span class="string">'.'</span>)</span><br></pre>      </td>    </tr>  </table></figure><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/1af17fd9/">http://meng.uno/posts/1af17fd9/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç›´æ¥ä¸Šä»£ç ï¼Œæœ€å°äºŒä¹˜æ³•æ¯”è¾ƒç®€å•ï¼Œåœ¨æ‹Ÿåˆæ•ˆæœä¸Šä¹Ÿç›¸å½“ä¸é”™ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&quot;gutter&quot;&gt;
        &lt;pre&gt;&lt;span class=
      
    
    </summary>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</title>
    <link href="http://meng.uno/posts/6c0d033f/"/>
    <id>http://meng.uno/posts/6c0d033f/</id>
    <published>2016-12-17T03:52:21.000Z</published>
    <updated>2018-02-09T10:46:20.932Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®éªŒè¦æ±‚"><a class="header-anchor" href="#å®éªŒè¦æ±‚">ğŸŒŠ</a>å®éªŒè¦æ±‚</h2><h3 id="å®éªŒç›®æ ‡"><a class="header-anchor" href="#å®éªŒç›®æ ‡">ğŸŒŠ</a>å®éªŒç›®æ ‡</h3><p>å®ç°ä¸€ä¸ªPCAæ¨¡å‹ï¼Œèƒ½å¤Ÿå¯¹ç»™å®šæ•°æ®è¿›è¡Œé™ç»´ï¼ˆå³æ‰¾åˆ°å…¶ä¸­çš„ä¸»æˆåˆ†ï¼‰</p><h3 id="å®éªŒè¿‡ç¨‹"><a class="header-anchor" href="#å®éªŒè¿‡ç¨‹">ğŸŒŠ</a>å®éªŒè¿‡ç¨‹</h3><p>é¦–å…ˆäººå·¥ç”Ÿæˆä¸€äº›æ•°æ®ï¼ˆå¦‚ä¸‰ç»´æ•°æ®ï¼‰ï¼Œè®©å®ƒä»¬ä¸»è¦åˆ†å¸ƒåœ¨ä½ç»´ç©ºé—´ä¸­ï¼Œå¦‚é¦–å…ˆè®©æŸä¸ªç»´åº¦çš„æ–¹å·®è¿œå°äºå…¶å®ƒç»´åº¦ï¼Œç„¶åå¯¹è¿™äº›æ•°æ®æ—‹è½¬ã€‚ç”Ÿæˆè¿™äº›æ•°æ®åï¼Œç”¨ä½ çš„PCAæ–¹æ³•è¿›è¡Œä¸»æˆåˆ†æå–ã€‚</p><p>æ‰¾ä¸€ä¸ªäººè„¸æ•°æ®ï¼ˆå°ç‚¹æ ·æœ¬é‡ï¼‰ï¼Œç”¨ä½ å®ç°PCAæ–¹æ³•å¯¹è¯¥æ•°æ®é™ç»´ï¼Œæ‰¾å‡ºä¸€äº›ä¸»æˆåˆ†ï¼Œç„¶åç”¨è¿™äº›ä¸»æˆåˆ†å¯¹æ¯ä¸€å‰¯äººè„¸å›¾åƒè¿›è¡Œé‡å»ºï¼Œæ¯”è¾ƒä¸€äº›å®ƒä»¬ä¸åŸå›¾åƒæœ‰å¤šå¤§å·®åˆ«ï¼ˆç”¨ä¿¡å™ªæ¯”è¡¡é‡ï¼‰ã€‚</p><h2 id="å®éªŒå‡†å¤‡"><a class="header-anchor" href="#å®éªŒå‡†å¤‡">ğŸŒŠ</a>å®éªŒå‡†å¤‡</h2><h3 id="é™ç»´çš„å¿…è¦"><a class="header-anchor" href="#é™ç»´çš„å¿…è¦">ğŸŒŠ</a>é™ç»´çš„å¿…è¦</h3><p>å¤šé‡å…±çº¿æ€§â€“é¢„æµ‹å˜é‡ä¹‹é—´ç›¸äº’å…³è”ã€‚å¤šé‡å…±çº¿æ€§ä¼šå¯¼è‡´è§£ç©ºé—´çš„ä¸ç¨³å®šï¼Œä»è€Œå¯èƒ½å¯¼è‡´ç»“æœçš„ä¸è¿è´¯ã€‚</p><p>é«˜ç»´ç©ºé—´æœ¬èº«å…·æœ‰ç¨€ç–æ€§ã€‚ä¸€ç»´æ­£æ€åˆ†å¸ƒæœ‰68%çš„å€¼è½äºæ­£è´Ÿæ ‡å‡†å·®ä¹‹é—´ï¼Œè€Œåœ¨åç»´ç©ºé—´ä¸Šåªæœ‰0.02%ã€‚</p><p>è¿‡å¤šçš„å˜é‡ä¼šå¦¨ç¢æŸ¥æ‰¾è§„å¾‹çš„å»ºç«‹ã€‚</p><p>ä»…åœ¨å˜é‡å±‚é¢ä¸Šåˆ†æå¯èƒ½ä¼šå¿½ç•¥å˜é‡ä¹‹é—´çš„æ½œåœ¨è”ç³»ã€‚ä¾‹å¦‚å‡ ä¸ªé¢„æµ‹å˜é‡å¯èƒ½è½å…¥ä»…åæ˜ æ•°æ®æŸä¸€æ–¹é¢ç‰¹å¾çš„ä¸€ä¸ªç»„å†…ã€‚</p><h3 id="é™ç»´çš„ç›®çš„"><a class="header-anchor" href="#é™ç»´çš„ç›®çš„">ğŸŒŠ</a>é™ç»´çš„ç›®çš„</h3><ul>  <li>å‡å°‘é¢„æµ‹å˜é‡çš„ä¸ªæ•°</li>  <li>ç¡®ä¿è¿™äº›å˜é‡æ˜¯ç›¸äº’ç‹¬ç«‹çš„</li>  <li>æä¾›ä¸€ä¸ªæ¡†æ¶æ¥è§£é‡Šç»“æœ</li>  <li>é™ç»´çš„æ–¹æ³•</li>  <li>ä¸»æˆåˆ†åˆ†æ</li>  <li>å› å­åˆ†æ</li>  <li>ç”¨æˆ·è‡ªå®šä¹‰å¤åˆ</li></ul><h2 id="æœ‰å…³pca"><a class="header-anchor" href="#æœ‰å…³pca">ğŸŒŠ</a>æœ‰å…³PCA</h2><h3 id="pcaæ¦‚å¿µ"><a class="header-anchor" href="#pcaæ¦‚å¿µ">ğŸŒŠ</a>PCAæ¦‚å¿µ</h3><p>ä¸»æˆåˆ†åˆ†æ ï¼ˆ Principal Component Analysis ï¼Œ PCA ï¼‰æˆ–è€…ä¸»å…ƒåˆ†æã€‚æ˜¯ä¸€ç§æŒæ¡äº‹ç‰©ä¸»è¦çŸ›ç›¾çš„ç»Ÿè®¡åˆ†ææ–¹æ³•ï¼Œå®ƒå¯ä»¥ä»å¤šå…ƒäº‹ç‰©ä¸­è§£æå‡ºä¸»è¦å½±å“å› ç´ ï¼Œæ­ç¤ºäº‹ç‰©çš„æœ¬è´¨ï¼Œç®€åŒ–å¤æ‚çš„é—®é¢˜ã€‚è®¡ç®—ä¸»æˆåˆ†çš„ç›®çš„æ˜¯å°†é«˜ç»´æ•°æ®æŠ•å½±åˆ°è¾ƒä½ç»´ç©ºé—´ã€‚ç»™å®š n ä¸ªå˜é‡çš„ m ä¸ªè§‚å¯Ÿå€¼ï¼Œå½¢æˆä¸€ä¸ª n * m çš„æ•°æ®çŸ©é˜µï¼Œ n é€šå¸¸æ¯”è¾ƒå¤§ã€‚å¯¹äºä¸€ä¸ªç”±å¤šä¸ªå˜é‡æè¿°çš„å¤æ‚äº‹ç‰©ï¼Œäººä»¬éš¾ä»¥è®¤è¯†ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥æŠ“ä½äº‹ç‰©ä¸»è¦æ–¹é¢è¿›è¡Œé‡ç‚¹åˆ†æå‘¢ï¼Ÿå¦‚æœäº‹ç‰©çš„ä¸»è¦æ–¹é¢åˆšå¥½ä½“ç°åœ¨å‡ ä¸ªä¸»è¦å˜é‡ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¿™å‡ ä¸ªå˜é‡åˆ†ç¦»å‡ºæ¥ï¼Œè¿›è¡Œè¯¦ç»†åˆ†æã€‚ä½†æ˜¯ï¼Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¹¶ä¸èƒ½ç›´æ¥æ‰¾å‡ºè¿™æ ·çš„å…³é”®å˜é‡ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥ç”¨åŸæœ‰å˜é‡çš„çº¿æ€§ç»„åˆæ¥è¡¨ç¤ºäº‹ç‰©çš„ä¸»è¦æ–¹é¢ï¼Œ  PCA å°±æ˜¯è¿™æ ·ä¸€ç§åˆ†ææ–¹æ³•ã€‚</p><h3 id="pcaä½œç”¨èŒƒå›´"><a class="header-anchor" href="#pcaä½œç”¨èŒƒå›´">ğŸŒŠ</a>PCAä½œç”¨èŒƒå›´</h3><p>PCA ä¸»è¦ç”¨äºæ•°æ®é™ç»´ï¼Œå¯¹äºä¸€ç³»åˆ—ä¾‹å­çš„ç‰¹å¾ç»„æˆçš„å¤šç»´å‘é‡ï¼Œå¤šç»´å‘é‡é‡Œçš„æŸäº›å…ƒç´ æœ¬èº«æ²¡æœ‰åŒºåˆ†æ€§ï¼Œæ¯”å¦‚æŸä¸ªå…ƒç´ åœ¨æ‰€æœ‰çš„ä¾‹å­ä¸­éƒ½ä¸º1ï¼Œæˆ–è€…ä¸1å·®è·ä¸å¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ æœ¬èº«å°±æ²¡æœ‰åŒºåˆ†æ€§ï¼Œç”¨å®ƒåšç‰¹å¾æ¥åŒºåˆ†ï¼Œè´¡çŒ®ä¼šéå¸¸å°ã€‚æ‰€ä»¥æˆ‘ä»¬çš„ç›®çš„æ˜¯æ‰¾é‚£äº›å˜åŒ–å¤§çš„å…ƒç´ ï¼Œå³æ–¹å·®å¤§çš„é‚£äº›ç»´ï¼Œè€Œå»é™¤æ‰é‚£äº›å˜åŒ–ä¸å¤§çš„ç»´ï¼Œä»è€Œä½¿ç‰¹å¾ç•™ä¸‹çš„éƒ½æ˜¯â€œç²¾å“â€ï¼Œè€Œä¸”è®¡ç®—é‡ä¹Ÿå˜å°äº†ã€‚ å¯¹äºä¸€ä¸ªKç»´çš„ç‰¹å¾æ¥è¯´ï¼Œç›¸å½“äºå®ƒçš„æ¯ä¸€ç»´ç‰¹å¾ä¸å…¶ä»–ç»´éƒ½æ˜¯æ­£äº¤çš„ï¼ˆç›¸å½“äºåœ¨å¤šç»´åæ ‡ç³»ä¸­ï¼Œåæ ‡è½´éƒ½æ˜¯å‚ç›´çš„ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å˜åŒ–è¿™äº›ç»´çš„åæ ‡ç³»ï¼Œä»è€Œä½¿è¿™ä¸ªç‰¹å¾åœ¨æŸäº›ç»´ä¸Šæ–¹å·®å¤§ï¼Œè€Œåœ¨æŸäº›ç»´ä¸Šæ–¹å·®å¾ˆå°ã€‚</p><h3 id="pcaçš„ç®—æ³•æ­¥éª¤"><a class="header-anchor" href="#pcaçš„ç®—æ³•æ­¥éª¤">ğŸŒŠ</a>PCAçš„ç®—æ³•æ­¥éª¤</h3><ol>  <li>    <p>è®¾æœ‰mæ¡nç»´æ•°æ®ã€‚</p>  </li>  <li>    <p>å°†åŸå§‹æ•°æ®æŒ‰åˆ—ç»„æˆnè¡Œmåˆ—çŸ©é˜µX</p>  </li>  <li>    <p>å°†Xçš„æ¯ä¸€è¡Œï¼ˆä»£è¡¨ä¸€ä¸ªå±æ€§å­—æ®µï¼‰è¿›è¡Œé›¶å‡å€¼åŒ–ï¼Œå³å‡å»è¿™ä¸€è¡Œçš„å‡å€¼</p>  </li>  <li>    <p>æ±‚å‡ºåæ–¹å·®çŸ©é˜µC=1/mXXâ€™</p>  </li>  <li>    <p>æ±‚å‡ºåæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼åŠå¯¹åº”çš„ç‰¹å¾å‘é‡</p>  </li>  <li>    <p>å°†ç‰¹å¾å‘é‡æŒ‰å¯¹åº”ç‰¹å¾å€¼å¤§å°ä»ä¸Šåˆ°ä¸‹æŒ‰è¡Œæ’åˆ—æˆçŸ©é˜µï¼Œå–å‰kè¡Œç»„æˆçŸ©é˜µP</p>  </li>  <li>    <p>Y=PXå³ä¸ºé™ç»´åˆ°kç»´åçš„æ•°æ®</p>  </li></ol><h2 id="å®éªŒç¯å¢ƒ"><a class="header-anchor" href="#å®éªŒç¯å¢ƒ">ğŸŒŠ</a>å®éªŒç¯å¢ƒ</h2><p>Spyder ä½œä¸ºPythonå¼€å‘çš„é›†æˆå¼€å‘ç¯å¢ƒï¼›<br> ç¼–ç¨‹è¯­è¨€ï¼šPython 3.5<br> æ“ä½œç³»ç»Ÿï¼šmacOS Sierra</p><h2 id="å°ç»“"><a class="header-anchor" href="#å°ç»“">ğŸŒŠ</a>å°ç»“</h2><h3 id="pcaçš„åº”ç”¨åˆ†æ"><a class="header-anchor" href="#pcaçš„åº”ç”¨åˆ†æ">ğŸŒŠ</a>PCAçš„åº”ç”¨åˆ†æ</h3><p>å¯¹äºä¸€ä¸ªè®­ç»ƒé›†ï¼Œ100ä¸ªå¯¹è±¡æ¨¡æ¿ï¼Œç‰¹å¾æ˜¯10ç»´ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥å»ºç«‹ä¸€ä¸ª100*10çš„çŸ©é˜µï¼Œä½œä¸ºæ ·æœ¬ã€‚æ±‚è¿™ä¸ªæ ·æœ¬çš„åæ–¹å·®çŸ©é˜µï¼Œå¾—åˆ°ä¸€ä¸ª10*10çš„åæ–¹å·®çŸ©é˜µï¼Œç„¶åæ±‚å‡ºè¿™ä¸ªåæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œåº”è¯¥æœ‰10ä¸ªç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œæˆ‘ä»¬æ ¹æ®ç‰¹å¾å€¼çš„å¤§å°ï¼Œå–å‰å››ä¸ªç‰¹å¾å€¼æ‰€å¯¹åº”çš„ç‰¹å¾å‘é‡ï¼Œæ„æˆä¸€ä¸ª10*4çš„çŸ©é˜µï¼Œè¿™ä¸ªçŸ©é˜µå°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„ç‰¹å¾çŸ©é˜µï¼Œ100*10çš„æ ·æœ¬çŸ©é˜µä¹˜ä»¥è¿™ä¸ª10*4çš„ç‰¹å¾çŸ©é˜µï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ª100*4çš„æ–°çš„é™ç»´ä¹‹åçš„æ ·æœ¬çŸ©é˜µï¼Œæ¯ä¸ªç‰¹å¾çš„ç»´æ•°ä¸‹é™äº†ã€‚å½“ç»™å®šä¸€ä¸ªæµ‹è¯•çš„ç‰¹å¾é›†ä¹‹åï¼Œæ¯”å¦‚1*10ç»´çš„ç‰¹å¾ï¼Œä¹˜ä»¥ä¸Šé¢å¾—åˆ°çš„10*4çš„ç‰¹å¾çŸ©é˜µï¼Œä¾¿å¯ä»¥å¾—åˆ°ä¸€ä¸ª1*4çš„ç‰¹å¾ï¼Œç”¨è¿™ä¸ªç‰¹å¾å»åˆ†ç±»ã€‚æ‰€ä»¥åšPCAå®é™…ä¸Šæ˜¯æ±‚å¾—è¿™ä¸ªæŠ•å½±çŸ©é˜µï¼Œç”¨é«˜ç»´çš„ç‰¹å¾ä¹˜ä»¥è¿™ä¸ªæŠ•å½±çŸ©é˜µï¼Œä¾¿å¯ä»¥å°†é«˜ç»´ç‰¹å¾çš„ç»´æ•°ä¸‹é™åˆ°æŒ‡å®šçš„ç»´æ•°ã€‚</p><p>åœ¨è¿›è¡ŒåŸºå› è¡¨è¾¾æ•°æ®åˆ†ææ—¶ï¼Œä¸€ä¸ªé‡è¦é—®é¢˜æ˜¯ç¡®å®šæ¯ä¸ªå®éªŒæ•°æ®æ˜¯å¦æ˜¯ç‹¬ç«‹çš„ï¼Œå¦‚æœæ¯æ¬¡å®éªŒæ•°æ®ä¹‹é—´ä¸æ˜¯ç‹¬ç«‹çš„ï¼Œåˆ™ä¼šå½±å“åŸºå› è¡¨è¾¾æ•°æ®åˆ†æç»“æœçš„å‡†ç¡®æ€§ã€‚å¯¹äºåˆ©ç”¨åŸºå› èŠ¯ç‰‡æ‰€æ£€æµ‹åˆ°çš„åŸºå› è¡¨è¾¾æ•°æ®ï¼Œå¦‚æœç”¨ PCA æ–¹æ³•è¿›è¡Œåˆ†æï¼Œå¯ä»¥å°†å„ä¸ªåŸºå› ä½œä¸ºå˜é‡ï¼Œä¹Ÿå¯ä»¥å°†å®éªŒæ¡ä»¶ä½œä¸ºå˜é‡ã€‚å½“å°†åŸºå› ä½œä¸ºå˜é‡æ—¶ï¼Œé€šè¿‡åˆ†æç¡®å®šä¸€ç»„â€œä¸»è¦åŸºå› å…ƒç´ â€ï¼Œå®ƒä»¬èƒ½å¤Ÿå¾ˆå¥½åœ°è¯´æ˜åŸºå› çš„ç‰¹å¾ï¼Œè§£é‡Šå®éªŒç°è±¡ï¼›å½“å°†å®éªŒæ¡ä»¶ä½œä¸ºå˜é‡æ—¶ï¼Œé€šè¿‡åˆ†æç¡®å®šä¸€ç»„â€œä¸»è¦å®éªŒå› ç´ â€ï¼Œå®ƒä»¬èƒ½å¤Ÿå¾ˆå¥½åœ°åˆ»ç”»å®éªŒæ¡ä»¶çš„ç‰¹å¾ï¼Œè§£é‡ŠåŸºå› çš„è¡Œä¸ºã€‚</p><p>PCAä½œä¸ºåŸºç¡€çš„æ•°å­¦åˆ†ææ–¹æ³•ï¼Œå…¶å®é™…åº”ç”¨ååˆ†å¹¿æ³›ï¼Œæ¯”å¦‚äººå£ç»Ÿè®¡å­¦ã€æ•°é‡åœ°ç†å­¦ã€åˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿã€æ•°å­¦å»ºæ¨¡ã€æ•°ç†åˆ†æç­‰å­¦ç§‘ä¸­å‡æœ‰åº”ç”¨ï¼Œæ˜¯ä¸€ç§å¸¸ç”¨çš„å¤šå˜é‡åˆ†ææ–¹æ³•ã€‚</p><h3 id="pcaä¼˜ç¼ºç‚¹"><a class="header-anchor" href="#pcaä¼˜ç¼ºç‚¹">ğŸŒŠ</a>PCAä¼˜ç¼ºç‚¹</h3><h4 id="ä¼˜ç‚¹ï¼š"><a class="header-anchor" href="#ä¼˜ç‚¹ï¼š">ğŸŒŠ</a>ä¼˜ç‚¹ï¼š</h4><p>ä»¥æ–¹å·®è¡¡é‡ä¿¡æ¯çš„æ— ç›‘ç£å­¦ä¹ ï¼Œä¸å—æ ·æœ¬æ ‡ç­¾é™åˆ¶ï¼›</p><p>å„ä¸»æˆåˆ†ä¹‹é—´æ­£äº¤ï¼Œå¯æ¶ˆé™¤åŸå§‹æ•°æ®æˆåˆ†é—´çš„ç›¸äº’å½±å“ï¼›<br> å¯å‡å°‘æŒ‡æ ‡é€‰æ‹©çš„å·¥ä½œé‡ï¼›</p><p>ç”¨å°‘æ•°æŒ‡æ ‡ä»£æ›¿å¤šæ•°æŒ‡æ ‡ï¼Œåˆ©ç”¨PCAé™ç»´æ˜¯æœ€å¸¸ç”¨çš„ç®—æ³•ï¼›<br> è®¡ç®—æ–¹æ³•ç®€å•ï¼Œæ˜“äºå®ç°ã€‚</p><h4 id="ç¼ºç‚¹ï¼š"><a class="header-anchor" href="#ç¼ºç‚¹ï¼š">ğŸŒŠ</a>ç¼ºç‚¹ï¼š</h4><p>ä¸»æˆåˆ†è§£é‡Šå…¶å«ä¹‰å¾€å¾€å…·æœ‰ä¸€å®šçš„æ¨¡ç³Šæ€§ï¼Œä¸å¦‚åŸå§‹æ ·æœ¬å®Œæ•´ï¼›</p><p>è´¡çŒ®ç‡å°çš„ä¸»æˆåˆ†å¾€å¾€å¯èƒ½å«æœ‰å¯¹æ ·æœ¬å·®å¼‚çš„é‡è¦ä¿¡æ¯ï¼›</p><p>ç‰¹å¾å€¼çŸ©é˜µçš„æ­£äº¤å‘é‡ç©ºé—´æ˜¯å¦å”¯ä¸€æœ‰å¾…è®¨è®ºï¼›</p><p>å±äºæ— ç›‘ç£å­¦ä¹ ã€‚</p><h2 id="ä»£ç "><a class="header-anchor" href="#ä»£ç ">ğŸŒŠ</a>ä»£ç </h2><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre>      </td>      <td class="code">        <pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">Created on Tue Nov 29 15:51:25 2016</span></span><br><span class="line"><span class="string">@author: kuangmeng</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib<span class="selector-class">.pyplot</span> as plt</span><br><span class="line">#å…¨å±€å˜é‡å®šä¹‰åŒº</span><br><span class="line">XLabel = list()</span><br><span class="line">YLabel = list()</span><br><span class="line">phi = [<span class="number">0</span>., <span class="number">0</span>.]</span><br><span class="line">#è‡ªå·±å®šä¹‰çš„çŸ©é˜µè½¬æ¢å‡½æ•°</span><br><span class="line">def Transport(matrix):</span><br><span class="line">        temp = list()</span><br><span class="line">        <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(len(matrix[<span class="number">0</span>])):</span><br><span class="line">            temp.append(list())</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(matrix)):</span><br><span class="line">                temp[i].append(matrix[j][i])</span><br><span class="line">        return temp</span><br><span class="line">#åŠ è½½æ–‡ä»¶ï¼ˆå¯ä»¥é€šè¿‡æ›´æ”¹æ–‡ä»¶åæ¥åŠ è½½ä¸åŒçš„æµ‹è¯•æ•°æ®ï¼‰</span><br><span class="line">data_set = open(<span class="string">'testSet.txt'</span>, <span class="string">'r'</span>)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> data_set.readlines():</span><br><span class="line">    data_line = line.strip().split()</span><br><span class="line">    tmpx = <span class="attribute">float</span>(data_line[<span class="number">0</span>])</span><br><span class="line">    tmpy = <span class="attribute">float</span>(data_line[<span class="number">1</span>])</span><br><span class="line">    phi[<span class="number">0</span>] += tmpx</span><br><span class="line">    phi[<span class="number">1</span>] += tmpy</span><br><span class="line">    XLabel.append(tmpx)</span><br><span class="line">    YLabel.append(tmpy)</span><br><span class="line">phi[<span class="number">0</span>] = phi[<span class="number">0</span>]/<span class="number">100.0</span></span><br><span class="line">phi[<span class="number">1</span>] = phi[<span class="number">1</span>]/<span class="number">100.0</span></span><br><span class="line">data_set.close()</span><br><span class="line">#åŠ è½½ç»“æŸ</span><br><span class="line">temp_x = list()</span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">     temp_x.append([XLabel[i]-phi[<span class="number">0</span>], YLabel[i]-phi[<span class="number">1</span>]])</span><br><span class="line">temp_x_ = Transport(temp_x)</span><br><span class="line">sigma = np.dot(temp_x_, temp_x)</span><br><span class="line">D,V= np<span class="selector-class">.linalg</span><span class="selector-class">.eig</span>(sigma)</span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">     <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">         V<span class="selector-class">.real</span>[i][j] *= -<span class="number">1</span></span><br><span class="line">temp_v_ = Transport(V.real)</span><br><span class="line">tr1 = list()</span><br><span class="line">tr1.append(XLabel)</span><br><span class="line">tr1.append(YLabel)</span><br><span class="line">tr1 = Transport(tr1)</span><br><span class="line">xr1 = np.dot(tr1, temp_v_[<span class="number">0</span>])</span><br><span class="line">xr2 = np.dot(phi, temp_v_[<span class="number">1</span>])</span><br><span class="line">xr = tr1</span><br><span class="line">#        print xr</span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(len(XLabel)):</span><br><span class="line">      xr[i][<span class="number">0</span>] = np.dot(xr1[i], V<span class="selector-class">.real</span>[<span class="number">0</span>][<span class="number">0</span>])+np.dot(xr2, V<span class="selector-class">.real</span>[<span class="number">0</span>][<span class="number">1</span>])</span><br><span class="line">      xr[i][<span class="number">1</span>] = np.dot(xr1[i], V<span class="selector-class">.real</span>[<span class="number">1</span>][<span class="number">0</span>])+np.dot(xr2, V<span class="selector-class">.real</span>[<span class="number">1</span>][<span class="number">1</span>])</span><br><span class="line">#        print xr</span><br><span class="line">plt.plot(XLabel, YLabel, <span class="string">'r+'</span>)</span><br><span class="line">temp_xr = Transport(xr)</span><br><span class="line">plt.plot(temp_xr[<span class="number">0</span>], temp_xr[<span class="number">1</span>], <span class="string">'b*'</span>)</span><br><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(len(XLabel)):</span><br><span class="line">     plt.plot([XLabel[i],xr[i][<span class="number">0</span>]], [YLabel[i],xr[i][<span class="number">1</span>]])</span><br><span class="line">plt.axis([-<span class="number">8</span>,<span class="number">6</span>,-<span class="number">5</span>,<span class="number">5</span>])</span><br><span class="line">plt<span class="selector-class">.xlabel</span> = <span class="string">'x'</span></span><br><span class="line">plt<span class="selector-class">.ylabel</span> = <span class="string">'y'</span></span><br><span class="line">plt.show()</span><br></pre>      </td>    </tr>  </table></figure><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/6c0d033f/">http://meng.uno/posts/6c0d033f/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å®éªŒè¦æ±‚&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å®éªŒè¦æ±‚&quot;&gt;ğŸŒŠ&lt;/a&gt;å®éªŒè¦æ±‚&lt;/h2&gt;
&lt;h3 id=&quot;å®éªŒç›®æ ‡&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å®éªŒç›®æ ‡&quot;&gt;ğŸŒŠ&lt;/a&gt;å®éªŒç›®æ ‡&lt;/h3&gt;
&lt;p&gt;å®
      
    
    </summary>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨EMç®—æ³•ä¼˜åŒ–çš„GMM</title>
    <link href="http://meng.uno/posts/177fbbcc/"/>
    <id>http://meng.uno/posts/177fbbcc/</id>
    <published>2016-12-17T03:16:53.000Z</published>
    <updated>2018-02-09T10:46:20.921Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆä¸Šä»£ç ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre>      </td>      <td class="code">        <pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib<span class="selector-class">.pyplot</span> as mat</span><br><span class="line">import matplotlib<span class="selector-class">.mlab</span> as mlab</span><br><span class="line">#EMç®—æ³•</span><br><span class="line">def EM(dataSet,K):</span><br><span class="line">    (N, M) = np.shape(dataSet)</span><br><span class="line">    W = np.zeros([N, K])</span><br><span class="line">    P= N/K</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(K):</span><br><span class="line">        W[np.floor(k*P):np.floor((k+<span class="number">1</span>)*P), k] = <span class="number">1</span></span><br><span class="line">    A,M,S = Mstep(dataSet,W)</span><br><span class="line">    return W, A, M, S</span><br><span class="line">#Mçš„è·¨åº¦</span><br><span class="line">def Mstep(data,W):</span><br><span class="line">    (N, M) = np.shape(data)</span><br><span class="line">    K = np.size(W,<span class="number">1</span>) </span><br><span class="line">    Nk = np.sum(W,<span class="number">0</span>)</span><br><span class="line">    A = Nk/np.sum(Nk)</span><br><span class="line">    Mm = data<span class="selector-class">.T</span><span class="selector-class">.dot</span>(W).dot(np.diag(np.reciprocal(Nk)))</span><br><span class="line">    S = np.zeros([M,M,K])</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(K):</span><br><span class="line">        datMean = data<span class="selector-class">.T</span> - Mm[<span class="number">0</span>:,k][None]<span class="selector-class">.T</span><span class="selector-class">.dot</span>(np.ones([<span class="number">1</span>,N]))</span><br><span class="line">        S[:,:,k] = (datMean.dot(np.diag(W[<span class="number">0</span>:,k])).dot(datMean.T))/Nk[k]</span><br><span class="line">    return A,Mm,S</span><br><span class="line">#Eçš„è·¨åº¦</span><br><span class="line">def Estep(data,A,M,S):</span><br><span class="line">    N = np.size(data,<span class="number">0</span>)</span><br><span class="line">    K = np.size(A)</span><br><span class="line">    W = np.zeros([N,K])</span><br><span class="line">    <span class="keyword">for</span> k <span class="keyword">in</span> range(K):</span><br><span class="line">        <span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> range(N):</span><br><span class="line">            W[<span class="selector-tag">i</span>,k] = A[k]*multivariate(data[<span class="selector-tag">i</span>,:][None]<span class="selector-class">.T</span>, \</span><br><span class="line">                     M[:,k][None]<span class="selector-class">.T</span>,S[:,:,k])</span><br><span class="line">    W = W*np.reciprocal(np.sum(W,<span class="number">1</span>)[None].T)</span><br><span class="line">    return W</span><br><span class="line">def multivariate(x, m, s):</span><br><span class="line">    <span class="keyword">if</span> len(x) == len(m) and (len(x), len(x)) == s<span class="selector-class">.shape</span>:</span><br><span class="line">        det = np<span class="selector-class">.linalg</span><span class="selector-class">.det</span>(s)</span><br><span class="line">        const = 1.0/(np.math.pow((2*np.pi), float(len(x))/2) * np.math.pow(det, 1.0/2))</span><br><span class="line">        x_m = np.matrix(x - m)</span><br><span class="line">        inv_ = np<span class="selector-class">.linalg</span><span class="selector-class">.inv</span>(s)</span><br><span class="line">        result = np.math.pow(np.math.e, -0.5 * (x_m.T * inv_ * x_m))</span><br><span class="line">        return const * result</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        return -<span class="number">1</span></span><br><span class="line">#GMMä¸»ç¨‹åº</span><br><span class="line">def GMM():</span><br><span class="line">    # åŠ è½½æ–‡ä»¶</span><br><span class="line">    input_file = open(<span class="string">'points.dat'</span>)</span><br><span class="line">    lines = input_file.readlines()</span><br><span class="line">    Data = np.array([line.strip().split() <span class="keyword">for</span> line <span class="keyword">in</span> lines]).astype(np.<span class="attribute">float</span>)</span><br><span class="line">    (x, y) = np.shape(Data)</span><br><span class="line">    mat.draw()</span><br><span class="line">    mat.pause(<span class="number">0.01</span>)</span><br><span class="line">    mat.subplot(<span class="number">111</span>)</span><br><span class="line">    mat.plot(x, y, <span class="string">'b*'</span>)</span><br><span class="line">    learn = Data[np<span class="selector-class">.math</span><span class="selector-class">.ceil</span>(x*<span class="number">0.8</span>):x, <span class="number">0</span>:]</span><br><span class="line">    train = Data[:np<span class="selector-class">.math</span><span class="selector-class">.floor</span>(x*<span class="number">0.8</span>), <span class="number">0</span>:]</span><br><span class="line">    trainnum = <span class="number">16</span></span><br><span class="line">    (W, Alpha, Mu, Sigma) = EM(train,trainnum)</span><br><span class="line">    m = np.arange(-<span class="number">4.0</span>, <span class="number">4.0</span>, <span class="number">0.1</span>)</span><br><span class="line">    n = np.arange(-<span class="number">4.0</span>, <span class="number">4.0</span>, <span class="number">0.1</span>)</span><br><span class="line">    ax, ay = np.meshgrid(m, n)</span><br><span class="line">    <span class="selector-tag">i</span> = <span class="number">0</span></span><br><span class="line">    prev = -<span class="number">9999</span></span><br><span class="line">    mat.clf()</span><br><span class="line">    while(True):    </span><br><span class="line">        <span class="keyword">if</span>(False):</span><br><span class="line">            SigmaSum = np.sum(Sigma,<span class="number">2</span>)</span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(trainnum):</span><br><span class="line">                Sigma[:,:,k] = SigmaSum</span><br><span class="line">        W = Estep(train,Alpha,Mu,Sigma)</span><br><span class="line">        Alpha,Mu,Sigma = Mstep(train,W)</span><br><span class="line">       # trains = logLike(train,Alpha,Mu,Sigma)</span><br><span class="line">        N,M = np.shape(train)</span><br><span class="line">        P = np.zeros([N,len(Alpha)])</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(len(Alpha)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(N):</span><br><span class="line">                P[j,k] = multivariate(train[j,:][None]<span class="selector-class">.T</span>,Mu[<span class="number">0</span>:,k][None]<span class="selector-class">.T</span>,Sigma[:,:,k])</span><br><span class="line">        trains = np.sum(np.log(P.dot(Alpha)))</span><br><span class="line">        <span class="selector-tag">i</span> = <span class="selector-tag">i</span> + <span class="number">1</span></span><br><span class="line">        #ç”»å›¾ï¼Œè®­ç»ƒå’Œæµ‹è¯•æ ·æœ¬</span><br><span class="line">        mat.subplot(<span class="number">211</span>)</span><br><span class="line">        mat.scatter(train[<span class="number">0</span>:,<span class="number">0</span>],train[<span class="number">0</span>:,<span class="number">1</span>])</span><br><span class="line">        mat.hold(True)</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>, trainnum):</span><br><span class="line">            az = mlab.bivariate_normal(ax, ay, Sigma[<span class="number">0</span>, <span class="number">0</span>, k], Sigma[<span class="number">1</span>, \</span><br><span class="line">                <span class="number">1</span>, k], Mu[<span class="number">0</span>,k], Mu[<span class="number">1</span>,k], Sigma[<span class="number">1</span>, <span class="number">0</span>, k])</span><br><span class="line">            try:</span><br><span class="line">                mat.contour(ax, ay, az)</span><br><span class="line">            except:</span><br><span class="line">                continue</span><br><span class="line">        mat.hold(False)</span><br><span class="line">        # Render these</span><br><span class="line">        mat.draw()</span><br><span class="line">        mat.pause(<span class="number">0.01</span>)</span><br><span class="line">        mat.subplot(<span class="number">212</span>)</span><br><span class="line">        mat.scatter(learn[<span class="number">0</span>:,<span class="number">0</span>],learn[<span class="number">0</span>:,<span class="number">1</span>])</span><br><span class="line">        mat.hold(True)</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">0</span>, trainnum):</span><br><span class="line">            az = mlab.bivariate_normal(ax, ay, Sigma[<span class="number">0</span>, <span class="number">0</span>, k], Sigma[<span class="number">1</span>, \</span><br><span class="line">                <span class="number">1</span>, k], Mu[<span class="number">0</span>,k], Mu[<span class="number">1</span>,k], Sigma[<span class="number">1</span>, <span class="number">0</span>, k])</span><br><span class="line">            try:</span><br><span class="line">                mat.contour(ax, ay, az)</span><br><span class="line">            except:</span><br><span class="line">                continue</span><br><span class="line">        mat.hold(False)</span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">150</span> or abs(trains - prev)&lt; <span class="number">0.01</span>):</span><br><span class="line">            break</span><br><span class="line">        prev = trains</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    GMM()</span><br></pre>      </td>    </tr>  </table></figure><h2 id="å®éªŒè¦æ±‚"><a class="header-anchor" href="#å®éªŒè¦æ±‚">ğŸŒŠ</a>å®éªŒè¦æ±‚</h2><h3 id="å®éªŒç›®æ ‡"><a class="header-anchor" href="#å®éªŒç›®æ ‡">ğŸŒŠ</a>å®éªŒç›®æ ‡</h3><p>å®ç°ä¸€ä¸ªæ··åˆé«˜æ–¯æ¨¡å‹ï¼Œå¹¶ä¸”ç”¨EMç®—æ³•ä¼°è®¡æ¨¡å‹ä¸­çš„å‚æ•°ã€‚</p><h3 id="å®éªŒè¿‡ç¨‹"><a class="header-anchor" href="#å®éªŒè¿‡ç¨‹">ğŸŒŠ</a>å®éªŒè¿‡ç¨‹</h3><p>ç”¨æ··åˆé«˜æ–¯æ¨¡å‹äº§ç”Ÿkä¸ªé«˜æ–¯åˆ†å¸ƒçš„æ•°æ®ï¼ˆå…¶ä¸­å‚æ•°è‡ªå·±è®¾å®šï¼‰ï¼Œç„¶åç”¨ä½ å®ç°çš„EMç®—æ³•ä¼°è®¡å‚æ•°ï¼Œçœ‹çœ‹æ¯æ¬¡è¿­ä»£åä¼¼ç„¶å€¼å˜åŒ–æƒ…å†µï¼Œè€ƒå¯ŸEMç®—æ³•æ˜¯å¦å¯ä»¥è·å¾—æ­£ç¡®çš„ç»“æœï¼ˆä¸ä½ è®¾å®šçš„ç»“æœæ¯”è¾ƒï¼‰ã€‚<br> å¯ä»¥UCIä¸Šæ‰¾ä¸€ä¸ªç®€å•é—®é¢˜æ•°æ®ï¼Œç”¨ä½ å®ç°çš„GMMè¿›è¡Œèšç±»ã€‚</p><h2 id="ç®—æ³•åŸç†"><a class="header-anchor" href="#ç®—æ³•åŸç†">ğŸŒŠ</a>ç®—æ³•åŸç†</h2><h3 id="gmmç®—æ³•"><a class="header-anchor" href="#gmmç®—æ³•">ğŸŒŠ</a>GMMç®—æ³•</h3><p>é«˜æ–¯æ¨¡å‹å°±æ˜¯ç”¨é«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆæ­£æ€åˆ†å¸ƒæ›²çº¿ï¼‰ç²¾ç¡®åœ°é‡åŒ–äº‹ç‰©ï¼Œå°†ä¸€ä¸ªäº‹ç‰©åˆ†è§£ä¸ºè‹¥å¹²çš„åŸºäºé«˜æ–¯æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆæ­£æ€åˆ†å¸ƒæ›²çº¿ï¼‰å½¢æˆçš„æ¨¡å‹ã€‚</p><p>å¯¹å›¾åƒèƒŒæ™¯å»ºç«‹é«˜æ–¯æ¨¡å‹çš„åŸç†åŠè¿‡ç¨‹ï¼šå›¾åƒç°åº¦ç›´æ–¹å›¾åæ˜ çš„æ˜¯å›¾åƒä¸­æŸä¸ªç°åº¦å€¼å‡ºç°çš„é¢‘æ¬¡ï¼Œä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯å›¾åƒç°åº¦æ¦‚ç‡å¯†åº¦çš„ä¼°è®¡ã€‚å¦‚æœå›¾åƒæ‰€åŒ…å«çš„ç›®æ ‡åŒºåŸŸå’ŒèƒŒæ™¯åŒºåŸŸç›¸æ¯”æ¯”è¾ƒå¤§ï¼Œä¸”èƒŒæ™¯åŒºåŸŸå’Œç›®æ ‡åŒºåŸŸåœ¨ç°åº¦ä¸Šæœ‰ä¸€å®šçš„å·®å¼‚ï¼Œé‚£ä¹ˆè¯¥å›¾åƒçš„ç°åº¦ç›´æ–¹å›¾å‘ˆç°åŒå³°-è°·å½¢çŠ¶ï¼Œå…¶ä¸­ä¸€ä¸ªå³°å¯¹åº”äºç›®æ ‡ï¼Œå¦ä¸€ä¸ªå³°å¯¹åº”äºèƒŒæ™¯çš„ä¸­å¿ƒç°åº¦ã€‚å¯¹äºå¤æ‚çš„å›¾åƒï¼Œå°¤å…¶æ˜¯åŒ»å­¦å›¾åƒï¼Œä¸€èˆ¬æ˜¯å¤šå³°çš„ã€‚é€šè¿‡å°†ç›´æ–¹å›¾çš„å¤šå³°ç‰¹æ€§çœ‹ä½œæ˜¯å¤šä¸ªé«˜æ–¯åˆ†å¸ƒçš„å åŠ ï¼Œå¯ä»¥è§£å†³å›¾åƒçš„åˆ†å‰²é—®é¢˜ã€‚ åœ¨æ™ºèƒ½ç›‘æ§ç³»ç»Ÿä¸­ï¼Œå¯¹äºè¿åŠ¨ç›®æ ‡çš„æ£€æµ‹æ˜¯ä¸­å¿ƒå†…å®¹ï¼Œè€Œåœ¨è¿åŠ¨ç›®æ ‡æ£€æµ‹æå–ä¸­ï¼ŒèƒŒæ™¯ç›®æ ‡å¯¹äºç›®æ ‡çš„è¯†åˆ«å’Œè·Ÿè¸ªè‡³å…³é‡è¦ã€‚è€Œå»ºæ¨¡æ­£æ˜¯èƒŒæ™¯ç›®æ ‡æå–çš„ä¸€ä¸ªé‡è¦ç¯èŠ‚ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆè¦æèµ·èƒŒæ™¯å’Œå‰æ™¯çš„æ¦‚å¿µï¼Œå‰æ™¯æ˜¯æŒ‡åœ¨å‡è®¾èƒŒæ™¯ä¸ºé™æ­¢çš„æƒ…å†µä¸‹ï¼Œä»»ä½•æœ‰æ„ä¹‰çš„è¿åŠ¨ç‰©ä½“å³ä¸ºå‰æ™¯ã€‚å»ºæ¨¡çš„åŸºæœ¬æ€æƒ³æ˜¯ä»å½“å‰å¸§ä¸­æå–å‰æ™¯ï¼Œå…¶ç›®çš„æ˜¯ä½¿èƒŒæ™¯æ›´æ¥è¿‘å½“å‰è§†é¢‘å¸§çš„èƒŒæ™¯ã€‚å³åˆ©ç”¨å½“å‰å¸§å’Œè§†é¢‘åºåˆ—ä¸­çš„å½“å‰èƒŒæ™¯å¸§è¿›è¡ŒåŠ æƒå¹³å‡æ¥æ›´æ–°èƒŒæ™¯,ä½†æ˜¯ç”±äºå…‰ç…§çªå˜ä»¥åŠå…¶ä»–å¤–ç•Œç¯å¢ƒçš„å½±å“ï¼Œä¸€èˆ¬çš„å»ºæ¨¡åçš„èƒŒæ™¯å¹¶éååˆ†å¹²å‡€æ¸…æ™°ï¼Œè€Œé«˜æ–¯æ··åˆæ¨¡å‹æ˜¯æ˜¯å»ºæ¨¡æœ€ä¸ºæˆåŠŸçš„æ–¹æ³•ä¹‹ä¸€ã€‚</p><p>æ··åˆé«˜æ–¯æ¨¡å‹ä½¿ç”¨Kï¼ˆåŸºæœ¬ä¸º3åˆ°5ä¸ªï¼‰ä¸ªé«˜æ–¯æ¨¡å‹æ¥è¡¨å¾å›¾åƒä¸­å„ä¸ªåƒç´ ç‚¹çš„ç‰¹å¾,åœ¨æ–°ä¸€å¸§å›¾åƒè·å¾—åæ›´æ–°æ··åˆé«˜æ–¯æ¨¡å‹, ç”¨å½“å‰å›¾åƒä¸­çš„æ¯ä¸ªåƒç´ ç‚¹ä¸æ··åˆé«˜æ–¯æ¨¡å‹åŒ¹é…,å¦‚æœæˆåŠŸåˆ™åˆ¤å®šè¯¥ç‚¹ä¸ºèƒŒæ™¯ç‚¹, å¦åˆ™ä¸ºå‰æ™¯ç‚¹ã€‚</p><p>é€šè§‚æ•´ä¸ªé«˜æ–¯æ¨¡å‹ï¼Œä¸»è¦æ˜¯æœ‰æ–¹å·®å’Œå‡å€¼ä¸¤ä¸ªå‚æ•°å†³å®šï¼Œå¯¹å‡å€¼å’Œæ–¹å·®çš„å­¦ä¹ ï¼Œé‡‡å–ä¸åŒçš„å­¦ä¹ æœºåˆ¶,å°†ç›´æ¥å½±å“åˆ°æ¨¡å‹çš„ç¨³å®šæ€§ã€ç²¾ç¡®æ€§å’Œæ”¶æ•›æ€§ ã€‚ç”±äºæˆ‘ä»¬æ˜¯å¯¹è¿åŠ¨ç›®æ ‡çš„èƒŒæ™¯æå–å»ºæ¨¡ï¼Œå› æ­¤éœ€è¦å¯¹é«˜æ–¯æ¨¡å‹ä¸­æ–¹å·®å’Œå‡å€¼ä¸¤ä¸ªå‚æ•°å®æ—¶æ›´æ–°ã€‚ä¸ºæé«˜æ¨¡å‹çš„å­¦ä¹ èƒ½åŠ›,æ”¹è¿›æ–¹æ³•å¯¹å‡å€¼å’Œæ–¹å·®çš„æ›´æ–°é‡‡ç”¨ä¸åŒçš„å­¦ä¹ ç‡;ä¸ºæé«˜åœ¨ç¹å¿™çš„åœºæ™¯ä¸‹,å¤§è€Œæ…¢çš„è¿åŠ¨ç›®æ ‡çš„æ£€æµ‹æ•ˆæœ,å¼•å…¥æƒå€¼å‡å€¼çš„æ¦‚å¿µ,å»ºç«‹èƒŒæ™¯å›¾åƒå¹¶å®æ—¶æ›´æ–°,ç„¶åç»“åˆæƒå€¼ã€æƒå€¼å‡å€¼å’ŒèƒŒæ™¯å›¾åƒå¯¹åƒç´ ç‚¹è¿›è¡Œå‰æ™¯å’ŒèƒŒæ™¯çš„åˆ†ç±»ã€‚</p><p>å…·ä½“å®ç°è¿‡ç¨‹ï¼š</p><ol>  <li>ä¸ºå›¾åƒçš„æ¯ä¸ªåƒç´ ç‚¹æŒ‡å®šä¸€ä¸ªåˆå§‹çš„å‡å€¼ã€æ ‡å‡†å·®ä»¥åŠæƒé‡ã€‚</li>  <li>æ”¶é›†Nï¼ˆä¸€èˆ¬å–200ä»¥ä¸Šï¼Œå¦åˆ™å¾ˆéš¾å¾—åˆ°åƒæ ·çš„ç»“æœï¼‰å¸§å›¾åƒåˆ©ç”¨åœ¨çº¿EMç®—æ³•å¾—åˆ°æ¯ä¸ªåƒ ç´ ç‚¹çš„å‡å€¼ã€æ ‡å‡†å·®ä»¥åŠæƒé‡ã€‚</li>  <li>ä»N+1å¸§å¼€å§‹æ£€æµ‹ï¼Œæ£€æµ‹çš„æ–¹æ³•ï¼š<br> å¯¹æ¯ä¸ªåƒç´ ç‚¹ï¼š    <ol>      <li>å°†æ‰€æœ‰çš„é«˜æ–¯æ ¸æŒ‰ç…§ Ï‰ / Ïƒ é™åºæ’åº</li>      <li>é€‰æ‹©æ»¡è¶³ä¸‹å¼çš„å‰Mä¸ªé«˜æ–¯æ ¸ï¼šM = arg min(Ï‰ / Ïƒ &gt; T)</li>      <li>å¦‚æœå½“å‰åƒç´ ç‚¹çš„åƒç´ å€¼åœ¨ä¸­æœ‰ä¸€ä¸ªæ»¡è¶³ï¼šå°±å¯ä»¥è®¤ä¸ºå…¶ä¸ºèƒŒæ™¯ç‚¹ã€‚</li>    </ol>  </li>  <li>æ›´æ–°èƒŒæ™¯å›¾åƒï¼Œç”¨EMç®—æ³•ã€‚</li></ol><h3 id="emç®—æ³•"><a class="header-anchor" href="#emç®—æ³•">ğŸŒŠ</a>EMç®—æ³•</h3><p>EM ç®—æ³•æ˜¯ Dempsterï¼ŒLaindï¼ŒRubin äº 1977 å¹´æå‡ºçš„æ±‚å‚æ•°æå¤§ä¼¼ç„¶ä¼°è®¡çš„ä¸€ç§æ–¹æ³•ï¼Œå®ƒå¯ä»¥ä»éå®Œæ•´æ•°æ®é›†ä¸­å¯¹å‚æ•°è¿›è¡Œ MLE ä¼°è®¡ï¼Œæ˜¯ä¸€ç§éå¸¸ç®€å•å®ç”¨çš„å­¦ä¹ ç®—æ³•ã€‚è¿™ç§æ–¹æ³•å¯ä»¥å¹¿æ³›åœ°åº”ç”¨äºå¤„ç†ç¼ºæŸæ•°æ®ï¼Œæˆªå°¾æ•°æ®ï¼Œå¸¦æœ‰å™ªå£°ç­‰æ‰€è°“çš„ä¸å®Œå…¨æ•°æ®(incomplete data)ã€‚</p><p>æœ€å¤§æœŸæœ›ç®—æ³•ç»è¿‡ä¸¤ä¸ªæ­¥éª¤äº¤æ›¿è¿›è¡Œè®¡ç®—ï¼š</p><ul>  <li>ç¬¬ä¸€æ­¥æ˜¯è®¡ç®—æœŸæœ›ï¼ˆEï¼‰ï¼Œåˆ©ç”¨å¯¹éšè—å˜é‡çš„ç°æœ‰ä¼°è®¡å€¼ï¼Œè®¡ç®—å…¶æœ€å¤§ä¼¼ç„¶ä¼°è®¡å€¼ï¼›</li>  <li>ç¬¬äºŒæ­¥æ˜¯æœ€å¤§åŒ–ï¼ˆMï¼‰ï¼Œæœ€å¤§åŒ–åœ¨ E æ­¥ä¸Šæ±‚å¾—çš„æœ€å¤§ä¼¼ç„¶å€¼æ¥è®¡ç®—å‚æ•°çš„å€¼ã€‚</li></ul><p>M æ­¥ä¸Šæ‰¾åˆ°çš„å‚æ•°ä¼°è®¡å€¼è¢«ç”¨äºä¸‹ä¸€ä¸ª E æ­¥è®¡ç®—ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸æ–­äº¤æ›¿è¿›è¡Œã€‚</p><p>é€šè¿‡äº¤æ›¿ä½¿ç”¨è¿™ä¸¤ä¸ªæ­¥éª¤ï¼ŒEMç®—æ³•é€æ­¥æ”¹è¿›æ¨¡å‹çš„å‚æ•°ï¼Œä½¿å‚æ•°å’Œè®­ç»ƒæ ·æœ¬çš„ä¼¼ç„¶æ¦‚ç‡é€æ¸å¢å¤§ï¼Œæœ€åç»ˆæ­¢äºä¸€ä¸ªæå¤§ç‚¹ã€‚ç›´è§‚åœ°ç†è§£EMç®—æ³•ï¼Œå®ƒä¹Ÿå¯è¢«çœ‹ä½œä¸ºä¸€ä¸ªé€æ¬¡é€¼è¿‘ç®—æ³•ï¼šäº‹å…ˆå¹¶ä¸çŸ¥é“æ¨¡å‹çš„å‚æ•°ï¼Œå¯ä»¥éšæœºçš„é€‰æ‹©ä¸€å¥—å‚æ•°æˆ–è€…äº‹å…ˆç²—ç•¥åœ°ç»™å®šæŸä¸ªåˆå§‹å‚æ•°Î»0 ï¼Œç¡®å®šå‡ºå¯¹åº”äºè¿™ç»„å‚æ•°çš„æœ€å¯èƒ½çš„çŠ¶æ€ï¼Œè®¡ç®—æ¯ä¸ªè®­ç»ƒæ ·æœ¬çš„å¯èƒ½ç»“æœçš„æ¦‚ç‡ï¼Œåœ¨å½“å‰çš„çŠ¶æ€ä¸‹å†ç”±æ ·æœ¬å¯¹å‚æ•°ä¿®æ­£ï¼Œé‡æ–°ä¼°è®¡å‚æ•°Î»ï¼Œå¹¶åœ¨æ–°çš„å‚æ•°ä¸‹é‡æ–°ç¡®å®šæ¨¡å‹çš„çŠ¶æ€ï¼Œè¿™æ ·ï¼Œé€šè¿‡å¤šæ¬¡çš„è¿­ä»£ï¼Œå¾ªç¯ç›´è‡³æŸä¸ªæ”¶æ•›æ¡ä»¶æ»¡è¶³ä¸ºæ­¢ï¼Œå°±å¯ä»¥ä½¿å¾—æ¨¡å‹çš„å‚æ•°é€æ¸é€¼è¿‘çœŸå®å‚æ•°ã€‚</p><p>å…·ä½“å®ç°æ­¥éª¤ï¼š</p><ul>  <li>ç»™å‡ºç§ç±»æ•°k,åˆå§‹åŒ–æ¯ä¸€ç±»é«˜æ–¯åˆ†å¸ƒçš„å‡å€¼Î¼kï¼Œæ–¹å·®âˆ‘kä»¥åŠæ¯ä¸€ç±»çš„æ¦‚ç‡Ï€kï¼›</li>  <li>æ‰§è¡ŒEMï¼›</li>  <li>è®¡ç®—ä¼¼ç„¶ï¼Œå¦‚æœæ²¡æœ‰è¾¾åˆ°é¢„æœŸæ•ˆæœï¼Œåˆ™è¿”å›ç¬¬2æ­¥ï¼›</li>  <li>è®¡ç®—æ¯ä¸ªæ•°æ®ç‚¹å¯¹äºkä¸ªé«˜æ–¯åˆ†å¸ƒçš„ä¼¼ç„¶ï¼Œé€‰æ‹©ä¼¼ç„¶æœ€å¤§çš„ä¸€ç±»ä½œä¸ºæ•°æ®çš„æœ€ç»ˆåˆ†ç±»ã€‚</li></ul><p>å…¶ä»–çš„æ··åˆæ¨¡å‹ï¼Œä¾‹å¦‚æœ´ç´ è´å¶æ–¯æ··åˆæ¨¡å‹ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨EMç®—æ³•æ¨å‡ºä½¿ç”¨çš„ï¼Œè¿™ä¸€ç®—æ³•è™½ç„¶åœ¨GMMä¸­ä½œä¸ºå‚æ•°ä½¿ç”¨ï¼Œä½†æ˜¯å…¶ä»ç„¶å¯ä»¥å•ç‹¬å‘æŒ¥ä½œç”¨ã€‚æˆ‘è§‰å¾—EMç®—æ³•å°±æ˜¯ç›¸äº’è¿­ä»£ï¼ˆæ¯•ç«Ÿå…¶ç”±Eå’ŒMä¸¤éƒ¨åˆ†ç»„æˆå˜›ï¼‰ï¼Œæ±‚å‡ºä¸€ä¸ªç¨³å®šå€¼ï¼Œè€Œè¿™ç§ç›¸äº’è¿­ä»£çš„æ–¹æ³•ç”¨çš„èŒƒå›´æŒºå¹¿çš„ï¼Œä¾‹å¦‚æ··åˆæ¨¡å‹ï¼ŒK-meansç­‰éƒ½éœ€è¦ä½¿ç”¨ã€‚</p><h3 id="ä¸k-meansçš„åŒºåˆ«"><a class="header-anchor" href="#ä¸k-meansçš„åŒºåˆ«">ğŸŒŠ</a>ä¸K-meansçš„åŒºåˆ«</h3><p>åœ¨ä¸Šæ–‡æˆ‘ä¹Ÿå·²ç»æåˆ°äº†EMç®—æ³•å¯ä»¥ç”¨åœ¨K-meansç­‰å…¶ä»–éœ€è¦è¿­ä»£çš„æ–¹æ³•ä¸Šçš„äº‹å®ï¼Œå…¶å®ï¼Œæˆ‘è§‰å¾—GMM å’Œ K-means å¾ˆåƒï¼Œåªä¸è¿‡åè€…è¦ç®€å•ï¼Œè€Œä¸”ç›¸å¯¹æ¥è¯´å®ç°å¹¶ä¸æ˜¯å¾ˆé«˜æ•ˆã€‚ä¸è¿‡ GMM æ˜¯å­¦ä¹ å‡ºä¸€äº›æ¦‚ç‡å¯†åº¦å‡½æ•°æ¥ï¼ˆæ‰€ä»¥ GMM é™¤äº†ç”¨åœ¨ clustering ä¸Šä¹‹å¤–ï¼Œè¿˜ç»å¸¸è¢«ç”¨äº density estimation ï¼‰ï¼Œç®€å•åœ°è¯´ï¼ŒK-means çš„ç»“æœæ˜¯æ¯ä¸ªæ•°æ®ç‚¹è¢« assign åˆ°å…¶ä¸­æŸä¸€ä¸ª cluster äº†ï¼Œè€Œ GMM åˆ™ç»™å‡ºè¿™äº›æ•°æ®ç‚¹è¢« assign åˆ°æ¯ä¸ª cluster çš„æ¦‚ç‡ï¼Œåˆç§°ä½œ  soft assignmentã€‚</p><h2 id="å®éªŒç¯å¢ƒ"><a class="header-anchor" href="#å®éªŒç¯å¢ƒ">ğŸŒŠ</a>å®éªŒç¯å¢ƒ</h2><p>Spyder ä½œä¸ºPythonå¼€å‘çš„é›†æˆå¼€å‘ç¯å¢ƒï¼›<br> ç¼–ç¨‹è¯­è¨€ï¼šPython 3.5ï¼›<br> æ“ä½œç³»ç»Ÿï¼šmacOS Sierraã€‚</p><h2 id="å°ç»“"><a class="header-anchor" href="#å°ç»“">ğŸŒŠ</a>å°ç»“</h2><p>GMMç®—æ³•ä½œä¸ºEMç®—æ³•æ—çš„ä¸€ä¸ªä¾‹å­ï¼Œå®ƒæŒ‡å®šäº†å„ä¸ªå‚ä¸æ‚åˆçš„åˆ†å¸ƒéƒ½æ˜¯é«˜æ–¯åˆ†å¸ƒï¼Œå³åˆ†å¸ƒå‚æ•°è¡¨ç°ä¸ºå‡å€¼Muå’Œæ–¹å·®Sigmaã€‚é€šè¿‡EMç®—æ³•ä½œä¸ºè®¡ç®—ä½¿ç”¨çš„æ¡†æ¶ï¼Œè¿­ä»£åœ°ç®—å‡ºå„ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ã€‚</p><h3 id="gmmä¸k-meansçš„æ€è€ƒ"><a class="header-anchor" href="#gmmä¸k-meansçš„æ€è€ƒ">ğŸŒŠ</a>GMMä¸K-meansçš„æ€è€ƒ</h3><p>æåˆ°GMMä¸å¾—ä¸æK-meansï¼Œæ€»ç»“äº†ç½‘ä¸Šçš„èµ„æ–™ä»¥åŠè€å¸ˆä¸Šè¯¾çš„è¯¾ä»¶ï¼Œæˆ‘å°†ä¸¤è€…çš„åŒºåˆ«ä¸è”ç³»é™ˆè¿°å¦‚ä¸‹ï¼š</p><ul>  <li>ä¸¤è€…çš„è”ç³»:</li></ul><p>éƒ½æ˜¯è¿­ä»£æ‰§è¡Œçš„ç®—æ³•ï¼Œä¸”è¿­ä»£çš„ç­–ç•¥ä¹Ÿç›¸åŒï¼šç®—æ³•å¼€å§‹æ‰§è¡Œæ—¶å…ˆå¯¹éœ€è¦è®¡ç®—çš„å‚æ•°èµ‹åˆå€¼ï¼Œç„¶åäº¤æ›¿æ‰§è¡Œä¸¤ä¸ªæ­¥éª¤ï¼Œä¸€ä¸ªæ­¥éª¤æ˜¯å¯¹æ•°æ®çš„ä¼°è®¡ï¼ˆk-meansæ˜¯ä¼°è®¡æ¯ä¸ªç‚¹æ‰€å±ç°‡ï¼›GMMæ˜¯è®¡ç®—éšå«å˜é‡çš„æœŸæœ›ï¼‰ï¼›ç¬¬äºŒæ­¥æ˜¯ç”¨ä¸Šä¸€æ­¥ç®—å‡ºçš„ä¼°è®¡å€¼é‡æ–°è®¡ç®—å‚æ•°å€¼ï¼Œæ›´æ–°ç›®æ ‡å‚æ•°ï¼ˆk-meansæ˜¯è®¡ç®—ç°‡å¿ƒä½ç½®ï¼›GMMæ˜¯è®¡ç®—å„ä¸ªé«˜æ–¯åˆ†å¸ƒçš„ä¸­å¿ƒä½ç½®å’Œåæ–¹å·®çŸ©é˜µï¼‰</p><ul>  <li>ä¸¤è€…çš„åŒºåˆ«:</li></ul><p>é¦–å…ˆï¼Œä¸¤è€…éœ€è¦è®¡ç®—çš„å‚æ•°ä¸åŒï¼šK-meansæ˜¯ç°‡å¿ƒä½ç½®ï¼›GMMæ˜¯å„ä¸ªé«˜æ–¯åˆ†å¸ƒçš„å‚æ•°ï¼›å…¶æ¬¡ï¼Œä¸¤è€…è®¡ç®—ç›®æ ‡å‚æ•°çš„æ–¹æ³•ä¸åŒï¼šK-meansæ˜¯è®¡ç®—å½“å‰ç°‡ä¸­æ‰€æœ‰å…ƒç´ çš„ä½ç½®çš„å‡å€¼ï¼›GMMæ˜¯åŸºäºæ¦‚ç‡çš„ç®—æ³•ï¼Œæ˜¯é€šè¿‡è®¡ç®—ä¼¼ç„¶å‡½æ•°çš„æœ€å¤§å€¼å®ç°åˆ†å¸ƒå‚æ•°çš„æ±‚è§£çš„ã€‚</p><h3 id="å…³äºgmmå¼•å‘çš„è¿‡æ‹Ÿåˆçš„æ€è€ƒ"><a class="header-anchor" href="#å…³äºgmmå¼•å‘çš„è¿‡æ‹Ÿåˆçš„æ€è€ƒ">ğŸŒŠ</a>å…³äºGMMå¼•å‘çš„è¿‡æ‹Ÿåˆçš„æ€è€ƒ</h3><p>é¦–å…ˆæˆ‘æƒ³æåˆ°è¿™æ ·çš„ä¸€ä¸ªâ€œäººè¾¨è®¤å…¶ä»–ç”Ÿç‰©ï¼ˆä¾‹å¦‚é±¼ï¼‰â€çš„ä¾‹å­ã€‚å½“æˆ‘ä»¬è¢«å‘ŠçŸ¥æ°´é‡Œæ¸¸çš„é‚£ä¸ªç”Ÿç‰©æ˜¯é±¼ä¹‹åï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨â€œåœ¨åŒæ ·çš„åœ°æ–¹ç”Ÿæ´»çš„æ˜¯åŒä¸€ç§ä¸œè¥¿â€è¿™ç±»ä¼¼çš„å‡è®¾ï¼Œå½’çº³å‡ºâ€œåœ¨æ°´é‡Œæ¸¸çš„éƒ½æ˜¯é±¼â€è¿™æ ·ä¸€ä¸ªç»“è®ºã€‚å½“ç„¶è¿™ä¸ªè¿‡ç¨‹æ˜¯å®Œå…¨â€œæœ¬èƒ½â€çš„ï¼Œå¦‚æœä¸ä»”ç»†å»æƒ³ï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šäº†è§£è‡ªå·±æ˜¯æ€æ ·â€œè®¤è¯†é±¼â€çš„ã€‚å¦ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„åœ°æ–¹æ˜¯è¿™æ ·çš„å‡è®¾å¹¶ä¸æ€»æ˜¯å®Œå…¨æ­£ç¡®çš„ï¼Œç”šè‡³å¯ä»¥è¯´æ€»æ˜¯ä¼šæœ‰è¿™æ ·é‚£æ ·çš„ç¼ºé™·çš„ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰å¯èƒ½ä¼šæŠŠè™¾ã€é¾Ÿã€ç”šè‡³æ˜¯æ½œæ°´å‘˜å½“åšé±¼ã€‚ä¹Ÿè®¸ä½ è§‰å¾—å¯ä»¥é€šè¿‡ä¿®æ”¹å‰æå‡è®¾æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¾‹å¦‚ï¼ŒåŸºäºâ€œç”Ÿæ´»åœ¨åŒæ ·çš„åœ°æ–¹å¹¶ä¸”ç©¿ç€åŒæ ·è¡£æœçš„æ˜¯åŒä¸€ç§ä¸œè¥¿â€è¿™ä¸ªå‡è®¾ï¼Œä½ å¾—å‡ºç»“è®ºï¼šåœ¨æ°´é‡Œæœ‰å¹¶ä¸”èº«ä¸Šé•¿æœ‰é³ç‰‡çš„æ˜¯é±¼ã€‚å¯æ˜¯è¿™æ ·è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå› ä¸ºæœ‰äº›æ²¡æœ‰é•¿é³ç‰‡çš„é±¼ç°åœ¨åˆè¢«ä½ æ’é™¤åœ¨å¤–äº†ã€‚</p><p>æœºå™¨åœ¨è¯†åˆ«æ–¹é¢é¢ä¸´ç€å’Œäººä¸€æ ·çš„é—®é¢˜ï¼Œåœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œä¸€ä¸ªå­¦ä¹ ç®—æ³•ä¹Ÿä¼šæœ‰ä¸€ä¸ªå‰æå‡è®¾ï¼Œè¿™é‡Œè¢«ç§°ä½œâ€œå½’çº³åæ‰§â€ã€‚ä¾‹å¦‚çº¿æ€§å›å½’ï¼Œç›®çš„æ˜¯è¦æ‰¾ä¸€ä¸ªå‡½æ•°å°½å¯èƒ½å¥½åœ°æ‹Ÿåˆç»™å®šçš„æ•°æ®ç‚¹ï¼Œå®ƒçš„å½’çº³åæ‰§å°±æ˜¯â€œæ»¡è¶³è¦æ±‚çš„å‡½æ•°å¿…é¡»æ˜¯çº¿æ€§å‡½æ•°â€ã€‚ä¸€ä¸ªæ²¡æœ‰å½’çº³åæ‰§çš„å­¦ä¹ ç®—æ³•ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´æ¯«æ— ç”¨å¤„ï¼Œå°±åƒä¸€ä¸ªå®Œå…¨æ²¡æœ‰å½’çº³èƒ½åŠ›çš„äººä¸€æ ·ï¼Œåœ¨ç¬¬ä¸€æ¬¡çœ‹åˆ°é±¼çš„æ—¶å€™æœ‰äººå‘Šè¯‰ä»–é‚£æ˜¯é±¼ï¼Œä¸‹æ¬¡çœ‹åˆ°å¦ä¸€æ¡é±¼äº†ï¼Œä»–å¹¶ä¸çŸ¥é“é‚£ä¹Ÿæ˜¯é±¼ï¼Œå› ä¸ºä¸¤æ¡é±¼æ€»æœ‰ä¸€äº›åœ°æ–¹ä¸ä¸€æ ·çš„ï¼Œæˆ–è€…å°±ç®—æ˜¯åŒä¸€æ¡é±¼ï¼Œåœ¨æ²³é‡Œä¸åŒçš„åœ°æ–¹çœ‹åˆ°ï¼Œæˆ–è€…åªæ˜¯çœ‹åˆ°çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œä¹Ÿä¼šè¢«ä»–è®¤ä¸ºæ˜¯ä¸åŒçš„ï¼Œå› ä¸ºä»–æ— æ³•å½’çº³ï¼Œæ— æ³•æå–ä¸»è¦çŸ›ç›¾ã€å¿½ç•¥æ¬¡è¦å› ç´ ï¼Œåªå¥½è¦æ±‚æ‰€æœ‰çš„æ¡ä»¶éƒ½å®Œå…¨ä¸€æ ·â”€â”€ç„¶è€Œå“²å­¦å®¶å·²ç»å‘Šè¯‰è¿‡æˆ‘ä»¬äº†ï¼šä¸–ç•Œä¸Šä¸ä¼šæœ‰ä»»ä½•æ ·ä¸œè¥¿æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿™ä¸ªäººå³ä½¿æ˜¯æœ‰æ— æ¯”å¼ºæ‚çš„è®°å¿†åŠ›ï¼Œä¹Ÿç»å­¦ä¸åˆ°ä»»ä½•ä¸€ç‚¹çŸ¥è¯†ã€‚</p><p>äºæ˜¯æœ‰äº†ä¸Šé¢çš„é“ºå«ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼•å‡ºè®ºé¢˜â€”â€”â€œè¿‡æ‹Ÿåˆ â€ï¼Œå°±åƒå‰é¢çš„å›å½’çš„é—®é¢˜ï¼Œå¦‚æœå»æ‰â€œçº¿æ€§å‡½æ•°â€è¿™ä¸ªå½’çº³åæ‰§ï¼Œå› ä¸ºå¯¹äº N ä¸ªç‚¹ï¼Œæˆ‘ä»¬æ€»æ˜¯å¯ä»¥æ„é€ ä¸€ä¸ª N-1 æ¬¡å¤šé¡¹å¼å‡½æ•°ï¼Œè®©å®ƒå®Œç¾åœ°ç©¿è¿‡æ‰€æœ‰çš„è¿™ N ä¸ªç‚¹ï¼Œæˆ–è€…å¦‚æœæˆ‘ç”¨ä»»ä½•å¤§äº N-1 æ¬¡çš„å¤šé¡¹å¼å‡½æ•°çš„è¯ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥æ„é€ å‡ºæ— ç©·å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„å‡½æ•°å‡ºæ¥ã€‚å¦‚æœå‡å®šç‰¹å®šé¢†åŸŸé‡Œçš„é—®é¢˜æ‰€ç»™å®šçš„æ•°æ®ä¸ªæ•°æ€»æ˜¯æœ‰ä¸ªä¸Šé™çš„è¯ï¼Œæˆ‘å¯ä»¥å–ä¸€ä¸ªè¶³å¤Ÿå¤§çš„ N ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªï¼ˆæˆ–è€…æ— ç©·å¤šä¸ªï¼‰â€œè¶…çº§å‡½æ•°â€ï¼Œèƒ½å¤Ÿæ‹Ÿåˆè¿™ä¸ªé¢†åŸŸå†…æ‰€æœ‰çš„é—®é¢˜ã€‚</p><p>æ²¡æœ‰å½’çº³åæ‰§æˆ–è€…å½’çº³åæ‰§å¤ªå®½æ³›ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆ ï¼Œç„¶è€Œå¦ä¸€ä¸ªæç«¯â”€â”€é™åˆ¶è¿‡å¤§çš„å½’çº³åæ‰§ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ï¼šå¦‚æœæ•°æ®æœ¬èº«å¹¶ä¸æ˜¯çº¿æ€§çš„ï¼Œå¼ºè¡Œç”¨çº¿æ€§å‡½æ•°å»åšå›å½’é€šå¸¸å¹¶ä¸èƒ½å¾—åˆ°å¥½ç»“æœï¼ˆä¾‹å¦‚æˆ‘åœ¨â€œå®éªŒä¸€ï¼šå¤šé¡¹å¼æ‹Ÿåˆæ›²çº¿â€ä¸­å°±åšè¿‡ç›¸åº”çš„æµ‹è¯•ï¼‰ã€‚éš¾ç‚¹æ­£åœ¨äºåœ¨è¿™ä¹‹é—´å¯»æ‰¾ä¸€ä¸ªä¸´ç•Œç‚¹ã€‚ä¸è¿‡æˆ‘ä»¬åœ¨è¿™é‡Œç›¸å¯¹äºæœºå™¨æ¥è¯´æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä¼˜åŠ¿ï¼šäººé€šå¸¸ä¸ä¼šå­¤ç«‹åœ°ç”¨æŸä¸€ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿå’Œæ¨¡å‹å»å¤„ç†é—®é¢˜ï¼Œä¸€ä¸ªäººæ¯å¤©éƒ½ä¼šä»å„ä¸ªæ¥æºè·å–å¤§é‡çš„ä¿¡æ¯ï¼Œå¹¶ä¸”é€šè¿‡å„ç§æ‰‹æ®µè¿›è¡Œæ•´åˆå¤„ç†ï¼Œå½’çº³æ‰€å¾—çš„æ‰€æœ‰çŸ¥è¯†æœ€ç»ˆå¾—ä»¥ç»Ÿä¸€åœ°å­˜å‚¨èµ·æ¥ï¼Œå¹¶èƒ½æœ‰æœºåœ°ç»„åˆèµ·æ¥å»è§£å†³ç‰¹å®šçš„é—®é¢˜ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯æˆ‘å…³äºâ€œè¿‡æ‹Ÿåˆâ€çš„ä¸€ç‚¹ä¸å…¨é¢çš„æ€è€ƒï¼</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/177fbbcc/">http://meng.uno/posts/177fbbcc/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å…ˆä¸Šä»£ç ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      &lt;td class=&quot;gutter&quot;&gt;
        &lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;spa
      
    
    </summary>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Androidæ–°é—»è½¯ä»¶ç¼–å†™</title>
    <link href="http://meng.uno/posts/8fb3f6d8/"/>
    <id>http://meng.uno/posts/8fb3f6d8/</id>
    <published>2016-12-16T07:01:14.000Z</published>
    <updated>2018-02-09T10:46:20.938Z</updated>
    
    <content type="html"><![CDATA[<p>å½“æˆ‘å¼€å§‹å­¦å®‰å“å¼€å‘æ—¶ï¼Œæˆ‘å‘ç°ç½‘ä¸Šæœ€å¤šçš„æ•™ç¨‹å°±æ˜¯å…³äºAndroidä¸Šçš„æ–°é—»å®¢æˆ·ç«¯å¼€å‘çš„ï¼ˆè€Œä¸”è¯¾æ—¶ç‰¹åˆ«é•¿ï¼‰ï¼Œæˆ‘æœ¬äººè§‰å¾—å®Œå…¨æ˜¯é‚£äº›ä¸Šä¼ ç½‘è¯¾çš„äººæƒ³æ‹‰æ—¶é•¿ç‰Ÿåˆ©ï¼Œåœ¨å†™å®Œlistviewä¹‹åï¼Œå› ä¸ºæˆ‘ä»¬çš„ã€Šè½¯è®¾ã€‹é¡¹ç›®éœ€è¦ï¼Œæˆ‘ä¹Ÿæ¥åšåšâ€œæ–°é—»é¡µâ€ï¼Œæˆ‘åªå†™æ˜¾ç¤ºè¿‡ç¨‹ï¼ˆä¸æ¶‰åŠçˆ¬è™«ï¼‰ï¼Œåªæ˜¯ä¸ºäº†è®°å½•ä¸‹å¼€å‘è¿‡ç¨‹ä¾›åˆå­¦è€…åŠæ—¥åè‡ªå·±å›é¡¾ã€‚<br> é¦–å…ˆï¼Œæˆ‘åœ¨values/stringç›®å½•åŠ ä¸Šå¦‚ä¸‹æ¡ç›®ï¼Œç”¨ä½œæ˜¾ç¤ºï¼ˆå†…å®¹æ— å…³ï¼‰ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;string name="title"&gt;æ˜¯ä¸Šå¸é™¤å››å®³æ˜¯çš„æ¬¡æ•°ä¸å¤šæ˜¯å½»åº•é‚£å°±æ˜¯åœ°äº§è¡¨ç¤ºæ¯”ä¸å¯¹æ˜¯ä¸æ­»éƒ½ä»Š?&lt;/string&gt;</span><br><span class="line">   &lt;string name=<span class="string">"text"</span>&gt;æˆ‘æ˜¯æµ‹æ‰‹æœ¯å‚¨å¤‡è´§å¸ç»“ç®—ä½ è¯´çš„å†…å­˜é‡‘å£«é¡¿å†…å­˜å°±å‰§åœºé‚£å°±çœ‹åˆ°æ‰‹æ®‹ä½ ä»ä»ä»Šå¹´åˆ·å¡æ‰èƒ½åŠ å†…å­˜æ˜¾å¡æ‰èƒ½æ”¶åˆ°ä½ ä»Šå¹´çš„ä½ æœé²œæ‰èƒ½å¸¸å‡ºç°ä»ä¾ å®¢è¡Œæœé²œ&lt;/string&gt;</span><br><span class="line">   &lt;string-array name=<span class="string">"text_arr"</span>&gt;</span><br><span class="line">       &lt;item&gt;bidsæ¯”è²‚è‰æ­»ä¸æ‰“ç®—æ¯”èµ›çš„budsä¸vç”µè¯è‹å¸®ä½ å§æŠ¥é”™è¿˜åŠ ç­çŒæ­»åœ°äº§è¡¨ç¤ºå‡ºç‰ˆç¤¾uç™½å´‡ç¦§å¿…é¡»&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;ä½†æ˜¯ä¸æ’’æ‰‹æ’’å°±è¡Œå­—æ•°é™åˆ¶åˆ°<span class="number">6</span>ä¸ªå­—ï¼Œå¤šçš„ç”¨çœç•¥å·ï¼Œæ˜¯è®¾ç½®ä»€ä¹ˆå±å­¦æ ¡å†³å®šåœæ­¢æ™šè‡ªä¹ ï¼Œæˆ‘å’ŒåŒå­¦ä¸€èµ·å›èšå†¬</span><br><span class="line">              æˆ‘æ˜¯åœ¨é‚£æ¬¡å­é›…ä¹‹æ˜Ÿçš„äº‹è¿¹æŠ¥å‘Šä¼šä¸Šè®¤è¯†å¥¹çš„ã€‚å½“è½®åˆ°å¥¹ä¸Šåœºçš„æ—¶å€™ï¼Œä¸»æŒäººè¿™æ ·è¯´é“ï¼šâ€œå¥¹æ˜¯ä¸€ä¸ªå¤–è¡¨åˆšå¼ºï¼Œå†…å¿ƒæŸ”å¼±çš„äººã€‚â€è¯éŸ³åˆšè½ï¼Œå¥¹ç­ä¸Šçš„åŒå­¦ä¸€é˜µå“„å ‚å¤§ç¬‘ã€‚</span><br><span class="line">           æˆ‘ç”¨ç–‘æƒ‘çš„çœ¼ç¥çœ‹äº†çœ‹èº«æ—çš„åŒå­¦ï¼Œå¥¹å‘Šè¯‰æˆ‘ï¼Œåœ¨å¥¹ä»¬ç­ä¸Šè°éƒ½çŸ¥é“å¥¹æ˜¯ä¸€ä¸ªæ ‡å‡†çš„å¥³æ±‰å­ã€‚å¥¹çš„è¯å‹¾èµ·äº†æˆ‘çš„å¥½å¥‡å¿ƒï¼Œä½¿æˆ‘æœ‰äº†æƒ³å¬å¬å¥¹çš„æ•…äº‹çš„æ¬²æœ›ã€‚</span><br><span class="line">              å¥¹æ­¥å±¥åšå®šçš„èµ°ä¸Šäº†æ¼”è®²å°ï¼Œå…ˆæ˜¯å‘æˆ‘ä»¬æ·±æ·±åœ°é äº†ä¸€èº¬ï¼Œä¾¿å¼€å§‹å¨“å¨“é“æ¥å¥¹çš„äº‹è¿¹ã€‚</span><br><span class="line">              å¥¹çš„çˆ¶æ¯éƒ½åœ¨å¤–æ‰“æ‹¼ï¼Œå¿™äºäº‹ä¸šï¼Œæ‰€ä»¥å¾ˆå°‘æœ‰ç©ºå»ç…§é¡¾å¥¹ï¼Œæ‰€ä»¥å®¶ä¸­çš„ä¸€åˆ‡åªèƒ½ç”±å¥¹ä¸€äººåŒ…åŠã€‚åæ¥ï¼Œå¥¹åˆæœ‰äº†ä¸€ä¸ªå¦¹å¦¹ï¼Œè‡´ä½¿å¥¹èº«ä¸Šçš„æ‹…å­åˆåŠ é‡äº†è®¸å¤šï¼Œä½†å¥¹ä¾ç„¶ååˆ†</span><br><span class="line">           åšå¼ºçš„æ‰¿æ‹…è¿™ä¸€åˆ‡ã€‚å¥¹è¯´å¦¹å¦¹çš„åˆ°æ¥å¯¹äºå¥¹æ¥è¯´åƒä¸€ä¸ªå¤©ä½¿ä¸€æ ·ç¾å¥½ï¼Œè€Œå¹¶ä¸æ˜¯è§‰å¾—å¥¹æ˜¯ä¸€ä¸ªè´Ÿæ‹…ã€‚å½“æˆ‘ä»¬å›åˆ°å®¶ä¸­æ‰‘åœ¨çˆ¶æ¯æ€€é‡Œæ’’å¨‡æ—¶ï¼Œå¥¹åœ¨åºŠå¤´å“„ç€å¦¹å¦¹å…¥ç¡ï¼›å½“æˆ‘ä½œæ–‡ç½‘</span><br><span class="line">           http:<span class="comment">//wwW.zuoWen8.Com/ä»¬å®‰ç¨³çš„è¿›å…¥æ¢¦ä¹¡æ—¶ï¼Œå¥¹å´è¿˜åœ¨å¥‹ç¬”ç–¾ä¹¦ã€‚å¤œçš„é»‘æš—ä¸æ¼«é•¿ï¼Œåªæœ‰å¥¹æ‰çŸ¥é“ï¼›æ€å¿µçš„æ„Ÿå—æœ‰å¤šæµ“ç¨ ï¼Œåªæœ‰å¥¹æ‰çŸ¥é“ï¼›å†…å¿ƒçš„å‹æŠ‘æœ‰å¤šéš¾å—ï¼Œåªæœ‰å¥¹æ‰çŸ¥</span></span><br><span class="line">           é“ã€‚</span><br><span class="line">              å½“å¥¹è¯´åˆ°å¦¹å¦¹å› è°ƒçš®å°†å¾ˆçƒ«çš„é¥­èœæ´’åˆ°å¥¹çš„æ‰‹è‡‚ä¸Šï¼Œå¥¹è¿˜å¾—ç»§ç»­ç»™å¦¹å¦¹å–‚é¥­æ—¶ï¼Œå½“å¥¹æåŠå¦¹å¦¹åšåäº‹åå¥¹å¿æ°”åå£°çš„åˆ°åˆ«äººå®¶ä¸­é“æ­‰æ—¶ï¼Œå¥¹å“½å’½äº†ï¼Œå°†å¤´æ‰­åˆ°ä¸€è¾¹ç‹¬è‡ªæŠ¹çœ¼æ³ªã€‚</span><br><span class="line">           æˆ‘ä»¬æ²‰é»˜äº†ï¼Œä½å¤´ä¸è¯­ã€‚å¿§ä¼¤çš„æ°”æ¯è¿…é€Ÿåœ¨å…¨åœºè”“å»¶ï¼Œæ¯ä¸ªäººçš„å¿ƒéƒ½åœ¨å’Œå¥¹å…±é¸£ç€ï¼Œæœ‰å¥½å‡ æ¬¡ï¼Œå¥¹æ­£å‡†å¤‡å¼€å£æ—¶ï¼Œå´éƒ½å¡åœ¨äº†å–‰å’™ï¼Œå…¨åœºä¸ºå¥¹å“èµ·äº†é›·é¸£èˆ¬ç»ä¹…ä¸æ¯çš„æŒå£°ã€‚</span><br><span class="line">       &lt;/item&gt;</span><br><span class="line">       &lt;item&gt;çœ‹åˆ°ä»–æˆ‘æƒ³åˆ°äº†çˆ¸çˆ¸ï¼Œå¹¸å¥½ä»–ä»Šå¤©ä¸ä¸Šç­ï¼Œä¸ç”¨å†’é‚£ä¹ˆå¤§çš„é›ªï¼Œå‡å¦‚å“ªä¸ªäººæ˜¯æˆ‘çˆ¸çˆ¸ï¼Œæˆ‘å¤šä¹ˆå¸Œçœ‹æœ‰ä¸€ä¸ªå¥½å¿ƒäººä¸Šå‰ä¼¸å‡ºä¸€åªæ‰‹ï¼Œå¸®ä»–ä¸€æŠŠã€‚å‡å¦‚é‚£æ˜¯ä½ ï¼Œ&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;æˆ‘åœäº†è½¦å­ï¼Œæƒ³å¾€å¸®åŠ©ä»–ï¼Œå¯æˆ‘ä¹Ÿè±¡é‚£äº›æ¥æ¥å¾€å¾€çš„è¡Œäººä¸€æ ·ï¼Œè„šæ­¥å¹¶æ²¡æœ‰åŠ¨ï¼Œçš„ç¡®æœ‰å¾ˆå¤šäººåŒæƒ…ä»–ï¼ŒåŒæƒ…ä¹Ÿçš„ç¡®å¯¹ä»–æ²¡ç”¨ï¼Œä»–è¿˜æ˜¯ç«™ä¸èµ·æ¥ï¼Œä¸€éä¸€éçœ‹ä»–èµ·æ¥åˆæ‘”å€’ï¼Œåªå¥½è½¬è¿‡å¤´ï¼Œ</span><br><span class="line">           ä¸çœ‹ä»–ï¼Œç–¼ç—›æ— å¥ˆï¼Œä¸€ä¸ªä¸­å¹´ç”·å­çš„çª˜æ€åœ¨ä¼—äººçœ¼å‰æš´éœ²æ— é—ï¼Œè¿™æ—¶çš„ä»–æ²¡æœ‰ä¸€ç‚¹ç”·å­æ±‰çš„å¿ƒèƒ¸ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;èµ°åˆ°ä¸€ä¸ªå°å²”è·¯å£æ—¶ï¼Œæˆ‘çœ‹åˆ°è·¯çš„å¦ä¸€è¾¹ä¸€ä¸ªä¸­å¹´ç”·å­ååœ¨åœ°ä¸Šï¼Œä»–ç©¿ç€é’è‰²è¡£æœï¼ŒåŒæ‰‹æ‰¶åœ°ï¼Œä¼¼ä¹æŒ£æ‰ç€åèµ·æ¥ï¼Œä¸€æ¬¡åˆä¸€æ¬¡å°è¯•ç€ã€‚æ—è¾¹èººç€ä»–çš„å°½çœ‹çš„å¤§æ¢è‡ªè¡Œè½¦ï¼Œç­‰å¾…ç€ä¸»äººæ‰¶</span><br><span class="line">           èµ·å®ƒï¼Œåœ¨è¿™è·¯ä¸Šæœ€éš¾è¿‡çš„å°±æ˜¯ä»–ä»¬äº†å§ï¼ä¹Ÿåªæœ‰ä»–ä»¬å¯ä»¥ç›¸äº’å®‰æ…°ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;æ˜¥å¤©ï¼Œæ˜¥å§‘å¨˜å¸¦æ¥äº†è’™è’™ç»†é›¨å’ŒæŸ”å’Œçš„æ˜¥é£ï¼Œå¹¶æŠŠå®ƒä»¬åŒ–ä½œä¸€åªå¤§ç”»ç¬”ï¼ŒæŠŠç»¿è‰²æ¶‚åœ¨è‰åªä¸Šã€‚è¿™æ—¶ï¼Œæ— æ•°åªå°ç‡•å­ä»è¿œæ–¹é£æ¥ï¼Œåœ¨è‰åªä¸Šé£æ¥é£å»ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;å¤å¤©ï¼Œè‰åªæ—çš„èŠ±å›é‡Œï¼Œæœˆå­£èŠ±æ¬£ç„¶æ€’æ”¾ï¼Œå¼•æ¥äº†å‹¤åŠ³çš„å°èœœèœ‚å’Œç¿©ç¿©èµ·èˆçš„è´è¶ï¼Œçƒ­é—¹æäº†ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;å†¬å¤©ï¼Œé›ªèŠ±è½åˆ°è‰åªä¸Šï¼Œç»™è‰åªç›–ä¸Šäº†ä¸€å±‚åšåšçš„æ£‰è¢«ï¼Œæ¥å¹´ï¼Œå°è‰æ›´åŠ èŒå£®æˆé•¿ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;è‰åªå°±åƒä¸€ä¸ªæ°§æ°”è¢‹ï¼Œå®ƒé€šè¿‡å…‰åˆä½œç”¨ï¼Œå‡€åŒ–ç©ºæ°”ï¼Œç¾åŒ–ç¯å¢ƒã€‚æˆ‘ä»¬è¦çˆ±æŠ¤å­¦æ ¡çš„è‰åªã€‚&lt;/item&gt;</span><br><span class="line">   &lt;/string-array&gt;</span><br><span class="line">   &lt;string-array name=<span class="string">"title_arr"</span>&gt;</span><br><span class="line">       &lt;item&gt;æ­»åœ°äº§è¡¨ç¤ºå‡ºç‰ˆç¤¾uç™½å´‡ç¦§å¿…é¡»&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;åœæ­¢æ™šè‡ªä¹ ï¼Œæˆ‘å’ŒåŒå­¦ä¸€èµ·å›èšå†¬&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;å‡å¦‚å“ªä¸ªäººæ˜¯æˆ‘çˆ¸çˆ¸ï¼Œæˆ‘å¤šä¹ˆå¸Œçœ‹æœ‰ä¸€ä¸ªå¥½å¿ƒäººä¸Šå‰ä¼¸å‡ºä¸€åªæ‰‹ï¼Œå¸®ä»–ä¸€æŠŠã€‚å‡å¦‚é‚£æ˜¯ä½ ï¼Œ&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;æˆ‘åœäº†çš„è¡Œäººä¸€æ ·ï¼Œè„šæ­¥å¹¶æ²¡æœ‰åŠ¨ï¼Œçš„ç¡®æœ‰å¾ˆå¤šäººåŒæƒ…ä»–ï¼ŒåŒæƒ…ä¹Ÿçš„ç¡®å¯¹ä»–æ²¡ç”¨ï¼Œä»–è¿˜æ˜¯ç«™ä¸èµ·æ¥ï¼Œä¸€éä¸€éçœ‹ä»–èµ·æ¥åˆæ‘”å€’ï¼Œåªå¥½è½¬è¿‡å¤´ï¼Œä»–æ²¡æœ‰ä¸€ç‚¹ç”·å­æ±‰çš„å¿ƒèƒ¸ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;ä»–ç©¿ç€é’è‰²è¡£æœï¼ŒåŒæ‰‹æ‰¶åœ°ï¼Œä¼¼ä¹æŒ£æ‰ç€åèµ·æ¥ï¼Œä¸€æ¬¡åˆä¸€æ¬¡å°è¯•ç€ã€‚æ—è¾¹èººç€ä»–çš„å°½çœ‹çš„å¤§æ¢è‡ªè¡Œè½¦ï¼Œç­‰å¾…ç€ä¸»äººæ‰¶&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;æ˜¥å¤©ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;å¤å¤©æäº†ã€‚&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;å†¬å¤©ï¼Œé›ªèŠ±è½åˆ°&lt;/item&gt;</span><br><span class="line">       &lt;item&gt;è‰åªå°±åƒçš„è‰åªã€‚&lt;/item&gt;</span><br><span class="line">   &lt;/string-array&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>æ¥ç€ç¼–å†™æ˜¾ç¤ºä¸»ç•Œé¢ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre>      </td>      <td class="code">        <pre><span class="line">public class MainActivity extends AppCompatActivity&#123;</span><br><span class="line">    private ListView listview;</span><br><span class="line">    <span class="comment">//private ArrayAdapter&lt;String&gt;arr_adapter;</span></span><br><span class="line">    private SimpleAdapter simp_Adapter;</span><br><span class="line">    private List&lt;Map&lt;String,String&gt;&gt;datalist;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        listview = (ListView)findViewById(R.id.listview);</span><br><span class="line">        datalist = new ArrayList&lt;Map&lt;String,String&gt;&gt;();</span><br><span class="line">        simp_Adapter = new SimpleAdapter(this,getData(),R<span class="selector-class">.layout</span><span class="selector-class">.item</span>,</span><br><span class="line">                new String[]&#123;"title","text"&#125;,new int[]&#123;R.id.title,R.id.text&#125;);</span><br><span class="line">        listview.setAdapter(simp_Adapter);</span><br><span class="line">    &#125;</span><br><span class="line">    private List&lt;Map&lt;String,String&gt;&gt; getData()&#123;</span><br><span class="line">        String[] data_text = getResources().getStringArray(R.array.text_arr);</span><br><span class="line">        String[] data_title = getResources().getStringArray(R.array.title_arr);</span><br><span class="line">        for(int i=0;i&lt;data_text.length;i++)&#123;</span><br><span class="line">            Map&lt;String,String&gt;map = new HashMap&lt;String,String&gt;();</span><br><span class="line">            map.put("title",data_title[i]);</span><br><span class="line">            map.put("text",data_text[i]);</span><br><span class="line">            datalist.add(map);</span><br><span class="line">        &#125;</span><br><span class="line">        return datalist;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>å…¶å¯¹åº”çš„activity_main.xmlæ–‡ä»¶ä¸ºï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:id=<span class="string">"@+id/activity_main"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:paddingBottom=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    android:paddingTop=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    tools:context=<span class="string">"com.example.lpf.test.MainActivity"</span>&gt;</span><br><span class="line">    &lt;ListView</span><br><span class="line">        android:id=<span class="string">"@+id/listview"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_alignParentBottom=<span class="string">"true"</span></span><br><span class="line">        android:layout_alignParentStart=<span class="string">"true"</span></span><br><span class="line">        android:<span class="attribute">background</span>=<span class="string">"@color/bg"</span></span><br><span class="line">        android:divider=<span class="string">"@color/item_item"</span></span><br><span class="line">        android:dividerHeight=<span class="string">"10dp"</span>/&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>å†ç„¶åï¼Œç¼–å†™ç‚¹å‡»åçš„åå°è·³è½¬é€»è¾‘ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre>      </td>      <td class="code">        <pre><span class="line">public class ShowActivity extends AppCompatActivity &#123;</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_show);</span><br><span class="line">        Bundle bundle = getIntent().getExtras();</span><br><span class="line">        String title = bundle.getString("title");</span><br><span class="line">        String text = bundle.getString("text");</span><br><span class="line">        TextView title_view = (TextView) findViewById(R.id.title);</span><br><span class="line">        title_view.setText(title);</span><br><span class="line">        TextView text_view = (TextView) findViewById(R.id.text);</span><br><span class="line">        text_view.setMovementMethod(ScrollingMovementMethod.getInstance());</span><br><span class="line">        text_view.setText(text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>å¯¹åº”çš„activity_show.xmlæ–‡ä»¶å¦‚ä¸‹ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:paddingBottom=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    android:paddingLeft=<span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">    android:paddingRight=<span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">    android:paddingTop=<span class="string">"@dimen/activity_vertical_margin"</span>&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:id=<span class="string">"@+id/title"</span></span><br><span class="line">        android:text=<span class="string">"@string/title"</span></span><br><span class="line">        android:textSize=<span class="string">"22sp"</span></span><br><span class="line">        android:typeface=<span class="string">"monospace"</span></span><br><span class="line">        android:<span class="attribute">background</span>=<span class="string">"@color/itembg"</span>/&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:id=<span class="string">"@+id/text"</span></span><br><span class="line">        android:textSize=<span class="string">"18sp"</span></span><br><span class="line">        android:textColor=<span class="string">"@color/textbg"</span></span><br><span class="line">        android:typeface=<span class="string">"normal"</span></span><br><span class="line">        android:scrollbars=<span class="string">"vertical"</span></span><br><span class="line">        android:text=<span class="string">"@string/text"</span>/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>æœ€åå°±æ˜¯è´Ÿè´£ç‚¹å‡»è·³è½¬çš„ä»»åŠ¡çš„åå°ç¨‹åºäº†ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre>      </td>      <td class="code">        <pre><span class="line">public class TestActivity extends ListActivity &#123;</span><br><span class="line">    String[] data = &#123;"åŒ—äº¬","è¥¿å®‰","å¹¿å·","ä¸Šæµ·"&#125;;</span><br><span class="line">    ListView lstview;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        lstview = (ListView)findViewById(R.id.listview);</span><br><span class="line">        lstview.setOnItemClickListener(new AdapterView.OnItemClickListener()&#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123;</span><br><span class="line">                String s = data[<span class="attribute">position</span>];    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(</span><br><span class="line">                this,</span><br><span class="line">                R<span class="selector-class">.layout</span><span class="selector-class">.item</span>,</span><br><span class="line">                R<span class="selector-class">.id</span><span class="selector-class">.listview</span>,</span><br><span class="line">                data</span><br><span class="line">        );</span><br><span class="line">        lstview.setAdapter(adapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>é™„åŠ ä¸€ä¸ªitem.xmlç”¨äºæ¥æ”¶æ˜¾ç¤ºï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:paddingBottom=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    android:paddingLeft=<span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">    android:paddingRight=<span class="string">"@dimen/activity_horizontal_margin"</span></span><br><span class="line">    android:paddingTop=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    android:<span class="attribute">background</span>=<span class="string">"@drawable/white_bg"</span>&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:id=<span class="string">"@+id/title"</span></span><br><span class="line">        android:text=<span class="string">"@string/title"</span></span><br><span class="line">        android:textSize=<span class="string">"20sp"</span></span><br><span class="line">        android:typeface=<span class="string">"monospace"</span></span><br><span class="line">        android:<span class="attribute">background</span>=<span class="string">"@color/itembg"</span>/&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_width=<span class="string">"wrap_content"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:id=<span class="string">"@+id/text"</span></span><br><span class="line">        android:textSize=<span class="string">"15sp"</span></span><br><span class="line">        android:textColor=<span class="string">"@color/textbg"</span></span><br><span class="line">        android:typeface=<span class="string">"normal"</span></span><br><span class="line">        android:maxLines=<span class="string">"3"</span></span><br><span class="line">        android:ellipsize=<span class="string">"end"</span></span><br><span class="line">        android:text=<span class="string">"@string/text"</span>/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>è‡³æ­¤ä¸€ä¸ªæ–°é—»å®¢æˆ·ç«¯åŸºæœ¬æ¡†æ¶å°±å·²ç»ç¼–å†™å®Œæ¯•ï¼</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/8fb3f6d8/">http://meng.uno/posts/8fb3f6d8/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å½“æˆ‘å¼€å§‹å­¦å®‰å“å¼€å‘æ—¶ï¼Œæˆ‘å‘ç°ç½‘ä¸Šæœ€å¤šçš„æ•™ç¨‹å°±æ˜¯å…³äºAndroidä¸Šçš„æ–°é—»å®¢æˆ·ç«¯å¼€å‘çš„ï¼ˆè€Œä¸”è¯¾æ—¶ç‰¹åˆ«é•¿ï¼‰ï¼Œæˆ‘æœ¬äººè§‰å¾—å®Œå…¨æ˜¯é‚£äº›ä¸Šä¼ ç½‘è¯¾çš„äººæƒ³æ‹‰æ—¶é•¿ç‰Ÿåˆ©ï¼Œåœ¨å†™å®Œlistviewä¹‹åï¼Œå› ä¸ºæˆ‘ä»¬çš„ã€Šè½¯è®¾ã€‹é¡¹ç›®éœ€è¦ï¼Œæˆ‘ä¹Ÿæ¥åšåšâ€œæ–°é—»é¡µâ€ï¼Œæˆ‘åªå†™æ˜¾ç¤ºè¿‡ç¨‹ï¼ˆä¸æ¶‰åŠçˆ¬è™«ï¼‰ï¼Œåªæ˜¯ä¸ºäº†è®°å½•ä¸‹å¼€
      
    
    </summary>
    
      <category term="Android" scheme="http://meng.uno/categories/Android/"/>
    
    
      <category term="Android" scheme="http://meng.uno/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Linux 0.11å¯åŠ¨å¼•å¯¼</title>
    <link href="http://meng.uno/posts/6c138ff9/"/>
    <id>http://meng.uno/posts/6c138ff9/</id>
    <published>2016-12-16T06:52:23.000Z</published>
    <updated>2018-02-09T10:46:20.931Z</updated>
    
    <content type="html"><![CDATA[<p>Linuxå¼•å¯¼å¯åŠ¨ç¨‹åºç¨‹åºåœ¨bootç›®å½•ä¸‹ï¼Œæœ‰bootset.s, head.så’Œsetup.sï¼ˆç¼–è¯‘åï¼‰ï¼Œå…¶ä¸­ï¼š</p><h2 id="bootset-s"><a class="header-anchor" href="#bootset-s">ğŸŒŠ</a>bootset.s</h2><p>ç³»ç»Ÿå¯åŠ¨æ—¶é¦–å…ˆæ˜¯è¿›å…¥å®æ¨¡å¼ï¼Œä»åœ°å€0xffff0ï¼ˆè¿™åœ°å€æ˜ å°„çš„rom-biosåœ¨å†…å­˜çš„åœ°å€ï¼‰å¤„å¼€å§‹æ‰§è¡Œbiosä»£ç ï¼Œç„¶åæ‰§è¡Œç³»ç»Ÿæ£€æµ‹ï¼ˆä¹Ÿå°±æ˜¯è‡ªæ£€è¿‡ç¨‹ï¼‰,ç„¶ååˆå§‹åŒ–å®æ¨¡å¼çš„ä¸­æ–­å‘é‡è¡¨(å®æ¨¡å¼ä¸­æ–­å‘é‡åœ¨å†…å­˜ç‰©ç†åœ°å€0å¤„)ã€‚ç„¶åå°†å¯åŠ¨è®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼ˆ512å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯bootset.sç¼–è¯‘å®Œæˆçš„å†…å®¹ï¼‰å†…å®¹è¯»å–åˆ°å†…å­˜0x7c00(31kB)å¤„ï¼Œå¹¶ä¸”è·³è½¬åˆ°è¿™é‡Œã€‚<br> è·³è½¬åˆ°bootset.såï¼Œbootset.sä¸»è¦åšå¦‚ä¸‹å·¥ä½œï¼š  <br> bootset.såœ¨æœ€å‰é¢çš„å‡ å¥ä»£ç å…ˆå°†è‡ªå·±ç§»åŠ¨åˆ°å†…å­˜0x90000ï¼ˆ576kBï¼‰å¤„ï¼›  <br> bootset.så°†å¯åŠ¨è®¾å¤‡ç¬¬2ä¸ªæ‰‡åŒºåˆ°ç¬¬äº”ä¸ªæ‰‡åŒºå†…å®¹ï¼ˆ4ä¸ªæ‰‡åŒºé‡Œé¢å­˜æ”¾çš„æ˜¯setup.sçš„å†…å®¹ï¼‰è¯»å–åˆ°å†…å­˜0x90200å¤„ï¼Œä¹Ÿå°±æ˜¯bootset.såé¢ï¼›  <br> å°†å†…æ ¸å…¶ä»–æ¨¡å—è¯»å–åˆ°0x10000ï¼ˆ64KBï¼‰å¤„ï¼Œè¯»å–çš„å¤§å°ä¸º192KBï¼Œå¯¹äºå½“æ—¶çš„å†…æ ¸æ¥è¯´ç¡®å®æ˜¯è¶³å¤Ÿå¤§äº†ï¼›  <br> åœ¨bootset.såç§»508å¤„å®šä¹‰äº†æ ¹æ–‡ä»¶ç³»ç»Ÿçš„è®¾å¤‡å·ï¼Œå¹¶ä¸”æ ¹æ®ç¼–è¯‘é€‰é¡¹è¿›è¡Œäº†èµ‹å€¼æ“ä»£ç é»˜è®¤å¯åŠ¨é©±åŠ¨å™¨æ˜¯è½¯ç›˜aï¼Œç„¶åå°±æ˜¯bootset.s,setup.s,å’Œå†…æ ¸é•œåƒéƒ½æˆæ”¾åœ¨è½¯ç›˜aä¸­;</p><h2 id="setup-s"><a class="header-anchor" href="#setup-s">ğŸŒŠ</a>setup.s</h2><p>å°†ç³»ç»Ÿçš„ä¸€äº›å‚æ•°å­˜æ”¾åœ¨0x90000å¤„,è¦†ç›–ä¹‹å‰çš„bootset.s,å‚æ•°ä¸»è¦åŒ…æ‹¬ï¼Œå†…å­˜å¤§å°ï¼Œç¡¬ç›˜å‚æ•°ï¼Œæ˜¾å­˜çš„å‚æ•°ä¿¡æ¯ä»¥åŠæ ¹æ–‡ä»¶ç³»ç»Ÿçš„è®¾å¤‡å·;<br> å®šä¹‰äº†GDTè¡¨ï¼Œæœ€ååŠ è½½äº†gdtrå’Œldtrï¼Œæœ€åè·³åˆ°ä¿æŠ¤æ¨¡å¼GDTè¡¨å®šä¹‰åœ¨setup.s,ä¹Ÿå°±æ˜¯åœ¨0x90200çš„é‚£æ®µå†…å­˜ä¸­ï¼ŒLDTè¿˜æ²¡æœ‰å®šä¹‰ã€‚</p><h2 id="head-s"><a class="header-anchor" href="#head-s">ğŸŒŠ</a>head.s</h2><p>å…¶è¢«ç¼–è¯‘åˆ°å†…æ ¸é•œåƒä¸­ã€‚é‡æ–°å®šä¹‰äº†GDTè¡¨(ç›®å‰å°±ä¸€ä¸ªç¬¬äºŒä¸ªæ®µæè¿°ç¬¦æœ‰æ•ˆ)å’Œå¹¶å®šä¹‰LDTè¡¨ï¼ˆè¡¨ä¸­ä¸­æ–­å¤„ç†ç¨‹åºç›®å‰è¿˜æ˜¯æŒ‡å‘ä¸€ä¸ªé»˜è®¤çš„å¤„ç†ç¨‹åºï¼‰ï¼Œå¹¶åŠ è½½ç›¸åº”çš„å¯„å­˜å™¨ï¼›<br> å†…å­˜å¼€å§‹å¤„è®¾ç½®é¡µç›®å½•è¡¨ï¼Œä¸€å…±æœ‰4ä¸ªå¶ç›®å½•ï¼Œåˆå§‹åŒ–é¡µç›®å½•ï¼Œç„¶åå¼€å¯åˆ†é¡µï¼Œæœ€åè·³åˆ°ä¸»å‡½æ•°main()ã€‚</p><p>è‡³æ­¤ï¼Œç³»ç»Ÿå¯åŠ¨å¼•å¯¼å®Œæˆã€‚</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/6c138ff9/">http://meng.uno/posts/6c138ff9/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Linuxå¼•å¯¼å¯åŠ¨ç¨‹åºç¨‹åºåœ¨bootç›®å½•ä¸‹ï¼Œæœ‰bootset.s, head.så’Œsetup.sï¼ˆç¼–è¯‘åï¼‰ï¼Œå…¶ä¸­ï¼š&lt;/p&gt;
&lt;h2 id=&quot;bootset-s&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#bootset-s&quot;&gt;ğŸŒŠ&lt;/a&gt;bootset
      
    
    </summary>
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="http://meng.uno/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="http://meng.uno/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>Androidçš„ListViewçš„ä½¿ç”¨</title>
    <link href="http://meng.uno/posts/5d6c9819/"/>
    <id>http://meng.uno/posts/5d6c9819/</id>
    <published>2016-12-15T05:58:11.000Z</published>
    <updated>2018-02-09T10:46:20.916Z</updated>
    
    <content type="html"><![CDATA[<p>å¯èƒ½æˆ‘ä»¬åœ¨æ‰‹æœºAPPä¸Šä½¿ç”¨çš„æœ€å¤šçš„è§†å›¾å°±æ˜¯åˆ—è¡¨äº†ï¼Œé‚£ä¹ˆAndroidåˆ—è¡¨ï¼ˆListViewï¼‰è¯¥æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ<br> é¦–å…ˆè¿˜æ˜¯æ˜¾ç¤ºç•Œé¢activity_main.xml:</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:id=<span class="string">"@+id/activity_main"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:paddingBottom=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    android:paddingTop=<span class="string">"@dimen/activity_vertical_margin"</span></span><br><span class="line">    tools:context=<span class="string">"com.example.lpf.test.MainActivity"</span>&gt;</span><br><span class="line">    &lt;ListView</span><br><span class="line">        android:id=<span class="string">"@+id/listview"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_alignParentBottom=<span class="string">"true"</span></span><br><span class="line">        android:layout_alignParentStart=<span class="string">"true"</span></span><br><span class="line">        android:<span class="attribute">background</span>=<span class="string">"@color/bg"</span></span><br><span class="line">        android:divider=<span class="string">"@color/item_item"</span></span><br><span class="line">        android:dividerHeight=<span class="string">"10dp"</span>/&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>ä¹‹åæ˜¯å…¶å¯¹åº”çš„MainActivity.javaæ–‡ä»¶ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre>      </td>      <td class="code">        <pre><span class="line">public class MainActivity extends AppCompatActivity&#123;</span><br><span class="line">    private ListView listview;</span><br><span class="line">    <span class="comment">//private ArrayAdapter&lt;String&gt;arr_adapter;</span></span><br><span class="line">    private SimpleAdapter simp_Adapter;</span><br><span class="line">    private List&lt;Map&lt;String,String&gt;&gt;datalist;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">        listview = (ListView)findViewById(R.id.listview);</span><br><span class="line">        datalist = new ArrayList&lt;Map&lt;String,String&gt;&gt;();</span><br><span class="line">        simp_Adapter = new SimpleAdapter(this,getData(),R<span class="selector-class">.layout</span><span class="selector-class">.item</span>,</span><br><span class="line">                new String[]&#123;"title","text"&#125;,new int[]&#123;R.id.title,R.id.text&#125;);</span><br><span class="line">        listview.setAdapter(simp_Adapter);</span><br><span class="line">    &#125;</span><br><span class="line">    private List&lt;Map&lt;String,String&gt;&gt; getData()&#123;</span><br><span class="line">        String[] data_text = getResources().getStringArray(R.array.text_arr);</span><br><span class="line">        String[] data_title = getResources().getStringArray(R.array.title_arr);</span><br><span class="line">        for(int i=0;i&lt;data_text.length;i++)&#123;</span><br><span class="line">            Map&lt;String,String&gt;map = new HashMap&lt;String,String&gt;();</span><br><span class="line">            map.put("title",data_title[i]);</span><br><span class="line">            map.put("text",data_text[i]);</span><br><span class="line">            datalist.add(map);</span><br><span class="line">        &#125;</span><br><span class="line">        return datalist;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>å…¶ä»–æ–‡ä»¶ä¿æŒä¸å˜å³å¯ã€‚<br> è‡³æ­¤ï¼Œä¸€ä¸ªAndroidåˆ—è¡¨ç¨‹åºå°±å®ç°äº†ã€‚</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/5d6c9819/">http://meng.uno/posts/5d6c9819/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¯èƒ½æˆ‘ä»¬åœ¨æ‰‹æœºAPPä¸Šä½¿ç”¨çš„æœ€å¤šçš„è§†å›¾å°±æ˜¯åˆ—è¡¨äº†ï¼Œé‚£ä¹ˆAndroidåˆ—è¡¨ï¼ˆListViewï¼‰è¯¥æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿ&lt;br&gt; é¦–å…ˆè¿˜æ˜¯æ˜¾ç¤ºç•Œé¢activity_main.xml:
&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;
  &lt;table&gt;
   
      
    
    </summary>
    
      <category term="Android" scheme="http://meng.uno/categories/Android/"/>
    
    
      <category term="Android" scheme="http://meng.uno/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Androidå®ç°è¾“å…¥æ¡†å›è½¦è¾“å…¥</title>
    <link href="http://meng.uno/posts/e60b1ba5/"/>
    <id>http://meng.uno/posts/e60b1ba5/</id>
    <published>2016-12-15T05:22:51.000Z</published>
    <updated>2018-02-09T10:46:20.915Z</updated>
    
    <content type="html"><![CDATA[<p>ç”¨æƒ¯äº†iOSçš„å„ä½åœ¨å¼€å‘å®‰å“ç¨‹åºæˆ–è€…ä½¿ç”¨å®‰å“æ‰‹æœºæ—¶ï¼Œéƒ½ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šåŸæœ¬åœ¨iOSä¸Šéƒ½æ˜¯å›è½¦è¾“å…¥ï¼Œè€Œåˆ°äº†Androidä¸Šå´éœ€è¦ç‚¹å‡»æŒ‰é’®å®Œæˆè¾“å…¥ï¼ˆå¯¹æ¯”ä¸¤ä¸ªç³»ç»Ÿä¸Šçš„QQå°±å‘ç°äº†ï¼‰ã€‚æˆ‘ä¸€ç›´åœ¨ä½¿ç”¨iOSç³»ç»Ÿï¼Œå› ä¸ºã€Šè½¯è®¾ã€‹æ‰ç€æ‰‹Androidå¼€å‘ï¼Œæ‰€ä»¥æˆ‘å°±æƒ³èƒ½ä¸èƒ½åƒiOSä¸Šçš„é‚£æ ·å®ç°ä¸€ä¸ªè¾“å…¥æ¡†+å›è½¦ç¬¦å®Œæˆè¾“å…¥å‘¢ï¼Ÿç»è¿‡æˆ‘æŸ¥æ‰¾èµ„æ–™ï¼Œå‘ç°ç¡®å®å¯ä»¥ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:weightSum=<span class="string">"1"</span>&gt;</span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/edit_message"</span></span><br><span class="line">        android:layout_margin=<span class="string">"30dp"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"80dp"</span></span><br><span class="line">        android:hint=<span class="string">"è¯·è¾“å…¥æ–‡æœ¬ä¿¡æ¯ ..."</span></span><br><span class="line">        android:imeOptions=<span class="string">"actionSearch"</span></span><br><span class="line">        android:singleLine=<span class="string">"true"</span>/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>åœ¨EditTextä¸­åŠ å…¥äº†imeOptionså°±å¯ä»¥å°†å›è½¦ç¬¦è½¬å˜æˆå„ç§å„æ ·çš„åŠŸèƒ½ï¼š<br> actionDoneâ€”â€”å›è½¦ç¬¦â€“&gt;å®Œæˆ  <br> actionSendâ€”â€”å›è½¦ç¬¦â€“&gt;å‘é€  <br> actionGoâ€”â€”å›è½¦ç¬¦â€“&gt;å‰è¿›  <br> actionNextâ€”â€”å›è½¦ç¬¦â€“&gt;ä¸‹ä¸€é¡¹  <br> actionNoneâ€”â€”å›è½¦ç¬¦â€“&gt;æ— åŠ¨ä½œ  <br> actionPreviousâ€”â€”å›è½¦ç¬¦â€“&gt;ä¸Šä¸€é¡¹  <br> actionSearchâ€”â€”å›è½¦ç¬¦â€“&gt;æœç´¢  <br> actionUnspecifiedâ€”â€”å›è½¦ç¬¦â€“&gt;æœªæŒ‡å®š  <br> actionSendâ€”â€”å›è½¦ç¬¦â€“&gt;å‘é€  <br> åˆæŸ¥é˜…èµ„æ–™å‘ç°ï¼šimeæ˜¯Input Method Editorsçš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥æ³•ç¼–è¾‘å™¨ï¼ŒåŸæ¥å¦‚æ­¤ï¼Œä¸è¿‡æƒ³ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå¿…é¡»åŠ ä¸Šandroid:inputType æˆ–è€… android:singleline=â€trueâ€<br> è‡³æ­¤ï¼Œå°±å®Œæˆäº†Androidå›è½¦ç¬¦å‘iOSçš„è½¬åŒ–ï¼</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/e60b1ba5/">http://meng.uno/posts/e60b1ba5/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç”¨æƒ¯äº†iOSçš„å„ä½åœ¨å¼€å‘å®‰å“ç¨‹åºæˆ–è€…ä½¿ç”¨å®‰å“æ‰‹æœºæ—¶ï¼Œéƒ½ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šåŸæœ¬åœ¨iOSä¸Šéƒ½æ˜¯å›è½¦è¾“å…¥ï¼Œè€Œåˆ°äº†Androidä¸Šå´éœ€è¦ç‚¹å‡»æŒ‰é’®å®Œæˆè¾“å…¥ï¼ˆå¯¹æ¯”ä¸¤ä¸ªç³»ç»Ÿä¸Šçš„QQå°±å‘ç°äº†ï¼‰ã€‚æˆ‘ä¸€ç›´åœ¨ä½¿ç”¨iOSç³»ç»Ÿï¼Œå› ä¸ºã€Šè½¯è®¾ã€‹æ‰ç€æ‰‹Androidå¼€å‘ï¼Œæ‰€ä»¥æˆ‘å°±æƒ³èƒ½ä¸èƒ½åƒiOSä¸Šçš„é‚£æ ·
      
    
    </summary>
    
      <category term="Android" scheme="http://meng.uno/categories/Android/"/>
    
    
      <category term="Android" scheme="http://meng.uno/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>Androidé¡µé¢è·³è½¬</title>
    <link href="http://meng.uno/posts/1da18548/"/>
    <id>http://meng.uno/posts/1da18548/</id>
    <published>2016-12-15T04:46:49.000Z</published>
    <updated>2018-02-09T10:46:20.917Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰æƒ…æè¦"><a class="header-anchor" href="#å‰æƒ…æè¦">ğŸŒŠ</a>å‰æƒ…æè¦</h2><p>å¼€å‘å®‰å“å•é¡µé¢ç¨‹åºä¹…äº†ï¼Œå¿…ç„¶ä¼šæ€è€ƒæ€ä¹ˆå¼€å‘åƒç°åœ¨ä¸€èˆ¬Androidåº”ç”¨ç¨‹åºé‚£æ ·çš„å¤šé¡µé¢ï¼ˆæŒ‡é¡µé¢æœ‰è·³è½¬ï¼‰ç¨‹åºï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨æœç´¢äº†å…¶ä»–ç‰›äººçš„ï¼ˆæµ·é‡ï¼‰åšå®¢ä¹‹åï¼Œæ‰æ€»ç»“å‡ºå¦‚ä¸‹çš„è¿™ç‚¹ç²¾åæ­¥éª¤ï¼ˆåˆè¦æ„Ÿæ…¨ä¸€ä¸‹å›½å†…æœç´¢å¼•æ“ä¹‹æ¸£ï¼‰ï¼</p><h2 id="ç¼–å†™androidmanifest-xml"><a class="header-anchor" href="#ç¼–å†™androidmanifest-xml">ğŸŒŠ</a>ç¼–å†™AndroidManifest.xml</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šæˆ‘ä»¬éœ€è¦æ€æ ·çš„è·³è½¬ï¼Œæ—¢ç„¶è·³è½¬ï¼Œæ— éå°±æ˜¯è‡ªåŠ¨è·³è½¬æˆ–è€…ç‚¹å‡»æŒ‰é’®ï¼Œæ— è®ºå“ªç§ï¼Œé¦–å…ˆæˆ‘ä»¬å¿…é¡»æœ‰ä¸¤ä¸ªç•Œé¢ï¼ˆè‡³å°‘ï¼‰ï¼Œæ‰€ä»¥åœ¨AndroidManifest.xmlä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿™æ ·å†™ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;manifest xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    package=<span class="string">"uno.meng.download"</span>&gt;</span><br><span class="line">    &lt;application</span><br><span class="line">        android:allowBackup=<span class="string">"true"</span></span><br><span class="line">        android:<span class="attribute">icon</span>=<span class="string">"@mipmap/ic_launcher"</span></span><br><span class="line">        android:theme=<span class="string">"@style/AppTheme"</span>&gt;</span><br><span class="line">        &lt;activity</span><br><span class="line">            android:name=<span class="string">".MainActivity"</span></span><br><span class="line">           android:label=<span class="string">"@string/app_name"</span>&gt;</span><br><span class="line">            &lt;intent-<span class="attribute">filter</span>&gt;</span><br><span class="line">                &lt;action android:name=<span class="string">"android.intent.action.MAIN"</span> /&gt;</span><br><span class="line">                &lt;category android:name=<span class="string">"android.intent.category.LAUNCHER"</span> /&gt;</span><br><span class="line">            &lt;/intent-<span class="attribute">filter</span>&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line">        &lt;activity</span><br><span class="line">            android:name=<span class="string">".ResultActivity"</span></span><br><span class="line">            android:label=<span class="string">"@string/comeback"</span></span><br><span class="line">            android:parentActivityName=<span class="string">".MainActivity"</span> &gt;</span><br><span class="line">            &lt;meta-data</span><br><span class="line">                android:name=<span class="string">"android.support.PARENT_ACTIVITY"</span></span><br><span class="line">                android:value=<span class="string">".MainActivity"</span>/&gt;</span><br><span class="line">        &lt;/activity&gt;</span><br><span class="line">    &lt;/application&gt;</span><br><span class="line">&lt;/manifest&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>å…¶ä¸­ï¼Œæ¯ä¸ª  <activity>å¯¹åº”ä¸€ä¸ªç•Œé¢ï¼Œä»ä»£ç ä¸­å¯è§ï¼Œæˆ‘å°†åä¸€ä¸ªé¡µé¢åŠ äº†ä¸€ä¸ªè¿”å›å‰ä¸€ä¸ªé¡µé¢çš„â€œè¿”å›ç¬¦â€ã€‚</activity></p><h2 id="ç¼–å†™è·³è½¬å‰ç•Œé¢search-xml"><a class="header-anchor" href="#ç¼–å†™è·³è½¬å‰ç•Œé¢search-xml">ğŸŒŠ</a>ç¼–å†™è·³è½¬å‰ç•Œé¢search.xml</h2><p>ç”±äºæˆ‘åœ¨æ­¤å°†ä»‹ç»æ€ä¹ˆä½¿ç”¨æŒ‰é’®è·³è½¬ï¼ˆå¸¦è¾“å…¥ï¼‰ï¼Œæ‰€ä»¥ç›´æ¥åœ¨ä¸»ç•Œé¢search.xmlï¼ˆåç§°éšæ„ï¼‰ä¸­å£°æ˜è¿™ä¸¤ä¸ªç»„ä»¶ï¼ˆæŒ‰é’®ï¼Œè¾“å…¥æ¡†ï¼‰ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:weightSum=<span class="string">"1"</span>&gt;</span><br><span class="line">    &lt;EditText</span><br><span class="line">        android:id=<span class="string">"@+id/edit_message"</span></span><br><span class="line">        android:layout_margin=<span class="string">"30dp"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"80dp"</span></span><br><span class="line">        android:hint=<span class="string">"è¯·è¾“å…¥æ–‡æœ¬ä¿¡æ¯ ..."</span>/&gt;</span><br><span class="line">    &lt;Button</span><br><span class="line">        android:id=<span class="string">"@+id/button"</span></span><br><span class="line">        android:text=<span class="string">"ç‚¹å‡»æäº¤ "</span></span><br><span class="line">        android:layout_margin=<span class="string">"100dp"</span></span><br><span class="line">        android:layout_width=<span class="string">"127dp"</span></span><br><span class="line">        android:layout_height=<span class="string">"wrap_content"</span></span><br><span class="line">        android:onClick=<span class="string">"sendMessage"</span> /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>å¯è§ï¼Œæˆ‘å¯¹æŒ‰é’®åŠ äº†ä¸€ä¸ªonClickäº‹ä»¶ã€‚</p><h2 id="ç¼–å†™å¯¹åº”çš„mainactivity-java"><a class="header-anchor" href="#ç¼–å†™å¯¹åº”çš„mainactivity-java">ğŸŒŠ</a>ç¼–å†™å¯¹åº”çš„MainActivity.java</h2><p>åœ¨search.xmlå¯¹åº”çš„MainActivity.javaæ–‡ä»¶ä¸­æˆ‘ä»¬å†™å¥½onCreateæ–¹æ³•ï¼ˆæ¯ä¸ªæ–‡ä»¶éƒ½ä¼šæœ‰ï¼‰ä»¥åŠsendMessageæ–¹æ³•ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>      </td>      <td class="code">        <pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line">    public final static String EXTRA_MESSAGE = "uno.meng.download.MESSAGE";</span><br><span class="line">    public void sendMessage()&#123;</span><br><span class="line">        EditText editText = (EditText)findViewById(R.id.edit_message);</span><br><span class="line">        String message = editText.getText().toString();</span><br><span class="line">        Intent intent = new Intent(this, ResultActivity.class);</span><br><span class="line">        intent.putExtra(EXTRA_MESSAGE,message);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState)&#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.search);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="ç¼–å†™æ¥æ”¶ç•Œé¢result-xml"><a class="header-anchor" href="#ç¼–å†™æ¥æ”¶ç•Œé¢result-xml">ğŸŒŠ</a>ç¼–å†™æ¥æ”¶ç•Œé¢result.xml</h2><p>ç„¶ååˆ°result.xmlæ¥æ”¶ï¼ˆæˆ‘ç”¨çš„ä¸€ä¸ªæ¡†æ¥æ¥æ”¶ï¼‰ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=<span class="string">"http://schemas.android.com/apk/res/android"</span></span><br><span class="line">    xmlns:tools=<span class="string">"http://schemas.android.com/tools"</span></span><br><span class="line">    android:orientation=<span class="string">"vertical"</span></span><br><span class="line">    android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">    android:layout_height=<span class="string">"match_parent"</span></span><br><span class="line">    android:weightSum=<span class="string">"1"</span>&gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:layout_margin=<span class="string">"30dp"</span></span><br><span class="line">        android:layout_width=<span class="string">"match_parent"</span></span><br><span class="line">        android:layout_height=<span class="string">"80dp"</span>/&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="ç¼–å†™æ¥æ”¶å¯¹åº”çš„resultactivity-java"><a class="header-anchor" href="#ç¼–å†™æ¥æ”¶å¯¹åº”çš„resultactivity-java">ğŸŒŠ</a>ç¼–å†™æ¥æ”¶å¯¹åº”çš„ResultActivity.java</h2><p>ç¼–å†™å¯¹åº”çš„ResultActivity.javaæ–‡ä»¶ï¼Œ<br> å°†ä»MainActivity.javaæ¥æ”¶æ¥çš„æ–‡å­—æ‰“å°åˆ°result.xmlçš„æ¡†ä¸­ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>      </td>      <td class="code">        <pre><span class="line">public class ResultActivity extends AppCompatActivity&#123;</span><br><span class="line">    private Intent intent;</span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.result);</span><br><span class="line">        intent = getIntent();</span><br><span class="line">        String message = intent.getStringExtra(MainActivity.EXTRA_MESSAGE);</span><br><span class="line">        System.out.println(message);</span><br><span class="line">       TextView textview = new TextView(this);</span><br><span class="line">       textview.setTextSize(100);</span><br><span class="line">       textview.setText(message);</span><br><span class="line">       setContentView(textview);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œå·²ç»å®Œæˆäº†Androidé¡µé¢è·³è½¬ï¼</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/1da18548/">http://meng.uno/posts/1da18548/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰æƒ…æè¦&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#å‰æƒ…æè¦&quot;&gt;ğŸŒŠ&lt;/a&gt;å‰æƒ…æè¦&lt;/h2&gt;
&lt;p&gt;å¼€å‘å®‰å“å•é¡µé¢ç¨‹åºä¹…äº†ï¼Œå¿…ç„¶ä¼šæ€è€ƒæ€ä¹ˆå¼€å‘åƒç°åœ¨ä¸€èˆ¬Androidåº”ç”¨ç¨‹åºé‚£æ ·çš„å¤šé¡µé¢ï¼ˆæŒ‡é¡µé¢æœ‰è·³è½¬ï¼‰ç¨‹åºï¼Œæˆ‘ä¹Ÿæ˜¯åœ¨æœç´¢äº†å…¶ä»–ç‰›äººçš„ï¼ˆæµ·é‡
      
    
    </summary>
    
      <category term="Android" scheme="http://meng.uno/categories/Android/"/>
    
    
      <category term="Android" scheme="http://meng.uno/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>è¡¨æ ¼æœç´¢</title>
    <link href="http://meng.uno/posts/49d54823/"/>
    <id>http://meng.uno/posts/49d54823/</id>
    <published>2016-12-13T04:29:32.000Z</published>
    <updated>2018-02-09T10:46:20.941Z</updated>
    
    <content type="html"><![CDATA[<p>è™½ç„¶è¡¨æ ¼çš„æ’åˆ—ç›¸å½“å›°éš¾ï¼Œä½†è¡¨æ ¼çš„æœç´¢å´éå¸¸å®¹æ˜“ã€‚å¢åŠ ä¸€ä¸ªæœç´¢è¾“å…¥ï¼Œå¦‚æœé‚£é‡Œçš„å€¼åŒ¹é…åˆ°äº†ä»»æ„ä¸€è¡Œçš„æ–‡æœ¬ï¼Œåˆ™æ˜¾ç¤ºè¯¥è¡Œï¼Œå¹¶éšè—å…¶ä»–æ‰€æœ‰çš„è¡Œã€‚ä½¿ç”¨jQueryæ¥å®ç°å°±åƒä¸‹é¢è¿™ä¹ˆç®€å•ï¼š</p><figure class="highlight">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre>      </td>      <td class="code">        <pre><span class="line">var allRows = $("tr");</span><br><span class="line">$(<span class="string">"input#search"</span>).on(<span class="string">"keydown keyup"</span>, function() &#123;</span><br><span class="line">  allRows.hide();</span><br><span class="line">  $("tr:contains('" + $(this).val() + "')").show();</span><br><span class="line">&#125;);</span><br></pre>      </td>    </tr>  </table></figure><p>æ²¡æœ‰çœ‹é”™ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œå¦‚æœæ˜¯åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥è¿™æ ·æ¥å†™ï¼š<br> å…ˆå£°æ˜ä¸€ä¸ªæŒ‰é’®ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;<span class="selector-tag">input</span> type=<span class="string">"search"</span> id=<span class="string">"search"</span> placeholder=<span class="string">"è¯·è¾“å…¥å†…å®¹â€¦â€¦"</span>&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>åœ¨inputæ¡†ä¹‹ååŠ å…¥ä»¥ä¸‹JavaScriptä»£ç ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// Quick Table Search</span></span><br><span class="line">$(<span class="string">'#search'</span>).keyup(function() &#123;</span><br><span class="line">  var regex = new RegExp($('#search').val(), "i");</span><br><span class="line">  var rows = $('table tr:gt(0)');</span><br><span class="line">  rows.each(function (index) &#123;</span><br><span class="line">    title = $(this).children(<span class="string">"#title"</span>).html()</span><br><span class="line">    <span class="keyword">if</span> (title.search(regex) != -<span class="number">1</span>) &#123;</span><br><span class="line">      $(this).show();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $(this).hide();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>å®Œç¾è¿è¡Œæœ‰æœ¨æœ‰ï¼ï¼ï¼</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/49d54823/">http://meng.uno/posts/49d54823/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è™½ç„¶è¡¨æ ¼çš„æ’åˆ—ç›¸å½“å›°éš¾ï¼Œä½†è¡¨æ ¼çš„æœç´¢å´éå¸¸å®¹æ˜“ã€‚å¢åŠ ä¸€ä¸ªæœç´¢è¾“å…¥ï¼Œå¦‚æœé‚£é‡Œçš„å€¼åŒ¹é…åˆ°äº†ä»»æ„ä¸€è¡Œçš„æ–‡æœ¬ï¼Œåˆ™æ˜¾ç¤ºè¯¥è¡Œï¼Œå¹¶éšè—å…¶ä»–æ‰€æœ‰çš„è¡Œã€‚ä½¿ç”¨jQueryæ¥å®ç°å°±åƒä¸‹é¢è¿™ä¹ˆç®€å•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;
  &lt;table&gt;
    &lt;tr&gt;
      
    
    </summary>
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨JavaScriptå°†é¡µé¢å¯¼å‡ºä¸ºå›¾ç‰‡</title>
    <link href="http://meng.uno/posts/f03eda59/"/>
    <id>http://meng.uno/posts/f03eda59/</id>
    <published>2016-12-13T04:20:18.000Z</published>
    <updated>2018-02-09T10:46:20.919Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¨å¤©å¿ƒè¡€æ¥æ½®ï¼Œçªç„¶æƒ³å°†æˆ‘ä»¬ç»„å¼€å‘çš„ç½‘ç«™ä¸Šçš„â€œå¯¼å‡ºExcelâ€åŠŸèƒ½åšä¸€ç‚¹æ‹“å±•ï¼Œäºæ˜¯å°±æƒ³èƒ½ä¸èƒ½ç›´æ¥å°†ç½‘é¡µè¡¨æ ¼å¯¼å‡ºä¸ºå›¾ç‰‡ï¼<br> åœ¨æˆ‘çš„ä¸æ‡ˆæœç´¢åï¼ˆæœç´¢è¿‡ç¨‹ä¸­ç»å¤§éƒ¨åˆ†åšå®¢ä¸Šçš„åšæ–‡è¦ä¹ˆç›¸äº’æŠ„è¢­è¦ä¹ˆæ²¡ä»€ä¹ˆå±ç”¨ï¼‰ï¼Œç»ˆäºå¾—åˆ°äº†â€œcanvas2image.jsâ€è¿™ä¸ªç¥å¥‡çš„JavaScriptè„šæœ¬ï¼Œå…·ä½“ä½¿ç”¨åŠæ³•è§å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;!doctype html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;script src=<span class="string">"canvas2image.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;<span class="selector-tag">canvas</span>  id=<span class="string">"cvs"</span>&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;<span class="selector-tag">button</span> id=<span class="string">"save"</span>&gt;save&lt;/button&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="selector-tag">var</span> <span class="selector-tag">canvas</span>, ctx, bMouseIsDown = false, iLastX, iLastY,</span><br><span class="line">        <span class="variable">$save</span>, <span class="variable">$imgs</span>,</span><br><span class="line">        <span class="variable">$convert</span>, <span class="variable">$imgW</span>, <span class="variable">$imgH</span>,</span><br><span class="line">        $sel;</span><br><span class="line">    function init ()&#123;</span><br><span class="line">        canvas = document.getElementById('cvs');</span><br><span class="line">        ctx = canvas.getContext('2d');</span><br><span class="line">        $save = document.getElementById('save');</span><br><span class="line">        $convert = document.getElementById('convert');</span><br><span class="line">        $sel = "png";</span><br><span class="line">        $imgs = document.getElementById('imgs');</span><br><span class="line">        $imgW = 1980;</span><br><span class="line">        $imgH = 2000;</span><br><span class="line">        bind();</span><br><span class="line">        draw();</span><br><span class="line">    &#125;</span><br><span class="line">    function bind () &#123;</span><br><span class="line">        <span class="selector-tag">canvas</span><span class="selector-class">.onmousedown</span> = function(e) &#123;</span><br><span class="line">            bMouseIsDown = true;</span><br><span class="line">            iLastX = e.clientX - canvas.offsetLeft + (window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft);</span><br><span class="line">            iLastY = e.clientY - canvas.offsetTop + (window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-tag">canvas</span><span class="selector-class">.onmouseup</span> = function() &#123;</span><br><span class="line">            bMouseIsDown = false;</span><br><span class="line">            iLastX = -1;</span><br><span class="line">            iLastY = -1;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="selector-tag">canvas</span><span class="selector-class">.onmousemove</span> = function(e) &#123;</span><br><span class="line">            <span class="keyword">if</span> (bMouseIsDown) &#123;</span><br><span class="line">                var iX = e.clientX - canvas.offsetLeft + (window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft);</span><br><span class="line">                var iY = e.clientY - canvas.offsetTop + (window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop);</span><br><span class="line">                ctx.moveTo(iLastX, iLastY);</span><br><span class="line">                ctx.lineTo(iX, iY);</span><br><span class="line">                ctx.stroke();</span><br><span class="line">                iLastX = iX;</span><br><span class="line">                iLastY = iY;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="variable">$save</span><span class="selector-class">.onclick</span> = function (e) &#123;</span><br><span class="line">            <span class="selector-tag">var</span> type = <span class="variable">$sel</span><span class="selector-class">.value</span>,</span><br><span class="line">                w = <span class="variable">$imgW</span><span class="selector-class">.value</span>,</span><br><span class="line">                h = $imgH.value;</span><br><span class="line">            Canvas2Image.saveAsImage(canvas, w, h, type);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    onload = init;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre>      </td>    </tr>  </table></figure><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/f03eda59/">http://meng.uno/posts/f03eda59/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ˜¨å¤©å¿ƒè¡€æ¥æ½®ï¼Œçªç„¶æƒ³å°†æˆ‘ä»¬ç»„å¼€å‘çš„ç½‘ç«™ä¸Šçš„â€œå¯¼å‡ºExcelâ€åŠŸèƒ½åšä¸€ç‚¹æ‹“å±•ï¼Œäºæ˜¯å°±æƒ³èƒ½ä¸èƒ½ç›´æ¥å°†ç½‘é¡µè¡¨æ ¼å¯¼å‡ºä¸ºå›¾ç‰‡ï¼&lt;br&gt; åœ¨æˆ‘çš„ä¸æ‡ˆæœç´¢åï¼ˆæœç´¢è¿‡ç¨‹ä¸­ç»å¤§éƒ¨åˆ†åšå®¢ä¸Šçš„åšæ–‡è¦ä¹ˆç›¸äº’æŠ„è¢­è¦ä¹ˆæ²¡ä»€ä¹ˆå±ç”¨ï¼‰ï¼Œç»ˆäºå¾—åˆ°äº†â€œcanvas2image.jsâ€è¿™ä¸ªç¥å¥‡çš„JavaScri
      
    
    </summary>
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Javaå¯¼å‡ºExcel</title>
    <link href="http://meng.uno/posts/7725d215/"/>
    <id>http://meng.uno/posts/7725d215/</id>
    <published>2016-12-06T14:16:48.000Z</published>
    <updated>2018-02-09T10:46:20.923Z</updated>
    
    <content type="html"><![CDATA[<p>å®Œæˆè¿™ä¸ªå®éªŒï¼Œä½ éœ€è¦ä¸‹è½½<code>jxl</code>jaråŒ…ï¼Œå…·ä½“æ–¹æ³•è‡ªè¡Œç™¾åº¦ã€‚<br> æ¥ä¸‹æ¥æˆ‘å°†ç›´æ¥ä½¿ç”¨å…·ä½“ä»£ç è¿›è¡Œè®²è§£æˆ‘çš„å®ç°è¿‡ç¨‹ã€‚  <br> æ–‡ä»¶åï¼š  <code>ExcelAction.java</code></p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre>      </td>      <td class="code">        <pre><span class="line">package net.kuangmeng.excel;</span><br><span class="line"><span class="comment">/*è¿™é‡Œæ˜¯æ‰€æœ‰éœ€è¦å¯¼å…¥çš„åº“ï¼Œä¸ç”¨æ‹…å¿ƒå½“ä½ å†™å¥½å…¶ä»–ä»£ç æ—¶ï¼Œç¼–è¾‘å™¨ä¼šæç¤ºæˆ–è€…è‡ªåŠ¨å¸®ä½ è¡¥å…¨ï¼*/</span></span><br><span class="line">import java.io.File;</span><br><span class="line">import java.io.FileOutputStream;</span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line">import com.opensymphony.xwork2.ActionSupport;</span><br><span class="line">import jxl.Workbook;</span><br><span class="line">import jxl.format.Alignment;</span><br><span class="line">import jxl.format.Colour;</span><br><span class="line">import jxl.format.UnderlineStyle;</span><br><span class="line">import jxl.format.VerticalAlignment;</span><br><span class="line">import jxl.write.Label;</span><br><span class="line">import jxl.write.WritableCellFormat;</span><br><span class="line">import jxl.write.WritableFont;</span><br><span class="line">import jxl.write.WritableSheet;</span><br><span class="line">import jxl.write.WritableWorkbook;</span><br><span class="line">import jxl.write.WriteException;</span><br><span class="line">import jxl.write.biff.RowsExceededException;</span><br><span class="line"></span><br><span class="line">@SuppressWarnings(<span class="string">"serial"</span>)</span><br><span class="line">public class ExcelAction extends ActionSupport&#123;</span><br><span class="line"> public static void main(String[] args) &#123;</span><br><span class="line">     <span class="comment">//ä¸»å‡½æ•°è°ƒç”¨</span></span><br><span class="line">     <span class="comment">//listthä¸ºå¯¼å‡ºexcelçš„è¡¨å¤´ä¿¡æ¯</span></span><br><span class="line">     list&lt;String&gt; listth = new ArrayList&lt;String&gt;;</span><br><span class="line">     <span class="comment">//listtdä¸ºå¯¼å‡ºçš„excelè¡¨é¡¹</span></span><br><span class="line">        list&lt;String&gt; listtd = new ArrayList&lt;String&gt;;</span><br><span class="line">        <span class="comment">//numä¸ºè¡¨çš„åˆ—æ•°</span></span><br><span class="line">        int num ;</span><br><span class="line">     exportExcel(tablename,listth,listtd,num);</span><br><span class="line">   &#125;</span><br><span class="line"><span class="comment">//çœŸæ­£çš„å¯¼å‡ºexcelæ–¹æ³•</span></span><br><span class="line">public static void exportExcel(String fileName,List&lt;String&gt; listth,List&lt;String&gt; listtd,int num) &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®ä¿å­˜æ–‡ä»¶å…·ä½“ä½ç½®åŠæ–‡ä»¶å</span></span><br><span class="line"> String excelName ="C:\\Users\\meng\\Desktop\\"+fileName+".xls";</span><br><span class="line">  try &#123;  </span><br><span class="line">   File excelFile = new File(excelName);</span><br><span class="line">   <span class="comment">// å¦‚æœæ–‡ä»¶å­˜åœ¨å°±åˆ é™¤å®ƒ</span></span><br><span class="line">   <span class="keyword">if</span> (excelFile.exists())</span><br><span class="line">    excelFile.delete();</span><br><span class="line">   <span class="comment">// æ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">   WritableWorkbook book = Workbook.createWorkbook(excelFile);</span><br><span class="line">   <span class="comment">// ç”Ÿæˆåä¸ºâ€œç¬¬ä¸€é¡µâ€çš„å·¥ä½œè¡¨ï¼Œå‚æ•°0è¡¨ç¤ºè¿™æ˜¯ç¬¬ä¸€é¡µ</span></span><br><span class="line">   WritableSheet sheet = book.createSheet("Up2Uå¯¼å‡ºè¡¨æ ¼ ", 0);</span><br><span class="line">   <span class="comment">// æ–‡å­—æ ·å¼</span></span><br><span class="line">   jxl<span class="selector-class">.write</span><span class="selector-class">.WritableFont</span> wfc = new jxl<span class="selector-class">.write</span><span class="selector-class">.WritableFont</span>(</span><br><span class="line">     WritableFont<span class="selector-class">.ARIAL</span>, <span class="number">10</span>, WritableFont<span class="selector-class">.NO_BOLD</span>, false,</span><br><span class="line">     UnderlineStyle.NO_UNDERLINE, jxl.format.Colour.BLACK);</span><br><span class="line">   jxl<span class="selector-class">.write</span><span class="selector-class">.WritableCellFormat</span> wcfFC = new jxl<span class="selector-class">.write</span><span class="selector-class">.WritableCellFormat</span>(</span><br><span class="line">     wfc);</span><br><span class="line">   jxl.write.WritableCellFormat wcfF = new jxl.write.WritableCellFormat(wfc);</span><br><span class="line">   wcfF.setBackground(jxl.format.Colour.BLACK);</span><br><span class="line">   <span class="comment">// è®¾ç½®å•å…ƒæ ¼æ ·å¼</span></span><br><span class="line">   wcfFC.setBackground(jxl.format.Colour.GRAY_25);// å•å…ƒæ ¼é¢œè‰²</span><br><span class="line">   wcfFC.setAlignment(jxl.format.Alignment.CENTRE);// å•å…ƒæ ¼å±…ä¸­</span><br><span class="line"></span><br><span class="line">   <span class="comment">// åœ¨Labelå¯¹è±¡çš„æ„é€ å­ä¸­æŒ‡åå•å…ƒæ ¼ä½ç½®æ˜¯ç¬¬ä¸€åˆ—ç¬¬ä¸€è¡Œ(0,0)</span></span><br><span class="line">   <span class="comment">// ä»¥åŠå•å…ƒæ ¼å†…å®¹ä¸º</span></span><br><span class="line">   for(int i=0;i&lt;listth.size()/(num-2);i++)&#123;</span><br><span class="line">   for(int j=0;j&lt;num-2;j++)&#123;</span><br><span class="line">   sheet.addCell(new Label(j,i,listth.get(i*(num-2)+j),wcfFC));</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   for(int i=listth.size()/(num-2);i&lt;(listth.size()+listtd.size())/(num-2);i++)&#123;</span><br><span class="line">   for(int j=0;j&lt;num-2;j++)&#123;</span><br><span class="line">   sheet.addCell(new Label(j,i,listtd.get((i-1)*(num-2)+j),wcfF));</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">  <span class="comment">// å†™å…¥æ•°æ®å¹¶å…³é—­æ–‡ä»¶</span></span><br><span class="line">   book.write();</span><br><span class="line">   book.close();</span><br><span class="line">   System.out.println("Excelåˆ›å»ºæˆåŠŸ");</span><br><span class="line">  &#125; catch (Exception e) &#123;</span><br><span class="line">   System.out.println(e);</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/7725d215/">http://meng.uno/posts/7725d215/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å®Œæˆè¿™ä¸ªå®éªŒï¼Œä½ éœ€è¦ä¸‹è½½&lt;code&gt;jxl&lt;/code&gt;jaråŒ…ï¼Œå…·ä½“æ–¹æ³•è‡ªè¡Œç™¾åº¦ã€‚&lt;br&gt; æ¥ä¸‹æ¥æˆ‘å°†ç›´æ¥ä½¿ç”¨å…·ä½“ä»£ç è¿›è¡Œè®²è§£æˆ‘çš„å®ç°è¿‡ç¨‹ã€‚
  &lt;br&gt; æ–‡ä»¶åï¼š
  &lt;code&gt;ExcelAction.java&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;hi
      
    
    </summary>
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Mac MySQLæ— æ³•å¯åŠ¨è§£å†³æ–¹æ¡ˆ</title>
    <link href="http://meng.uno/posts/115ed5e0/"/>
    <id>http://meng.uno/posts/115ed5e0/</id>
    <published>2016-12-06T13:24:05.000Z</published>
    <updated>2018-02-09T10:46:20.929Z</updated>
    
    <content type="html"><![CDATA[<p>æ­£åƒè¿™æ¬¡åšå®¢çš„æ—¥æœŸé‚£æ ·ï¼Œã€Šè½¯å·¥ã€‹å¤§é¡¹ç›®æ¥è¿‘å°¾å£°äº†ï¼Œç„¶è€Œç›´åˆ°ä»Šå¤©æˆ‘æ‰çœŸæ­£è§£å†³äº†è¿™ä¸ªå¤§éš¾é¢˜â€”â€”Mac MySQLæ— æ³•ä½¿ç”¨ï¼ï¼ï¼</p><p>æ£€æŸ¥MySQLæ˜¯å¦æˆåŠŸå®‰è£…</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">mysql --version</span><br></pre>      </td>    </tr>  </table></figure><p>å…³é—­MySQLè¿æ¥ï¼ˆå³ä½¿æ²¡è¿ä¹Ÿæ— å¦¨ï¼‰</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">sudo /usr/local/mysql/support-files/mysql<span class="selector-class">.server</span> stop</span><br></pre>      </td>    </tr>  </table></figure><p>ç™»å½•ç®¡ç†å‘˜</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br></pre>      </td>      <td class="code">        <pre><span class="line">cd /usr/local/mysql/bin/</span><br><span class="line">sudo su</span><br></pre>      </td>    </tr>  </table></figure><p>ç¦æ­¢MySQLéªŒè¯æ¥ç™»å½•ï¼ˆæ­¤æ—¶ä¸éªŒè¯å¯†ç ï¼‰</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">./mysqld_safe --skip-grant-tables &amp;</span><br></pre>      </td>    </tr>  </table></figure><p>ï¼ˆæ­¤æ—¶åº”è¯¥æˆåŠŸè¿›å…¥<code>mysql&gt;</code>ï¼‰è®¾ç½®å¯†ç </p><figure class="highlight">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">UPDATE mysql.user SET authentication_string=PASSWORD('*****') WHERE User='root';</span><br></pre>      </td>    </tr>  </table></figure><p>ï¼ˆè‹¥æ˜¾ç¤ºå¯†ç è¿‡æœŸï¼‰è®¾ç½®å¯†ç æ°¸ä¸è¿‡æœŸ</p><figure class="highlight">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">ALTER USER 'root'@'localhost' PASSWORD EXPIRE NEVER;</span><br></pre>      </td>    </tr>  </table></figure><p>åˆ·æ–°MySQLçš„ç³»ç»Ÿæƒé™</p><figure class="highlight">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">flush privileges;</span><br></pre>      </td>    </tr>  </table></figure><p>è‡³æ­¤åº”è¯¥æ¥è¯´MySQLåº”è¯¥å¥½ä½¿äº†ã€‚</p><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/115ed5e0/">http://meng.uno/posts/115ed5e0/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ­£åƒè¿™æ¬¡åšå®¢çš„æ—¥æœŸé‚£æ ·ï¼Œã€Šè½¯å·¥ã€‹å¤§é¡¹ç›®æ¥è¿‘å°¾å£°äº†ï¼Œç„¶è€Œç›´åˆ°ä»Šå¤©æˆ‘æ‰çœŸæ­£è§£å†³äº†è¿™ä¸ªå¤§éš¾é¢˜â€”â€”Mac MySQLæ— æ³•ä½¿ç”¨ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;æ£€æŸ¥MySQLæ˜¯å¦æˆåŠŸå®‰è£…&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;
  &lt;table&gt;
    &lt;t
      
    
    </summary>
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Javaå‘é€é‚®ä»¶</title>
    <link href="http://meng.uno/posts/21f3b9c2/"/>
    <id>http://meng.uno/posts/21f3b9c2/</id>
    <published>2016-12-04T14:30:34.000Z</published>
    <updated>2018-02-09T10:46:20.925Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘è§‰å¾—å­¦ä¼šJava mailæ˜¯ä¸€ä»¶å¾ˆè‡ªè±ªçš„äº‹ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œé‚®ç®±è¿™ä¹ˆæœ‰é€¼æ ¼çš„ä¸œè¥¿éƒ½èƒ½è¢«ä½ ç©çš„å¾ˆæºœçš„è¯ï¼Œä¸€å®šä¸ä¸€èˆ¬ã€‚<br> æœ¬æ¬¡è¯•éªŒä½¿ç”¨äº†  <code>javax.mail.jar</code>jaråŒ…ï¼Œè¯·è‡ªè¡Œç™¾åº¦ä¸‹è½½ã€‚<br> æˆ‘å®ç°çš„Java mailä¸»è¦åŒ…æ‹¬4ä¸ªéƒ¨åˆ†ï¼š</p><ol>  <li>å‘é€é‚®ä»¶ä½¿ç”¨çš„åŸºæœ¬ä¿¡æ¯</li>  <li>é‚®ä»¶å‘é€å™¨</li>  <li>å‘ä»¶äººè®¾ç½®</li>  <li>å®é™…å‘é€</li></ol><p>å››ä¸ªéƒ¨åˆ†ç»„æˆã€‚</p><h2 id="å‘é€é‚®ä»¶ä½¿ç”¨çš„åŸºæœ¬ä¿¡æ¯"><a class="header-anchor" href="#å‘é€é‚®ä»¶ä½¿ç”¨çš„åŸºæœ¬ä¿¡æ¯">ğŸŒŠ</a>å‘é€é‚®ä»¶ä½¿ç”¨çš„åŸºæœ¬ä¿¡æ¯</h2><p>æ–‡ä»¶åï¼š<code>MailSenderInfo.java</code><br> ä»£ç å¦‚ä¸‹ï¼Œæˆ‘ä»ç„¶ä»¥å¤‡æ³¨çš„å½¢å¼è®²è§£ï¼š</p><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="keyword">package</span> net.kuangmeng.mail; </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment">* å‘é€é‚®ä»¶éœ€è¦ä½¿ç”¨çš„åŸºæœ¬ä¿¡æ¯  </span></span><br><span class="line"><span class="comment">*/</span>   </span><br><span class="line"><span class="keyword">import</span> java.util.Properties;   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MailSenderInfo</span> </span>&#123;   </span><br><span class="line">    <span class="comment">// å‘é€é‚®ä»¶çš„æœåŠ¡å™¨çš„IPå’Œç«¯å£   </span></span><br><span class="line">    <span class="keyword">private</span> String mailServerHost;   </span><br><span class="line">    <span class="keyword">private</span> String mailServerPort = <span class="string">"25"</span>;   </span><br><span class="line">    <span class="comment">// é‚®ä»¶å‘é€è€…çš„åœ°å€   </span></span><br><span class="line">    <span class="keyword">private</span> String fromAddress;   </span><br><span class="line">    <span class="comment">// é‚®ä»¶æ¥æ”¶è€…çš„åœ°å€   </span></span><br><span class="line">    <span class="keyword">private</span> String toAddress;   </span><br><span class="line">    <span class="comment">// ç™»é™†é‚®ä»¶å‘é€æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç    </span></span><br><span class="line">    <span class="keyword">private</span> String userName;   </span><br><span class="line">    <span class="keyword">private</span> String password;   </span><br><span class="line">    <span class="comment">// æ˜¯å¦éœ€è¦èº«ä»½éªŒè¯   </span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> validate = <span class="keyword">false</span>;   </span><br><span class="line">    <span class="comment">// é‚®ä»¶ä¸»é¢˜   </span></span><br><span class="line">    <span class="keyword">private</span> String subject;   </span><br><span class="line">    <span class="comment">// é‚®ä»¶çš„æ–‡æœ¬å†…å®¹   </span></span><br><span class="line">    <span class="keyword">private</span> String content;   </span><br><span class="line">    <span class="comment">// é‚®ä»¶é™„ä»¶çš„æ–‡ä»¶å   </span></span><br><span class="line">    <span class="keyword">private</span> String[] attachFileNames;     </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">      * è·å¾—é‚®ä»¶ä¼šè¯å±æ€§  </span></span><br><span class="line"><span class="comment">      */</span>   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Properties <span class="title">getProperties</span><span class="params">()</span></span>&#123;   </span><br><span class="line">      Properties p = <span class="keyword">new</span> Properties();   </span><br><span class="line">      p.put(<span class="string">"mail.smtp.host"</span>, <span class="keyword">this</span>.mailServerHost);   </span><br><span class="line">      p.put(<span class="string">"mail.smtp.port"</span>, <span class="keyword">this</span>.mailServerPort);   </span><br><span class="line">      p.put(<span class="string">"mail.smtp.auth"</span>, validate ? <span class="string">"true"</span> : <span class="string">"false"</span>);   </span><br><span class="line">      <span class="keyword">return</span> p;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMailServerHost</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> mailServerHost;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMailServerHost</span><span class="params">(String mailServerHost)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.mailServerHost = mailServerHost;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMailServerPort</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> mailServerPort;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMailServerPort</span><span class="params">(String mailServerPort)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.mailServerPort = mailServerPort;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidate</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> validate;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValidate</span><span class="params">(<span class="keyword">boolean</span> validate)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.validate = validate;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">public</span> String[] getAttachFileNames() &#123;   </span><br><span class="line">      <span class="keyword">return</span> attachFileNames;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAttachFileNames</span><span class="params">(String[] fileNames)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.attachFileNames = fileNames;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getFromAddress</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> fromAddress;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFromAddress</span><span class="params">(String fromAddress)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.fromAddress = fromAddress;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> password;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.password = password;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getToAddress</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> toAddress;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setToAddress</span><span class="params">(String toAddress)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.toAddress = toAddress;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> userName;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.userName = userName;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getSubject</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> subject;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSubject</span><span class="params">(String subject)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.subject = subject;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getContent</span><span class="params">()</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">return</span> content;   </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setContent</span><span class="params">(String textContent)</span> </span>&#123;   </span><br><span class="line">      <span class="keyword">this</span>.content = textContent;   </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="é‚®ä»¶å‘é€å™¨"><a class="header-anchor" href="#é‚®ä»¶å‘é€å™¨">ğŸŒŠ</a>é‚®ä»¶å‘é€å™¨</h2><p>æ–‡ä»¶åï¼š<code>SimpleMailSender.java</code></p><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="keyword">package</span> net.kuangmeng.mail;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;   </span><br><span class="line"><span class="keyword">import</span> java.util.Properties;  </span><br><span class="line"><span class="keyword">import</span> javax.mail.Address;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.BodyPart;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.Message;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.MessagingException;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.Multipart;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.Session;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.Transport;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.InternetAddress;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.MimeBodyPart;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.MimeMessage;   </span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.MimeMultipart;   </span><br><span class="line">  </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment">* ç®€å•é‚®ä»¶ï¼ˆä¸å¸¦é™„ä»¶çš„é‚®ä»¶ï¼‰å‘é€å™¨  </span></span><br><span class="line"><span class="comment">*/</span>   </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleMailSender</span>  </span>&#123;   </span><br><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment">  * ä»¥æ–‡æœ¬æ ¼å¼å‘é€é‚®ä»¶  </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> mailInfo å¾…å‘é€çš„é‚®ä»¶çš„ä¿¡æ¯  </span></span><br><span class="line"><span class="comment">  */</span>   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">sendTextMail</span><span class="params">(MailSenderInfo mailInfo)</span> </span>&#123;   </span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦èº«ä»½è®¤è¯   </span></span><br><span class="line">      MyAuthenticator authenticator = <span class="keyword">null</span>;   </span><br><span class="line">      Properties pro = mailInfo.getProperties();  </span><br><span class="line">      <span class="keyword">if</span> (mailInfo.isValidate()) &#123;   </span><br><span class="line">      <span class="comment">// å¦‚æœéœ€è¦èº«ä»½è®¤è¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªå¯†ç éªŒè¯å™¨   </span></span><br><span class="line">        authenticator = <span class="keyword">new</span> MyAuthenticator(mailInfo.getUserName(), mailInfo.getPassword());   </span><br><span class="line">      &#125;  </span><br><span class="line">      <span class="comment">// æ ¹æ®é‚®ä»¶ä¼šè¯å±æ€§å’Œå¯†ç éªŒè¯å™¨æ„é€ ä¸€ä¸ªå‘é€é‚®ä»¶çš„session   </span></span><br><span class="line">      Session sendMailSession = Session.getDefaultInstance(pro,authenticator);   </span><br><span class="line">      <span class="keyword">try</span> &#123;   </span><br><span class="line">      <span class="comment">// æ ¹æ®sessionåˆ›å»ºä¸€ä¸ªé‚®ä»¶æ¶ˆæ¯   </span></span><br><span class="line">      Message mailMessage = <span class="keyword">new</span> MimeMessage(sendMailSession);   </span><br><span class="line">      <span class="comment">// åˆ›å»ºé‚®ä»¶å‘é€è€…åœ°å€   </span></span><br><span class="line">      Address from = <span class="keyword">new</span> InternetAddress(mailInfo.getFromAddress());   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯çš„å‘é€è€…   </span></span><br><span class="line">      mailMessage.setFrom(from);   </span><br><span class="line">      <span class="comment">// åˆ›å»ºé‚®ä»¶çš„æ¥æ”¶è€…åœ°å€ï¼Œå¹¶è®¾ç½®åˆ°é‚®ä»¶æ¶ˆæ¯ä¸­   </span></span><br><span class="line">      Address to = <span class="keyword">new</span> InternetAddress(mailInfo.getToAddress());   </span><br><span class="line">      mailMessage.setRecipient(Message.RecipientType.TO,to);   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯çš„ä¸»é¢˜   </span></span><br><span class="line">      mailMessage.setSubject(mailInfo.getSubject());   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯å‘é€çš„æ—¶é—´   </span></span><br><span class="line">      mailMessage.setSentDate(<span class="keyword">new</span> Date());   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯çš„ä¸»è¦å†…å®¹   </span></span><br><span class="line">      String mailContent = mailInfo.getContent();   </span><br><span class="line">      mailMessage.setText(mailContent);   </span><br><span class="line">      <span class="comment">// å‘é€é‚®ä»¶   </span></span><br><span class="line">      Transport.send(mailMessage);  </span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;   </span><br><span class="line">      &#125; <span class="keyword">catch</span> (MessagingException ex) &#123;   </span><br><span class="line">          ex.printStackTrace();   </span><br><span class="line">      &#125;   </span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="comment">/**  </span></span><br><span class="line"><span class="comment">      * ä»¥HTMLæ ¼å¼å‘é€é‚®ä»¶  </span></span><br><span class="line"><span class="comment">      * <span class="doctag">@param</span> mailInfo å¾…å‘é€çš„é‚®ä»¶ä¿¡æ¯  </span></span><br><span class="line"><span class="comment">      */</span>   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">sendHtmlMail</span><span class="params">(MailSenderInfo mailInfo)</span></span>&#123;   </span><br><span class="line">      <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦èº«ä»½è®¤è¯   </span></span><br><span class="line">      MyAuthenticator authenticator = <span class="keyword">null</span>;  </span><br><span class="line">      Properties pro = mailInfo.getProperties();  </span><br><span class="line">      <span class="comment">//å¦‚æœéœ€è¦èº«ä»½è®¤è¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªå¯†ç éªŒè¯å™¨    </span></span><br><span class="line">      <span class="keyword">if</span> (mailInfo.isValidate()) &#123;   </span><br><span class="line">        authenticator = <span class="keyword">new</span> MyAuthenticator(mailInfo.getUserName(), mailInfo.getPassword());  </span><br><span class="line">      &#125;   </span><br><span class="line">      <span class="comment">// æ ¹æ®é‚®ä»¶ä¼šè¯å±æ€§å’Œå¯†ç éªŒè¯å™¨æ„é€ ä¸€ä¸ªå‘é€é‚®ä»¶çš„session   </span></span><br><span class="line">      Session sendMailSession = Session.getDefaultInstance(pro,authenticator);   </span><br><span class="line">      <span class="keyword">try</span> &#123;   </span><br><span class="line">      <span class="comment">// æ ¹æ®sessionåˆ›å»ºä¸€ä¸ªé‚®ä»¶æ¶ˆæ¯   </span></span><br><span class="line">      Message mailMessage = <span class="keyword">new</span> MimeMessage(sendMailSession);   </span><br><span class="line">      <span class="comment">// åˆ›å»ºé‚®ä»¶å‘é€è€…åœ°å€   </span></span><br><span class="line">      Address from = <span class="keyword">new</span> InternetAddress(mailInfo.getFromAddress());   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯çš„å‘é€è€…   </span></span><br><span class="line">      mailMessage.setFrom(from);   </span><br><span class="line">      <span class="comment">// åˆ›å»ºé‚®ä»¶çš„æ¥æ”¶è€…åœ°å€ï¼Œå¹¶è®¾ç½®åˆ°é‚®ä»¶æ¶ˆæ¯ä¸­   </span></span><br><span class="line">      Address to = <span class="keyword">new</span> InternetAddress(mailInfo.getToAddress());   </span><br><span class="line">      <span class="comment">// Message.RecipientType.TOå±æ€§è¡¨ç¤ºæ¥æ”¶è€…çš„ç±»å‹ä¸ºTO   </span></span><br><span class="line">      mailMessage.setRecipient(Message.RecipientType.TO,to);   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯çš„ä¸»é¢˜   </span></span><br><span class="line">      mailMessage.setSubject(mailInfo.getSubject());   </span><br><span class="line">      <span class="comment">// è®¾ç½®é‚®ä»¶æ¶ˆæ¯å‘é€çš„æ—¶é—´   </span></span><br><span class="line">      mailMessage.setSentDate(<span class="keyword">new</span> Date());   </span><br><span class="line">      <span class="comment">// MiniMultipartç±»æ˜¯ä¸€ä¸ªå®¹å™¨ç±»ï¼ŒåŒ…å«MimeBodyPartç±»å‹çš„å¯¹è±¡   </span></span><br><span class="line">      Multipart mainPart = <span class="keyword">new</span> MimeMultipart();   </span><br><span class="line">      <span class="comment">// åˆ›å»ºä¸€ä¸ªåŒ…å«HTMLå†…å®¹çš„MimeBodyPart   </span></span><br><span class="line">      BodyPart html = <span class="keyword">new</span> MimeBodyPart();   </span><br><span class="line">      <span class="comment">// è®¾ç½®HTMLå†…å®¹   </span></span><br><span class="line">      html.setContent(mailInfo.getContent(), <span class="string">"text/html; charset=utf-8"</span>);   </span><br><span class="line">      mainPart.addBodyPart(html);   </span><br><span class="line">      <span class="comment">// å°†MiniMultipartå¯¹è±¡è®¾ç½®ä¸ºé‚®ä»¶å†…å®¹   </span></span><br><span class="line">      mailMessage.setContent(mainPart);   </span><br><span class="line">      <span class="comment">// å‘é€é‚®ä»¶   </span></span><br><span class="line">      Transport.send(mailMessage);   </span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;   </span><br><span class="line">      &#125; <span class="keyword">catch</span> (MessagingException ex) &#123;   </span><br><span class="line">          ex.printStackTrace();   </span><br><span class="line">      &#125;   </span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">false</span>;   </span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="å‘ä»¶äººè®¾ç½®"><a class="header-anchor" href="#å‘ä»¶äººè®¾ç½®">ğŸŒŠ</a>å‘ä»¶äººè®¾ç½®</h2><p>æ–‡ä»¶åï¼š<code>MyAuthenticator.java</code></p><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="keyword">package</span> net.kuangmeng.mail;</span><br><span class="line"><span class="keyword">import</span> javax.mail.*;  </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyAuthenticator</span> <span class="keyword">extends</span> <span class="title">Authenticator</span></span>&#123;  </span><br><span class="line">    String userName=<span class="keyword">null</span>;  </span><br><span class="line">    String password=<span class="keyword">null</span>;  </span><br><span class="line">       </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyAuthenticator</span><span class="params">()</span></span>&#123;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyAuthenticator</span><span class="params">(String username, String password)</span> </span>&#123;   </span><br><span class="line">        <span class="keyword">this</span>.userName = username;   </span><br><span class="line">        <span class="keyword">this</span>.password = password;   </span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">protected</span> PasswordAuthentication <span class="title">getPasswordAuthentication</span><span class="params">()</span></span>&#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> PasswordAuthentication(userName, password);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="å®é™…å‘é€"><a class="header-anchor" href="#å®é™…å‘é€">ğŸŒŠ</a>å®é™…å‘é€</h2><p>æ–‡ä»¶åï¼š<code>MailAction.java</code></p><pre><code class="language-java">package net.kuangmeng.mail;import net.kuangmeng.*;public class MailAction {@SuppressWarnings(&quot;static-access&quot;)public static void main(String[] args){          //è¿™ä¸ªç±»ä¸»è¦æ˜¯è®¾ç½®é‚®ä»¶       MailSenderInfo mailInfo = new MailSenderInfo();        mailInfo.setMailServerHost(&quot;smtp.yeah.net&quot;);        mailInfo.setMailServerPort(&quot;25&quot;);        mailInfo.setValidate(true);        mailInfo.setUserName(&quot;*****@yeah.net&quot;);        mailInfo.setPassword(&quot;******&quot;);//æ‚¨çš„é‚®ç®±å¯†ç         mailInfo.setFromAddress(&quot;*****@yeah.net&quot;);        mailInfo.setToAddress(&quot;****@qq.com&quot;);        mailInfo.setSubject(&quot;ä½ å¥½ï¼&quot;);//é‚®ä»¶ä¸»é¢˜       mailInfo.setContent(&quot;è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•&quot;);//é‚®ä»¶å†…å®¹        //è¿™ä¸ªç±»ä¸»è¦æ¥å‘é€é‚®ä»¶        SimpleMailSender sms = new SimpleMailSender();        sms.sendTextMail(mailInfo);//å‘é€æ–‡ä½“æ ¼å¼         sms.sendHtmlMail(mailInfo);//å‘é€htmlæ ¼å¼    }}</code></pre><p>æœ¬æ–‡é“¾æ¥: <a href="http://meng.uno/posts/21f3b9c2/">http://meng.uno/posts/21f3b9c2/</a> æ¬¢è¿è½¬è½½ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æˆ‘è§‰å¾—å­¦ä¼šJava mailæ˜¯ä¸€ä»¶å¾ˆè‡ªè±ªçš„äº‹ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Œé‚®ç®±è¿™ä¹ˆæœ‰é€¼æ ¼çš„ä¸œè¥¿éƒ½èƒ½è¢«ä½ ç©çš„å¾ˆæºœçš„è¯ï¼Œä¸€å®šä¸ä¸€èˆ¬ã€‚&lt;br&gt; æœ¬æ¬¡è¯•éªŒä½¿ç”¨äº†
  &lt;code&gt;javax.mail.jar&lt;/code&gt;jaråŒ…ï¼Œè¯·è‡ªè¡Œç™¾åº¦ä¸‹è½½ã€‚&lt;br&gt; æˆ‘å®ç°çš„Java mailä¸»è¦åŒ…æ‹¬4ä¸ªéƒ¨åˆ†ï¼š
      
    
    </summary>
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/categories/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="è½¯ä»¶å·¥ç¨‹" scheme="http://meng.uno/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
</feed>
