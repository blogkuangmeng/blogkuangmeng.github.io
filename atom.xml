<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ¬¢è¿æ¥åˆ°åŒ¡ç›Ÿç›Ÿçš„åšå®¢ï¼</title>
  
  <subtitle>Colyn å´›èµ·æ­£å½“æ—¶ï¼</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://meng.uno/"/>
  <updated>2018-02-12T13:50:11.648Z</updated>
  <id>http://meng.uno/</id>
  
  <author>
    <name>åŒ¡ç›Ÿç›Ÿ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç®€å•çš„Python3çˆ¬è™«</title>
    <link href="http://meng.uno/posts/51d32f19/"/>
    <id>http://meng.uno/posts/51d32f19/</id>
    <published>2018-02-12T12:18:15.000Z</published>
    <updated>2018-02-12T13:50:11.648Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>æˆ‘ä»¬å…ˆä»åˆ†æåŸç†å…¥æ‰‹ï¼Œç„¶åå†ä½¿ç”¨Pythonæä¾›çš„åŸºæœ¬çš„åº“urllibã€‚</p>  <p>æ³¨æ„ï¼Œæˆ‘å…¨ç¨‹ä½¿ç”¨çš„æ˜¯Python3ï¼Œå¦‚æœä½ å¿…é¡»ä½¿ç”¨ä¸åŒç‰ˆæœ¬ï¼Œè¯·è‡ªè¡Œç™¾åº¦æŸäº›åº“åŠå‡½æ•°çš„è½¬æ¢ï¼Œéœ€è¦ä½¿ç”¨çš„åº“ä¸ä¸€å®šä½ çš„ç”µè„‘ä¸Šé¢„è£…äº†ï¼Œæ‰€ä»¥è¯·è‡ªè¡Œç™¾åº¦å®‰è£…ã€‚</p></blockquote><h1>åŸç†</h1><p>ç½‘ç»œçˆ¬è™«ï¼Œä¹Ÿå«ç½‘ç»œèœ˜è››(Web Spider)ï¼Œå¦‚æœæŠŠäº’è”ç½‘æ¯”å–»æˆä¸€ä¸ªèœ˜è››ç½‘ï¼ŒSpiderå°±æ˜¯ä¸€åªåœ¨ç½‘ä¸Šçˆ¬æ¥çˆ¬å»çš„èœ˜è››ã€‚ç½‘ç»œçˆ¬è™«å°±æ˜¯æ ¹æ®ç½‘é¡µçš„åœ°å€æ¥å¯»æ‰¾ç½‘é¡µçš„ï¼Œä¹Ÿå°±æ˜¯URLã€‚</p><h2 id="url"><a class="header-anchor" href="#url">ğŸŒŠ</a>URL</h2><p>URLå°±æ˜¯åŒæ„èµ„æºå®šä½ç¬¦(Uniform Resource Locator)ï¼Œå®ƒçš„ä¸€èˆ¬æ ¼å¼å¦‚ä¸‹(å¸¦æ–¹æ‹¬å·[]çš„ä¸ºå¯é€‰é¡¹)ï¼š</p><p><code>protocol ://hostname[:port]/path/[;parameters][?query]#fragment</code></p><p>å¯è§ï¼Œä¸€ä¸ªURLåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ol>  <li>protocolï¼šåè®®ï¼Œä¾‹å¦‚httpsï¼Œhttpç­‰ï¼›</li>  <li>hostname[:port]ï¼šä¸»æœºå(ç«¯å£å·ä¸ºå¯é€‰å‚æ•°)ï¼Œä¸€èˆ¬ç½‘ç«™é»˜è®¤çš„ç«¯å£å·ä¸º80ï¼Œä¾‹å¦‚æˆ‘çš„åšå®¢åŸŸåwww.meng.unoï¼Œå¯ä»¥ä½œä¸ºä¸»æœºåä½¿ç”¨;</li>  <li>pathï¼šç¬¬ä¸‰éƒ¨åˆ†å°±æ˜¯ä¸»æœºèµ„æºçš„å…·ä½“åœ°å€ï¼Œå¦‚ç›®å½•å’Œæ–‡ä»¶åç­‰ã€‚</li></ol><p>çˆ¬è™«å°±æ˜¯å‘URLå‘é€è¯·æ±‚ï¼Œç„¶åå¾—åˆ°å“åº”ï¼ŒåŸºæœ¬å°±å®ç°äº†çˆ¬å–ç½‘é¡µçš„åŠŸèƒ½ã€‚</p><p><strong>URIå¯ä»¥åˆ†ä¸ºURL,URNæˆ–åŒæ—¶å…·å¤‡locators å’Œnamesç‰¹æ€§çš„ä¸€ä¸ªä¸œè¥¿ã€‚URNä½œç”¨å°±å¥½åƒä¸€ä¸ªäººçš„åå­—ï¼ŒURLå°±åƒä¸€ä¸ªäººçš„åœ°å€ã€‚æ¢å¥è¯è¯´ï¼šURNç¡®å®šäº†ä¸œè¥¿çš„èº«ä»½ï¼ŒURLæä¾›äº†æ‰¾åˆ°å®ƒçš„æ–¹å¼ã€‚</strong></p><h2 id="ä»æµè§ˆå™¨å‘é€å’Œæ¥æ”¶æ•°æ®çœ‹èµ·"><a class="header-anchor" href="#ä»æµè§ˆå™¨å‘é€å’Œæ¥æ”¶æ•°æ®çœ‹èµ·">ğŸŒŠ</a>ä»æµè§ˆå™¨å‘é€å’Œæ¥æ”¶æ•°æ®çœ‹èµ·</h2><p>è¿›å…¥æˆ‘çš„é¦–é¡µ<code>www.meng.uno</code>ï¼Œæ‰“å¼€æµè§ˆå™¨çš„â€œæ£€æŸ¥â€åŠŸèƒ½ï¼Œé€‰é¡¹å¡é€‰åˆ°â€œNetworkâ€ï¼Œç„¶åç‚¹å‡»æ‰€æœ‰æ–‡ç« ï¼Œéšä¾¿é€‰æ‹©ä¸€æ¡ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å¦‚ä¸‹æˆªå›¾çš„&quot;Headers&quot;</p><p><img src="http://meng.uno/images/crawl/1.png" alt="Headers"></p><p>æˆ‘ä»¬å¯ä»¥å‘ç°æœ€æ˜æ˜¾çš„æœ‰ä¸¤ä¸ªåŒºåŸŸï¼ˆæˆ‘å·²ç»åœˆå‡ºæ¥äº†ï¼‰ï¼šâ€œrequestâ€å’Œâ€œresponseâ€ã€‚ä»å­—é¢æ„æ€ä¸Šæ¥çœ‹ï¼Œæˆ‘ä»¬å°±çŸ¥é“åˆ†åˆ«æ˜¯ï¼ˆå‘é€çš„ï¼‰è¯·æ±‚å’Œï¼ˆæ”¶åˆ°çš„ï¼‰å›å¤ã€‚</p><p>æ¥æ”¶çš„ä¿¡æ¯æ˜¯æˆ‘ä»¬è¯·æ±‚çš„ç½‘é¡µç»™çš„ï¼Œä¸ç”¨æˆ‘ä»¬ç®¡ï¼Œä½†æ˜¯â€œè¯·æ±‚çš„ç½‘é¡µâ€æ˜¯æˆ‘ä»¬éœ€è¦æå‰è®¾å®šçš„ï¼Œå½“ç„¶æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä»€ä¹ˆéƒ½ä¸è®¾ç½®ã€‚çˆ¬è™«ä¼šå¢åŠ ç½‘ç«™çš„è´Ÿè·ï¼Œæ‰€ä»¥å¾ˆå¤šç½‘ç«™å¸Œæœ›å¤§å®¶é€šè¿‡APIçš„æ–¹å¼ä½¿ç”¨å…¶å¼€æ”¾çš„èµ„æºè€Œç¦æ­¢çˆ¬è™«ï¼Œå…¶ä¸­çš„ä¸€ä¸ªåšæ³•å°±æ˜¯åˆ¤æ–­ä½ çš„è¯·æ±‚å†…å®¹ï¼ˆä¸å…¨çš„åŸºæœ¬éƒ½æ˜¯çˆ¬è™«ï¼‰ã€‚äºæ˜¯ï¼Œä¸ºäº†åšåˆ°ä¸€ä¸ªå®Œæ•´çš„å¯ç”¨çš„çˆ¬è™«ï¼Œæˆ‘ä»¬éœ€è¦æ¨¡æ‹ŸçœŸå®ç”¨æˆ·çš„è¯·æ±‚ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬ä¼ªé€ â€œUser Agentâ€ã€‚</p><p>å¸¸è§çš„â€œUser Agentâ€åˆ—ä¸¾å¦‚ä¸‹ï¼š</p><ol>  <li>    <p>Android</p>    <ul>      <li>Mozilla/5.0 (Linux; Android 4.1.1; Nexus 7 Build/JRO03D) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.166 Safari/535.19</li>      <li>Mozilla/5.0 (Linux; U; Android 4.0.4; en-gb; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30</li>      <li>Mozilla/5.0 (Linux; U; Android 2.2; en-gb; GT-P1000 Build/FROYO) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1</li>    </ul>  </li>  <li>    <p>Firefox</p>    <ul>      <li>Mozilla/5.0 (Windows NT 6.2; WOW64; rv:21.0) Gecko/20100101 Firefox/21.0</li>      <li>Mozilla/5.0 (Android; Mobile; rv:14.0) Gecko/14.0 Firefox/14.0</li>    </ul>  </li>  <li>    <p>Google Chrome</p>    <ul>      <li>Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/27.0.1453.94 Safari/537.36</li>      <li>Mozilla/5.0 (Linux; Android 4.0.4; Galaxy Nexus Build/IMM76B) AppleWebKit/535.19 (KHTML, like Gecko) Chrome/18.0.1025.133 Mobile Safari/535.19</li>    </ul>  </li>  <li>    <p>iOS</p>    <ul>      <li>Mozilla/5.0 (iPad; CPU OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A334 Safari/7534.48.3</li>      <li>Mozilla/5.0 (iPod; U; CPU like Mac OS X; en) AppleWebKit/420.1 (KHTML, like Gecko) Version/3.0 Mobile/3A101a Safari/419.3</li>    </ul>  </li></ol><p>User Agentå·²ç»è®¾ç½®å¥½äº†ï¼Œä½†æ˜¯è¿˜åº”è¯¥è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œç¨‹åºçš„è¿è¡Œé€Ÿåº¦æ˜¯å¾ˆå¿«çš„ï¼Œå¦‚æœæˆ‘ä»¬åˆ©ç”¨ä¸€ä¸ªçˆ¬è™«ç¨‹åºåœ¨ç½‘ç«™çˆ¬å–ä¸œè¥¿ï¼Œä¸€ä¸ªå›ºå®šIPçš„è®¿é—®é¢‘ç‡å°±ä¼šå¾ˆé«˜ï¼Œè¿™ä¸ç¬¦åˆäººä¸ºæ“ä½œçš„æ ‡å‡†ï¼Œå› ä¸ºäººæ“ä½œä¸å¯èƒ½åœ¨å‡ mså†…ï¼Œè¿›è¡Œå¦‚æ­¤é¢‘ç¹çš„è®¿é—®ã€‚æ‰€ä»¥ä¸€äº›ç½‘ç«™ä¼šè®¾ç½®ä¸€ä¸ªIPè®¿é—®é¢‘ç‡çš„é˜ˆå€¼ï¼Œå¦‚æœä¸€ä¸ªIPè®¿é—®é¢‘ç‡è¶…è¿‡è¿™ä¸ªé˜ˆå€¼ï¼Œè¯´æ˜è¿™ä¸ªä¸æ˜¯äººåœ¨è®¿é—®ï¼Œè€Œæ˜¯ä¸€ä¸ªçˆ¬è™«ç¨‹åºã€‚</p><p>ä¸€ä¸ªå¾ˆç®€å•çš„è§£å†³åŠæ³•å°±æ˜¯è®¾ç½®å»¶æ—¶ï¼Œä½†æ˜¯è¿™æ˜¾ç„¶ä¸ç¬¦åˆçˆ¬è™«å¿«é€Ÿçˆ¬å–ä¿¡æ¯çš„ç›®çš„ï¼Œæ‰€ä»¥å¦ä¸€ç§æ›´å¥½çš„æ–¹æ³•å°±æ˜¯ä½¿ç”¨IPä»£ç†ã€‚ä½¿ç”¨ä»£ç†çš„æ­¥éª¤ï¼š</p><ul>  <li>è°ƒç”¨urlib.request.ProxyHandler()ï¼Œproxieså‚æ•°ä¸ºä¸€ä¸ªå­—å…¸ï¼›</li>  <li>åˆ›å»ºOpener(ç±»ä¼¼äºurlopenï¼Œè¿™ä¸ªä»£å¼€æ–¹å¼æ˜¯æˆ‘ä»¬è‡ªå·±å®šåˆ¶çš„)ï¼›</li>  <li>å®‰è£…Openerï¼›</li></ul><p><strong>è¿™ä¸ªç½‘ç«™æä¾›äº†å¾ˆå¤šä»£ç†ä¸»æœºï¼š<a href="http://www.xicidaili.com/" target="_blank" rel="noopener">http://www.xicidaili.com/</a></strong></p><h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a class="header-anchor" href="#æ­£åˆ™è¡¨è¾¾å¼">ğŸŒŠ</a>æ­£åˆ™è¡¨è¾¾å¼</h2><p>æˆ‘ç›´æ¥ä»¥è¡¨æ ¼çš„å½¢å¼å‘ˆç°å¥½äº†ï¼š</p><table>  <thead>    <tr>      <th style="text-align:center">å…ƒå­—ç¬¦</th>      <th style="text-align:right">è¯´æ˜</th>    </tr>  </thead>  <tbody>    <tr>      <td style="text-align:center">.</td>      <td style="text-align:right">ä»£è¡¨ä»»æ„å­—ç¬¦</td>    </tr>    <tr>      <td style="text-align:center"></td>      <td style="text-align:right"></td>    </tr>    <tr>      <td style="text-align:center">[ ]</td>      <td style="text-align:right">åŒ¹é…å†…éƒ¨çš„ä»»ä¸€å­—ç¬¦æˆ–å­è¡¨è¾¾å¼</td>    </tr>    <tr>      <td style="text-align:center">[^]</td>      <td style="text-align:right">å¯¹å­—ç¬¦é›†å’Œå–é</td>    </tr>    <tr>      <td style="text-align:center">-</td>      <td style="text-align:right">å®šä¹‰ä¸€ä¸ªåŒºé—´</td>    </tr>    <tr>      <td style="text-align:center">\</td>      <td style="text-align:right">å¯¹ä¸‹ä¸€å­—ç¬¦å–éï¼ˆé€šå¸¸æ˜¯æ™®é€šå˜ç‰¹æ®Šï¼Œç‰¹æ®Šå˜æ™®é€šï¼‰</td>    </tr>    <tr>      <td style="text-align:center">*</td>      <td style="text-align:right">åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–è€…å­è¡¨è¾¾å¼0æ¬¡æˆ–å¤šæ¬¡</td>    </tr>    <tr>      <td style="text-align:center">*?</td>      <td style="text-align:right">æƒ°æ€§åŒ¹é…ä¸Šä¸€ä¸ª</td>    </tr>    <tr>      <td style="text-align:center">+</td>      <td style="text-align:right">åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦æˆ–å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡</td>    </tr>    <tr>      <td style="text-align:center">+?</td>      <td style="text-align:right">æƒ°æ€§åŒ¹é…ä¸Šä¸€ä¸ª</td>    </tr>    <tr>      <td style="text-align:center">?</td>      <td style="text-align:right">åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦æˆ–å­è¡¨è¾¾å¼0æ¬¡æˆ–1æ¬¡é‡å¤</td>    </tr>    <tr>      <td style="text-align:center">{n}</td>      <td style="text-align:right">åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦æˆ–å­è¡¨è¾¾å¼</td>    </tr>    <tr>      <td style="text-align:center">{m,n}</td>      <td style="text-align:right">åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦æˆ–å­è¡¨è¾¾å¼è‡³å°‘mæ¬¡è‡³å¤šnæ¬¡</td>    </tr>    <tr>      <td style="text-align:center">{n,}</td>      <td style="text-align:right">åŒ¹é…å‰ä¸€ä¸ªå­—ç¬¦æˆ–è€…å­è¡¨è¾¾å¼è‡³å°‘næ¬¡</td>    </tr>    <tr>      <td style="text-align:center">{n,}?</td>      <td style="text-align:right">å‰ä¸€ä¸ªçš„æƒ°æ€§åŒ¹é…</td>    </tr>    <tr>      <td style="text-align:center">^</td>      <td style="text-align:right">åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´</td>    </tr>    <tr>      <td style="text-align:center">\A</td>      <td style="text-align:right">åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td>    </tr>    <tr>      <td style="text-align:center">$</td>      <td style="text-align:right">åŒ¹é…å­—ç¬¦ä¸²ç»“æŸ</td>    </tr>    <tr>      <td style="text-align:center">[\b]</td>      <td style="text-align:right">é€€æ ¼å­—ç¬¦</td>    </tr>    <tr>      <td style="text-align:center">\c</td>      <td style="text-align:right">åŒ¹é…ä¸€ä¸ªæ§åˆ¶å­—ç¬¦</td>    </tr>    <tr>      <td style="text-align:center">\d</td>      <td style="text-align:right">åŒ¹é…ä»»æ„æ•°å­—</td>    </tr>    <tr>      <td style="text-align:center">\D</td>      <td style="text-align:right">åŒ¹é…æ•°å­—ä»¥å¤–çš„å­—ç¬¦</td>    </tr>    <tr>      <td style="text-align:center">\t</td>      <td style="text-align:right">åŒ¹é…åˆ¶è¡¨ç¬¦</td>    </tr>    <tr>      <td style="text-align:center">\w</td>      <td style="text-align:right">åŒ¹é…ä»»æ„æ•°å­—å­—æ¯ä¸‹åˆ’çº¿</td>    </tr>    <tr>      <td style="text-align:center">\W</td>      <td style="text-align:right">ä¸åŒ¹é…æ•°å­—å­—æ¯ä¸‹åˆ’çº¿</td>    </tr>  </tbody></table><h1>ä»£ç </h1><h2 id="ç®€å•å¸¦é”™è¯¯ä¿¡æ¯çš„è·å–ç½‘é¡µå†…æ‰€æœ‰urlçš„çˆ¬è™«"><a class="header-anchor" href="#ç®€å•å¸¦é”™è¯¯ä¿¡æ¯çš„è·å–ç½‘é¡µå†…æ‰€æœ‰urlçš„çˆ¬è™«">ğŸŒŠ</a>ç®€å•å¸¦é”™è¯¯ä¿¡æ¯çš„è·å–ç½‘é¡µå†…æ‰€æœ‰URLçš„çˆ¬è™«</h2><figure class="highlight python">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">#è·å–URLçš„åŒ…</span></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="comment">#è·å–å­—ç¬¦é›†ç¼–ç æ–¹å¼</span></span><br><span class="line"><span class="keyword">import</span> chardet</span><br><span class="line"><span class="comment">#æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#Request å¯¹è±¡</span></span><br><span class="line">req = urllib.request.Request(<span class="string">"http://meng.uno/"</span>)</span><br><span class="line">data = <span class="keyword">None</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="comment">#å¾—åˆ°Response</span></span><br><span class="line">    response = urllib.request.urlopen(req,data)</span><br><span class="line">    <span class="comment">#è¯»å‡ºresponse == è¯·æ±‚æ–‡ä»¶çš„å…¨éƒ¨å­—ç¬¦</span></span><br><span class="line">    html = response.read()</span><br><span class="line">    <span class="comment">#è·å–è¿™ä¸ªresponseçš„ç¼–ç æ–¹å¼</span></span><br><span class="line">    charset = chardet.detect(html)</span><br><span class="line">    print(<span class="string">"ç¼–ç æ–¹å¼ï¼š"</span>,charset)</span><br><span class="line">    <span class="comment">#ä»¥è¿™ç§ç¼–ç æ–¹å¼è§£ç æ‰“å°</span></span><br><span class="line">    html = html.decode(charset.get(<span class="string">"encoding"</span>))</span><br><span class="line">    print(html)</span><br><span class="line">    urls = re.findall(<span class="string">'href=\"https*://w*\.*meng\.uno/.*?\"'</span>, html,re.S)</span><br><span class="line">    uris = re.findall(<span class="string">'href=\"/[^/].*?[^\.]\"'</span>,html, re.S)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> urls:</span><br><span class="line">        print(item[<span class="number">6</span>:<span class="number">-1</span>])</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> uris:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">".html"</span> <span class="keyword">in</span> item:</span><br><span class="line">            print(<span class="string">"http://www.meng.uno"</span>+item[<span class="number">6</span>:<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">elif</span> <span class="string">'.'</span> <span class="keyword">in</span> item:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"http://www.meng.uno"</span>+item[<span class="number">6</span>:<span class="number">-1</span>])</span><br><span class="line"><span class="keyword">except</span> urllib.error.HTTPError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">if</span> hasattr(e, <span class="string">'code'</span>):</span><br><span class="line">        print(<span class="string">"HTTPError"</span>)</span><br><span class="line">        print(e.code)</span><br><span class="line">    <span class="keyword">elif</span> hasattr(e, <span class="string">'reason'</span>):</span><br><span class="line">        print(<span class="string">"URLError"</span>)</span><br><span class="line">        print(e.reason)</span><br></pre>      </td>    </tr>  </table></figure><h2 id="æ¨¡æ‹ŸçœŸå®ç¯å¢ƒçš„çˆ¬è™«"><a class="header-anchor" href="#æ¨¡æ‹ŸçœŸå®ç¯å¢ƒçš„çˆ¬è™«">ğŸŒŠ</a>æ¨¡æ‹ŸçœŸå®ç¯å¢ƒçš„çˆ¬è™«</h2><figure class="highlight python">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"> <span class="comment">#è®¿é—®ç½‘å€</span></span><br><span class="line">url = <span class="string">'http://www.whatismyip.com.tw/'</span></span><br><span class="line"><span class="comment">#è¿™æ˜¯ä»£ç†IP</span></span><br><span class="line">proxy = &#123;<span class="string">'https'</span>:<span class="string">'110.73.48.189:8123'</span>&#125;</span><br><span class="line"><span class="comment">#åˆ›å»ºProxyHandler</span></span><br><span class="line">proxy_support = urllib.request.ProxyHandler(proxy)</span><br><span class="line"><span class="comment">#åˆ›å»ºOpener</span></span><br><span class="line">opener = urllib.request.build_opener(proxy_support)</span><br><span class="line"><span class="comment">#æ·»åŠ User Angent</span></span><br><span class="line">opener.addheaders = [(<span class="string">'User-Agent'</span>,<span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36'</span>)]</span><br><span class="line"><span class="comment">#å®‰è£…OPener</span></span><br><span class="line">urllib.request.install_opener(opener)</span><br><span class="line"><span class="comment">#ä½¿ç”¨è‡ªå·±å®‰è£…å¥½çš„Opener</span></span><br><span class="line">response = urllib.request.urlopen(url)</span><br><span class="line"><span class="comment">#è¯»å–ç›¸åº”ä¿¡æ¯å¹¶è§£ç </span></span><br><span class="line">html = response.read().decode(<span class="string">"utf-8"</span>)</span><br><span class="line"><span class="comment">#æ‰“å°ä¿¡æ¯</span></span><br><span class="line">print(html)</span><br></pre>      </td>    </tr>  </table></figure><h2 id="é€šè¿‡é˜Ÿåˆ—è·å–ç½‘ç«™æ‰€æœ‰urlçš„çˆ¬è™«"><a class="header-anchor" href="#é€šè¿‡é˜Ÿåˆ—è·å–ç½‘ç«™æ‰€æœ‰urlçš„çˆ¬è™«">ğŸŒŠ</a>é€šè¿‡é˜Ÿåˆ—è·å–ç½‘ç«™æ‰€æœ‰URLçš„çˆ¬è™«</h2><figure class="highlight python">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="comment">#pythonç³»ç»Ÿå…³äºé˜Ÿåˆ—çš„åŒ…</span></span><br><span class="line"><span class="keyword">import</span> queue</span><br><span class="line"><span class="comment">#è·å–URLçš„åŒ…</span></span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="comment">#è·å–å­—ç¬¦é›†ç¼–ç æ–¹å¼</span></span><br><span class="line"><span class="keyword">import</span> chardet</span><br><span class="line"><span class="comment">#æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">initial_page = <span class="string">"http://www.meng.uno"</span></span><br><span class="line"></span><br><span class="line">url_queue = queue.Queue()</span><br><span class="line">seen = set()</span><br><span class="line"></span><br><span class="line">seen.add(initial_page)</span><br><span class="line">url_queue.put(initial_page)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">extract_urls</span><span class="params">(url)</span>:</span></span><br><span class="line">    req = urllib.request.Request(url)</span><br><span class="line">    <span class="comment">#å¾—åˆ°Response</span></span><br><span class="line">    response = urllib.request.urlopen(req)</span><br><span class="line">    <span class="comment">#è¯»å‡ºresponse == è¯·æ±‚æ–‡ä»¶çš„å…¨éƒ¨å­—ç¬¦</span></span><br><span class="line">    html = response.read()</span><br><span class="line">    <span class="comment">#è·å–è¿™ä¸ªresponseçš„ç¼–ç æ–¹å¼</span></span><br><span class="line">    charset = chardet.detect(html)</span><br><span class="line">    <span class="comment">#ä»¥è¿™ç§ç¼–ç æ–¹å¼è§£ç æ‰“å°</span></span><br><span class="line">    html = html.decode(charset.get(<span class="string">"encoding"</span>))</span><br><span class="line">    urls = re.findall(<span class="string">'href=\"https*://w*\.*meng\.uno/.*?\"'</span>, html,re.S)</span><br><span class="line">    uris = re.findall(<span class="string">'href=\"/[^/].*?[^\.]\"'</span>,html, re.S)</span><br><span class="line">    tempseen = set()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> urls:</span><br><span class="line">        tempseen.add(item[<span class="number">6</span>:<span class="number">-1</span>])</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> uris:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">".html"</span> <span class="keyword">in</span> item:</span><br><span class="line">            tempseen.add(<span class="string">"http://www.meng.uno"</span>+item[<span class="number">6</span>:<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">elif</span> <span class="string">'.'</span> <span class="keyword">in</span> item:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            tempseen.add(<span class="string">"http://www.meng.uno"</span>+item[<span class="number">6</span>:<span class="number">-1</span>])</span><br><span class="line">    <span class="keyword">return</span> tempseen</span><br><span class="line">            </span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">True</span>): <span class="comment">#ä¸€ç›´è¿›è¡Œç›´åˆ°æµ·æ¯çŸ³çƒ‚</span></span><br><span class="line">    <span class="keyword">if</span> url_queue.qsize()&gt;<span class="number">0</span>:</span><br><span class="line">        current_url = url_queue.get()    <span class="comment">#æ‹¿å‡ºé˜Ÿä¾‹ä¸­ç¬¬ä¸€ä¸ªçš„url</span></span><br><span class="line">        print(current_url)               <span class="comment">#æŠŠè¿™ä¸ªurlä»£è¡¨çš„ç½‘é¡µå­˜å‚¨å¥½</span></span><br><span class="line">        <span class="keyword">for</span> next_url <span class="keyword">in</span> extract_urls(current_url): <span class="comment">#æå–æŠŠè¿™ä¸ªurlé‡Œé“¾å‘çš„url</span></span><br><span class="line">            <span class="keyword">if</span> next_url <span class="keyword">not</span> <span class="keyword">in</span> seen:      </span><br><span class="line">                seen.add(next_url)</span><br><span class="line">                url_queue.put(next_url)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre>      </td>    </tr>  </table></figure><p><strong><em>è¿™é‡Œå…ˆç®€å•è§£é‡Šï¼Œä»¥åæœ‰å®é™…é¡¹ç›®ä¼šå†è¡¥å……ï¼</em></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;æˆ‘ä»¬å…ˆä»åˆ†æåŸç†å…¥æ‰‹ï¼Œç„¶åå†ä½¿ç”¨Pythonæä¾›çš„åŸºæœ¬çš„åº“urllibã€‚&lt;/p&gt;
  &lt;p&gt;æ³¨æ„ï¼Œæˆ‘å…¨ç¨‹ä½¿ç”¨çš„æ˜¯Python3ï¼Œå¦‚æœä½ å¿…é¡»ä½¿ç”¨ä¸åŒç‰ˆæœ¬ï¼Œè¯·è‡ªè¡Œç™¾åº¦æŸäº›åº“åŠå‡½æ•°çš„è½¬æ¢ï¼Œéœ€è¦ä½¿ç”¨çš„åº“ä¸ä¸€å®šä½ çš„ç”µè„‘ä¸Šé¢„è£…äº†ï¼Œæ‰€ä»¥è¯·è‡ªè¡Œç™¾åº¦å®‰è£…ã€‚&lt;/p
      
    
    </summary>
    
      <category term="Python" scheme="http://meng.uno/categories/Python/"/>
    
      <category term="çˆ¬è™«" scheme="http://meng.uno/categories/Python/%E7%88%AC%E8%99%AB/"/>
    
    
      <category term="Python" scheme="http://meng.uno/tags/Python/"/>
    
      <category term="çˆ¬è™«" scheme="http://meng.uno/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>CPAchecker</title>
    <link href="http://meng.uno/posts/c5d9877c/"/>
    <id>http://meng.uno/posts/c5d9877c/</id>
    <published>2018-02-11T14:08:59.000Z</published>
    <updated>2018-02-11T14:15:48.025Z</updated>
    
    <content type="html"><![CDATA[<p>CPAchecker is a tool for configurable software verification which means expressing different program analysis and model checking approaches in one single formalism.Â The main algorithm is configurable to perform a reachability analysis on arbitrary combinations  of existing configurable program analysis (CPA). One application of CPAchecker is the verification ofÂ LinuxÂ device drivers.</p><p>CPA provides a conceptual basis for expressing different verification approaches in the same formal setting. The CPA formalism provides an interface for the definition of program analyses, which includes the abstract domain, the post operator, the merge  operator, and the stop operator. Consequently, the corresponding tool implementation CPAchecker provides an implementation framework that allows the seamless integration of program analyses that are expressed in the CPA framework. The comparison of  different approaches in the same experimental setting becomes easy and the experimental results will be more meaningful.</p><h2 id="architecture"><a class="header-anchor" href="#architecture">ğŸŒŠ</a>Architecture</h2><p><img src="http://www.meng.uno/images/cpa/1.png" alt="CPAchecker"></p><p>The above picture is the overview of CPAcheckerâ€™s architecture. The central data structure is a set of control-flow automata (CFA), which consist of control-flow locations and control-flow edges. A location represents a program-counter value, and an edge  represents a program operation, which is either an assume operation, an assignment block, a function call, or a function return. Before a program analysis starts, the input program is transformed into a syntax tree, and further into CFAs. The framework  provides interfaces to SMT solvers and interpolation procedures, such that the CPA operators can be written in a concise and convenient way. From the picture, we know that they use MathSAT as an SMT solver, and CSIsat and MathSAT as interpolation procedures.  They also use JavaBDD as a BDD package, and provide an interface to an Octagon Library as well. The CPA Algorithm is the center of this project and the detailed design is shown as follows.</p><p><img src="http://www.meng.uno/images/cpa/2.png" alt="CPAchecker"></p><p>The CPA algorithm (shown at the top in the above figure) takes as input a set of control-flow automata (CFA) representing the program, and a CPA, which is in most cases a Composite CPA. The interfaces correspond one-to-one to the formal framework. The  elements in the gray box (top right) represent the abstract interfaces of the CPA and the CPA operations. The two gray boxes at the bottom of the figure show two implementations of the interface CPA, one is a Composite CPA that can combine several other  CPAs, and the other is a Leaf CPA.</p><h2 id="build-and-test"><a class="header-anchor" href="#build-and-test">ğŸŒŠ</a>Build and Test</h2><p>Owing to the long development history, this project is very prefect which means you could use its binary directly, build from the source and even use their jar-ball in Java applications. To experience it, I will build it from the source and use it in  the command-line.</p><p>We need to install â€œjdkâ€, â€œantâ€, â€œsvnâ€ and â€œsubversionâ€ before we build it. Then enter the root directory and run â€œantâ€. Wait a moment and this is the result.</p><p>To test this project, we need to write a C/C++ code without â€œ#include  <headers>â€. I choose a simple one (QuickSort) shown in the attachment.</headers></p><p>The result contains a log file, a statistics file and a report which is in â€œhtmlâ€ format.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;CPAchecker is a tool for configurable software verification which means expressing different program analysis and model checking approach
      
    
    </summary>
    
      <category term="Software Verification" scheme="http://meng.uno/categories/Software-Verification/"/>
    
      <category term="CPA" scheme="http://meng.uno/categories/Software-Verification/CPA/"/>
    
      <category term="CPAchecker" scheme="http://meng.uno/categories/Software-Verification/CPA/CPAchecker/"/>
    
    
      <category term="CPA" scheme="http://meng.uno/tags/CPA/"/>
    
      <category term="CPAchecker" scheme="http://meng.uno/tags/CPAchecker/"/>
    
  </entry>
  
  <entry>
    <title>Linux Test Project</title>
    <link href="http://meng.uno/posts/bfb74f68/"/>
    <id>http://meng.uno/posts/bfb74f68/</id>
    <published>2018-02-11T13:29:33.000Z</published>
    <updated>2018-02-11T14:04:49.151Z</updated>
    
    <content type="html"><![CDATA[<p>I found this project from the references of other papers, and I thought it was good, so I plan to run it. As we can see from its name, Linux Test Project (LTP) has a goal to deliver test suites to the open source community that validate the reliability,  robustness, and stability of Linux. This project wants to support Linux development by making unit testing more complete and minimizing user impact by building a barrier to keep bugs from making it to the user. There are two important testing techniques  which are supported by giving developers an ever growing set of tools to help identify any operational problems in their code: Design and Code Inspections. I knew that Yggdrasil and Hyperkernel which I have run successfully belong to the last category.  LTP doesnâ€™t have a benchmark which means they donâ€™t compare different kernel of Linux.</p><p>In LTP, we need to know:</p><ul>  <li>Test case: A single action and verification which has a result PASS/FAIL.</li>  <li>Test suite: Containing one or more test cases.</li>  <li>Test tags: Pairing a unique identifier with a test program and a set of command line options.</li></ul><p>We also need to know the ways of reporting the results of a test case. There are two main ways which are contained in LTP:</p><ul>  <li>Exit status: If a test program encounters unexpected or incorrect results, exit the test program with a non-zero exit status, i.e. exit(1). Conversely, if a program completes as expected, return a zero exit status, i.e. exit(0).</li>  <li>Standard output: Tools can be used to analyze the results, if they are written in a standard way.</li></ul><h2 id="build-and-run"><a class="header-anchor" href="#build-and-run">ğŸŒŠ</a>Build and Run</h2><p>To build this project, we need to run the following executions:</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>      </td>      <td class="code">        <pre><span class="line">$ git clone https:<span class="comment">//github.com/linux-test-project/ltp.git</span></span><br><span class="line">$ cd ltp</span><br><span class="line">$ make autotools</span><br><span class="line">$ ./configure</span><br><span class="line">$ make</span><br><span class="line">$ make install</span><br></pre>      </td>    </tr>  </table></figure><p>Before these, we need to ensure â€œgit, autoconf, automake, m4â€ are installed. If not, we can use â€œapt-getâ€ to get them. The output of â€œmakeâ€ is shown as following.</p><p><img src="http://www.meng.uno/images/ltp/1.png" alt="LTP"></p><p>After building this project, letâ€™s run it personally. If we want to run all the test suites, we just need run â€œ./runltpâ€ in the â€œopt/ltp/â€ directory. However, I will run a single test suite to verify this project only with â€œ./runltp -f syscallsâ€ execution.</p><p><img src="http://www.meng.uno/images/ltp/2.png" alt="LTP"></p><p>The picture above is the output of â€œabort01â€ test case. From it we can see that the test method is â€œExit status testâ€ and it passes all the situations.</p><p>If a test case needs datafiles to work, these would be put in a subdirectory namedÂ datafilesand installed in theÂ testcases/data/$TCIDÂ directory</p><h2 id="analyze-test-cases"><a class="header-anchor" href="#analyze-test-cases">ğŸŒŠ</a>Analyze Test Cases</h2><p>We could find LTP in â€œ/opt/ltpâ€ and the test suites are installed in the â€œ/opt/ltp/runtest/â€ directory. The following picture is a screenshot of it.</p><p><img src="http://www.meng.uno/images/ltp/3.png" alt="LTP"></p><p>In a single file, such as â€œsyscallsâ€ file, there exist many single test cases which are like the follows.</p><p><img src="http://www.meng.uno/images/ltp/4.png" alt="LTP"></p><p>From this picture, those words, like â€œabort01â€, represent different test cases which are laid in â€œ/opt/ltp/testcases/bin/â€ directory.</p><p><img src="http://www.meng.uno/images/ltp/5.png" alt="LTP"></p><p>Each test case is a binary written either in portable Shell or C such as â€œabort01â€ which is from â€œabort01.câ€ which lays in the â€œltp/testcases/kernel/syscalls/abortâ€ directory. The test gets a configuration via environment variables and/or command line  parameters, it prints additional information into the stdout and reports overall success/failure via the exit value.</p><p><img src="http://www.meng.uno/images/ltp/6.png" alt="LTP"></p><h2 id="write-a-test-suite"><a class="header-anchor" href="#write-a-test-suite">ğŸŒŠ</a>Write A Test Suite</h2><p>To make things simple, I will use LTP standard interface, not add custom reporting functions and use LTP build system. The following are my steps (These steps are very simple, so I didnâ€™t list any screenshot):</p><ul>  <li>Add a new file â€œmengâ€ to â€œltp/runtest/â€ directory;</li>  <li>Write some test casesâ€™ names, such as â€œabort01 accept01â€;</li>  <li>Run â€œmakeâ€ and â€œmake installâ€;</li>  <li>Enter â€œ/opt/ltp/â€ directory;</li>  <li>Run â€œ./runltp -f mengâ€;</li>  <li>Get the result as the picture. (You can also find the full logs from â€œmeng_output.txtâ€ file in the attachment)</li></ul><p><img src="http://www.meng.uno/images/ltp/7.png" alt="LTP"></p><h2 id="write-a-test-case"><a class="header-anchor" href="#write-a-test-case">ğŸŒŠ</a>Write A Test Case</h2><p>As I said before, we can use C language or Shell to write a test case, however, in this section, I will just use C language to write a simple one which may make me have a deep understanding of this project.</p><p><strong>I used the â€œman-pagesâ€ to find the untested system calls, however, my linux version maybe a little old (2015 release, version 16.04), so that I canâ€™t find a untested one which is excluded by the newest LTP.</strong></p><p>I will write a test for verifying system call â€œfile renameâ€. First, I create a new file â€œmeng.câ€ in the â€œltp/testcases/kernel/syscalls/meng/â€ directory. Then I need to write the codes. The next thing I need to do is to include â€œtst_test.hâ€ (There are  also another headers, however, this one is basic). We need to write â€œmain(), setup(), clean()â€ functions and the detailed realizations are in the â€œmeng.câ€ which is in the attachment (I give some notes of the code in the â€œmeng.câ€ file as well). Whatâ€™s  more, we need to create a â€œMakefileâ€ in the same directory and write the compiling information. The compiled file is like this.</p><p><img src="http://www.meng.uno/images/ltp/8.png" alt="LTP"></p><p>Last, I will add this test case to the â€œmengâ€ test suite and see the result (You can find the full output in â€œmeng_syscall_output.txtâ€ in the attachment).</p><p><img src="http://www.meng.uno/images/ltp/9.png" alt="LTP"></p><p>From the above picture, we can see that the verification is â€œpassâ€ which means that not only the â€œrenameâ€ system call is correct, but also my code is right.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;I found this project from the references of other papers, and I thought it was good, so I plan to run it. As we can see from its name, Li
      
    
    </summary>
    
      <category term="Linux" scheme="http://meng.uno/categories/Linux/"/>
    
      <category term="Linux Test" scheme="http://meng.uno/categories/Linux/Linux-Test/"/>
    
    
      <category term="Linux" scheme="http://meng.uno/tags/Linux/"/>
    
      <category term="Linux Test" scheme="http://meng.uno/tags/Linux-Test/"/>
    
  </entry>
  
  <entry>
    <title>A Melody Composer for both Tonal and Non-Tonal Languages</title>
    <link href="http://meng.uno/posts/2251dcee/"/>
    <id>http://meng.uno/posts/2251dcee/</id>
    <published>2018-02-11T04:03:24.000Z</published>
    <updated>2018-02-11T04:39:53.403Z</updated>
    
    <content type="html"><![CDATA[<h1>Summary</h1><h2 id="abstract"><a class="header-anchor" href="#abstract">ğŸŒŠ</a>Abstract</h2><p>This paper contains some improvements on an algorithmic melody composer called â€œT-musicâ€. â€œT-musicâ€ is an algorithm which can compose a melody for usersâ€™ input lyrics by mining the relationship between the melodies and lyrics. These relationships are  known as frequent patterns (FPS) . The ameliorations are two ways to enhance the methods of mining frequent patterns form instrumental compositions and an optimal way of using FPS mined from songs in one language to compose a melody for the input things  in another language.</p><h2 id="propse"><a class="header-anchor" href="#propse">ğŸŒŠ</a>Propse</h2><p>The propose is to get an algorithm which take lyrics as input and a good melody as outcome in order to help those people who have little music background to compose songs. In view of the fact that there is already a pretty well method, T-music, the authorsâ€™  tasks are making some improvements on the basis of the original algorithm.</p><h2 id="deficiencies-of-original-algorithm"><a class="header-anchor" href="#deficiencies-of-original-algorithm">ğŸŒŠ</a>Deficiencies of original algorithm</h2><p>At the first place, I need to borrow a figure from the paper as follows to express my understanding of the original T-music method.</p><p><img src="http://www.meng.uno/images/t-music-arch.png" alt="t-musuc"></p><p>As the picture shows that the system architecture of T-music can be divided as two phases which are â€œFrequent Pattern Miningâ€ and â€œMelody Compositionâ€. I will report this method following the flow of the algorithm.</p><ul>  <li>    <p>Mining the FPS from â€œSong Databaseâ€ and storing them in the â€œFrequent Pattern Databaseâ€:</p>    <ul>      <li>Obtaining tone sequences from â€œSong Databaseâ€ by reading the â€œLanguage Dictionaryâ€;</li>      <li>Generating s-sequence from a melody, a pitch sequence and a duration sequence;</li>      <li>Mining the FPS from s-sequence;</li>      <li>Storing the FPS to â€œFrequent Pattern Databaseâ€.</li>    </ul>  </li>  <li>    <p>Composing a melody for the â€œLyricsâ€ based on FPS in the â€œFrequent Pattern Databaseâ€:</p>    <ul>      <li>Obtaining the tone sequence of the lyrics by reading the â€œLanguage Dictionaryâ€;</li>      <li>Adding some â€œMusic Parametersâ€ such as some music rules;</li>      <li>Generating â€œMelodyâ€ by the process â€œMelody Compositionâ€ using FPS.</li>    </ul>  </li></ul><p>There are some deficiencies of the original T-music algorithm as follows. It can only mine FPS from songs in which lyrics must be present. Whatâ€™s more, the original one canâ€™t use the FPS mined from a language to compose melody in another language. However,  we canâ€™t always get the ideal songs data which have lyrics embedded easily. What we can get from the Internet are those instrumental compositions in which lyrics are absent. Also, we want to achieve that composing melody in a language with the FPS mined  from another language which can make the algorithm more efficient.</p><h2 id="improvements"><a class="header-anchor" href="#improvements">ğŸŒŠ</a>Improvements</h2><p>What the authors have done provided two ways to mine Frequent Patterns from instrumental compositions and an optimal mapping method for composing a melody using FPS in different language with the input lyrics.</p><p>The first way is â€œMethod emphasizing the original FPSâ€. I will use the following picture to express my comprehension. Firstly, mining the FPS from songs and storing them in â€œFP database (General)â€. Secondly, mining the frequent pitch trends from â€œInstrumental  compositions with style databaseâ€ and storing them in â€œFrequent pitch trends (Style)â€ and then using it as a selector to select those FPS storing the matches in â€œFP database (Style)â€.</p><p><img src="http://www.meng.uno/images/t-music-database.png" alt="t-musuc"></p><p>The second way is â€œMethod emphasizing the newly mined frequent pitch trendsâ€. I will also introduce it using the screenshot from the paper. The FPS based on those of the first way was subdivided. The frequent pitch trends are mined as usually. The most  difference is that one pitch trend may match a set of several tone trends.</p><p><img src="http://www.meng.uno/images/t-music-database2.png" alt="t-musuc"></p><p>The optimal mapping method is shown as follows. Firstly, using the same method gets a â€œFP databaseâ€ in one language. Then, generating several tone sequences for each tone trend in this â€œFP databaseâ€. There are some lemmas proofed on the paper to decide  the specific number of the mapping.</p><h1>Improvements</h1><p>In this section, I will analysis some excellent algorithms, important thoughts or some key points. Some of them may look small or nothing special, but each has its function.</p><h2 id="using-the-trend-representation"><a class="header-anchor" href="#using-the-trend-representation">ğŸŒŠ</a>Using the â€œTrendâ€ representation</h2><p>If I were doing this job, I could have chosen the simple â€œabsoluteâ€ representation, just because this is the most intuitive frequent pattern we can get from songs. After careful consideration, just as the author explains that same melodies which start  at different pitches may sound similar to us. Then, I understand that it is a big wisdom to use the â€œtrendâ€ representation which uses a FP to extract the general rules of a set of FPS with different pitches, simplifying a large number of calculations  and making the result more obvious.</p><h2 id="using-frequent-pitch-trends-style-as-a-selector"><a class="header-anchor" href="#using-frequent-pitch-trends-style-as-a-selector">ğŸŒŠ</a>Using â€œFrequent pitch trends (Style)â€ as a selector</h2><p>Though we know that â€œT-musicâ€ uses â€œthe FPS between the tone port and the pitch partâ€ and agree the mining method used on mining the frequent pattern which contains a tone trend and a pitch trend, there must be some correlation between â€œTone trendâ€ and  â€œPitch trendâ€. Since the instrumental compositions donâ€™t contain lyrics, we couldnâ€™t mine a whole frequent pattern from them. However, we can also mine part of the frequent pattern from them which is â€œPitch trendâ€. For we have so much instrumental compositions  which means we can get enough â€œPitch trendâ€ and we already know the correlation between â€œTone trendâ€ and â€œPitch trendâ€, we can estimate the frequency of the original frequent pattern and eliminate part of them which have a zero frequency.</p><h2 id="using-the-subsequences-of-original-frequent-pattern"><a class="header-anchor" href="#using-the-subsequences-of-original-frequent-pattern">ğŸŒŠ</a>Using the subsequences of original frequent pattern</h2><p>According to the Apriori property that all nonempty subsets of frequent item set must also be frequent, the authors artfully break the original FPS into smaller form and then making them combine more FPS which can be selected from the original FP database.  By doing this, we can get more frequent patterns from the identical data which means our mining algorithm is more efficient.</p><h2 id="using-multi-map-as-a-data-structure"><a class="header-anchor" href="#using-multi-map-as-a-data-structure">ğŸŒŠ</a>Using multi-map as a data structure</h2><p>This data structure allows the task of retrieving a value by a key quickly and returns more than one frequent pattern with a support. From it, we can get a tuple in top-k tuples with some selection strategies and ensure that a pattern with a very large  support isnâ€™t always selected because it doesnâ€™t mean that it is always the best choice.</p><h2 id="employing-the-divide-and-conquer-idea"><a class="header-anchor" href="#employing-the-divide-and-conquer-idea">ğŸŒŠ</a>Employing the divide and conquer idea</h2><p>Considering to compose a melody of a very long lyric, we may need to divide the original tone trend into several shorter tone trends, apply the same procedure on them and then return the concatenation of the results of the sub-problems. It is a simple  idea of solving such problem, but we canâ€™t resist its correctness and effectiveness.</p><h1>Limitations</h1><p>I just list some areas that I think need improvements or I think it can be added slightly on the basis of the original research.</p><h2 id="applying-word-segmentation"><a class="header-anchor" href="#applying-word-segmentation">ğŸŒŠ</a>Applying word segmentation</h2><p>Though the paper has mentioned the use of word segmentation, there is just a word and no detailed explanation. I think I should express my own idea here. Firstly, the word segmentation here isnâ€™t the same of those applied in the fields of natural language  processing (NLP). As we all known, the latter has so many strict norms to follow, however, in the lyrics, the norms arenâ€™t very same. Why we do this in the input lyrics is because we want to determine the length of durations between every two words,  which is different from the propose in the NLP which just wants to add pause at the same length of time between words and words.</p><h2 id="handling-the-tone-trend-with-a-length-of-1"><a class="header-anchor" href="#handling-the-tone-trend-with-a-length-of-1">ğŸŒŠ</a>Handling the tone trend with a length of 1</h2><p>In this paper, the authors just simply set the pitch trend to be the input tone trend where, I think, may need improvement. Firstly, we all know that â€œthe tone trend with a length of 1â€ couldnâ€™t appear individually. It is usually because we matched the  tone sequences before it or after it. I think if we consider dividing the original sequence into overlapping parts using the similar idea of divide and conquer idea, the question may disappear.</p><h2 id="mining-the-relationship-between-tone-trend-and-pitch-trend"><a class="header-anchor" href="#mining-the-relationship-between-tone-trend-and-pitch-trend">ğŸŒŠ</a>Mining the relationship between â€œtone trendâ€ and â€œpitch trendâ€</h2><p>The authors just determine the relationship based on statistics in whether the original T-music method or the improved edition, store the regulars on a multi-map and when using the frequent pattern, the method just randomly selects a tuple from top-k  tuples from the multi-map. Therefore, no matter which one we choose, it is just the original sequence in the FP-database. If there is a very large database which contains a large number of every frequent pattern, it may have a remarkable effect without  complex computations. However, we canâ€™t ensure it or we just want to improve our algorithm with little support of so many records. Letâ€™s look at the following samples which has the form as same as those in the multi-map and assume that the same tone  trend only has the three tuples.</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>      </td>      <td class="code">        <pre><span class="line">&lt;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>&gt; â€”&gt; (&lt;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,-<span class="number">1</span>,-<span class="number">2</span>&gt;, <span class="number">10</span>)</span><br><span class="line">&lt;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>&gt; â€”&gt; (&lt;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">0</span>,-<span class="number">2</span>,-<span class="number">1</span>&gt;, <span class="number">9</span>) </span><br><span class="line">&lt;<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>&gt; â€”&gt; (&lt;<span class="number">1</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,-<span class="number">2</span>,-<span class="number">1</span>&gt;, <span class="number">5</span>)</span><br></pre>      </td>    </tr>  </table></figure><p>As we can see, they have the same tone trend and different pitch trends with different values of a support. If we just use the method described in the paper, we may get the result of the 1st, the 2nd, or the 3rd. However, is it the best one? Maybe not,  I think. I mean maybe <code>&lt;1,1,2,0,-2,-1&gt;</code> is better. I think we need to add some correlation analyses to the pitch trends which have the same tone trends.</p><h1>Expanding Research</h1><p>After reading this paper, I have some ideas for further research and some of them are listed as follows.</p><h2 id="adding-location-variables"><a class="header-anchor" href="#adding-location-variables">ğŸŒŠ</a>Adding location variables</h2><p>I mean, as we all known, a same lyric may have different melodies when it is at the beginning or at the end of a song. Of course, if we just want to use a simple sentence as its input, this consideration is rather superfluous. However, if the input lyric  is long enough, it is very important then.</p><h2 id="generating-a-melody-with-a-longer-note"><a class="header-anchor" href="#generating-a-melody-with-a-longer-note">ğŸŒŠ</a>Generating a melody with a longer note</h2><p>This thought is mentioned in the end of the paper as well. We may have noticed that the normal notes will be longer than the syllables of lyrics, at least at the end of each sentence. We may need to modify the match method to add the frequent pattern  which contains group of pitch trends sequences and its corresponding longer tone trends sequences.</p><h2 id="applying-syntactic-analysis"><a class="header-anchor" href="#applying-syntactic-analysis">ğŸŒŠ</a>Applying syntactic analysis</h2><p>The following is my exploratory opinion of the original T-music. If I have many songs with lyrics, I will mine the frequent patterns of syntactic analysis and add them to the â€œs-sequenceâ€ mentioned in this paper. Thus I will reform the original multi-map  as follows.</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">(&lt;pitch trend pattern&gt;, &lt;syntax pattern&gt;) â€”&gt; (&lt;tone trend pattern&gt;, support)</span><br></pre>      </td>    </tr>  </table></figure><p>When we match the input lyrics, we need to not only match the â€œpitch trend patternâ€ from the FP-database but also contrast the â€œsyntax patternâ€ and then make the best decision.</p><h2 id="expanding-to-speech-recognization"><a class="header-anchor" href="#expanding-to-speech-recognization">ğŸŒŠ</a>Expanding to speech recognization</h2><p>I have a simple idea of speech recognization using the same method mentioned in this paper. If I could collect enough voice information spoken by the same person, I would mine the frequent patterns of his intonation habit from the voice data and then  using them to judge whether another voice is his or not.</p><h2 id="expanding-to-password-security"><a class="header-anchor" href="#expanding-to-password-security">ğŸŒŠ</a>Expanding to password security</h2><p>In order to prevent the password being stolen, all websites are making efforts on password diversity. I think the method of mining frequent pattern can be applied to protect usersâ€™ password as well. For the same string of ciphers, different people may  type it out in different speeds with different intermission on every two letters. I, for example, usually use the combination of my name and birthday as a password and when I type it out there is a longer break between the last letter of my name and  the first number of my birthday. If we use the same way to mine the frequent patterns form enough times records of someone, we may use the frequent patterns to judge whether it is the right person or not who is typing the password.</p><h2 id="generating-good-problems"><a class="header-anchor" href="#generating-good-problems">ğŸŒŠ</a>Generating â€œgood problemsâ€</h2><p>I often encounter some tricky programming problems and as we all known, â€œStackOverflowâ€ is the biggest website which can offer you relevant solutions when you ask a question on it. However, we all want to get the best answer as soon as possible so we  may need to put forward â€œgood questionsâ€. I think the thought of this paper can be applied to this question. We can first collect enough â€œgood questionsâ€ from the website and then mine the syntactic frequent patterns of each question by categories.  Finally, we can generate such â€œgood questionsâ€ by adding the knowledge of sentence construction and providing some keywords needed.</p><h1>Related Research</h1><p>This paper is about mining frequent patterns which is a subfield of data mining. I will express my understanding mixing information retrieved from the Internet in this field.</p><p>With the rise of big data, so many research topics about data is more and more frequent such as forecasting passenger flow and passenger flow directions during the Spring Festival and predicting the composition of Chinese college entrance examination  this year. Data mining means the process of extracting valuable information and patterns from large amounts of data and these new discovery rules, patterns, information and concepts have potential value. It usually contains the association rules, classification,  estimation, clustering and so on.</p><p>As for association analysis, its propose is to discover interesting links hidden in large data sets and the patterns discovered are usually represented in association rules or frequent item sets just as this paper shown. There are several efficient and  scalable frequent item set mining methods such as Apriori algorithm and FP-growth which needs to construct FP-tree.</p><p>As for classification and prediction, I think it is a more stirring area. Think of this, a marketing manager needs data analysis to help guess whether or not a customer with a given profile will buy a new computer and then the marketing manager would  like to predict how much a given customer will spend during a sale, what an attractive job!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;Summary&lt;/h1&gt;
&lt;h2 id=&quot;abstract&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#abstract&quot;&gt;ğŸŒŠ&lt;/a&gt;Abstract&lt;/h2&gt;
&lt;p&gt;This paper contains some improvements on
      
    
    </summary>
    
      <category term="Paper Report" scheme="http://meng.uno/categories/Paper-Report/"/>
    
      <category term="Data mining" scheme="http://meng.uno/categories/Paper-Report/Data-mining/"/>
    
    
      <category term="Paper Report" scheme="http://meng.uno/tags/Paper-Report/"/>
    
      <category term="Data Mining" scheme="http://meng.uno/tags/Data-Mining/"/>
    
  </entry>
  
  <entry>
    <title>.lengthä¸length()çš„åŒºåˆ«</title>
    <link href="http://meng.uno/posts/61c2f1f1/"/>
    <id>http://meng.uno/posts/61c2f1f1/</id>
    <published>2018-02-10T13:58:04.000Z</published>
    <updated>2018-02-10T14:52:50.489Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²é•¿åº¦æ—¶ï¼Œä¹ æƒ¯äº†ä½¿ç”¨IDEè‡ªåŠ¨è¡¥å…¨çš„æˆ‘ä»¬æ˜¯å¦çŸ¥é“<code>.length</code>ä¸<code>length()</code>çš„åŒºåˆ«å–»åŸå› å‘¢ï¼Ÿ</p></blockquote><p>ä¸Šé¢é—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼š</p><ul>  <li>æ•°ç»„ä½¿ç”¨<code>.length</code>å±æ€§</li>  <li>å­—ç¬¦ä¸²ä½¿ç”¨<code>length()</code>æ–¹æ³•</li></ul><p>ä¸‹é¢æˆ‘æ¥å›ç­”åŸå› ã€‚</p><h2 id="ä¸ºä»€ä¹ˆæ•°ç»„æœ‰-lengthå±æ€§ï¼Ÿ"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆæ•°ç»„æœ‰-lengthå±æ€§ï¼Ÿ">ğŸŒŠ</a>ä¸ºä»€ä¹ˆæ•°ç»„æœ‰<code>.length</code>å±æ€§ï¼Ÿ</h2><p>åœ¨Javaä¸­ï¼Œæ•°ç»„æ˜¯å®¹å™¨å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«äº†å›ºå®šæ•°é‡çš„åŒä¸€ç±»å‹çš„å€¼ï¼Œä¸€æ—¦æ•°ç»„åˆ›å»ºï¼Œå…¶é•¿åº¦å°±æ˜¯å›ºå®šçš„äº†ï¼Œäºæ˜¯ï¼Œå…¶é•¿åº¦å¯ä»¥ä½œä¸ºä¸€ä¸ªå±æ€§ã€‚</p><h2 id="ä¸ºä»€ä¹ˆå­—ç¬¦ä¸²éœ€è¦length-æ–¹æ³•ï¼Ÿ"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆå­—ç¬¦ä¸²éœ€è¦length-æ–¹æ³•ï¼Ÿ">ğŸŒŠ</a>ä¸ºä»€ä¹ˆå­—ç¬¦ä¸²éœ€è¦<code>length()</code>æ–¹æ³•ï¼Ÿ</h2><p>Javaä¸­çš„Stringï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªcharç±»å‹æ•°ç»„ï¼Œè€Œchar[]å·²ç»æœ‰äº†<code>.length</code>å±æ€§ï¼Œæ‰€ä»¥åœ¨å®ç°Stringæ—¶å°±æ²¡å¿…è¦å†å®šä¹‰é‡å¤çš„å±æ€§äº†ï¼Œäºæ˜¯éœ€è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥è¿”å›å…¶é•¿åº¦ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²é•¿åº¦æ—¶ï¼Œä¹ æƒ¯äº†ä½¿ç”¨IDEè‡ªåŠ¨è¡¥å…¨çš„æˆ‘ä»¬æ˜¯å¦çŸ¥é“&lt;code&gt;.length&lt;/code&gt;ä¸&lt;code&gt;length()&lt;/code&gt;çš„åŒºåˆ«å–»åŸå› å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¸Šé¢é—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼š&lt;/p&gt;
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
      <category term="String" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/String/"/>
    
      <category term="Object" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/String/Object/"/>
    
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Javaå¼‚å¸¸ç»“æ„å±‚æ¬¡å›¾</title>
    <link href="http://meng.uno/posts/1164dab2/"/>
    <id>http://meng.uno/posts/1164dab2/</id>
    <published>2018-02-09T14:11:15.000Z</published>
    <updated>2018-02-10T14:51:35.021Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Javaä¸­ï¼Œå¼‚å¸¸åˆ†ä¸º<code>checked</code>ä¸<code>unchecked</code>ï¼Œä»–ä»¬éƒ½åœ¨ä¸€ä¸ªåˆ†ç±»å±‚æ¬¡ä¸­ï¼Œå¦‚ä¸‹å›¾ã€‚</p><p><img src="http://www.meng.uno/images/ehd.jpeg" alt="DEH"></p><p>å…¶ä¸­ï¼Œçº¢è‰²çš„å¼‚å¸¸æ˜¯<code>checked</code>å¼‚å¸¸ï¼Œæ„å‘³ç€åœ¨ä¸€ä¸ªæ–¹æ³•ä¸­ï¼Œä»–ä»¬<code>throw</code>åå¿…é¡»<code>catch</code>æˆ–è€…<code>declare</code>ã€‚</p><p>å¦ä¸€ç§é¢œè‰²çš„ä¸º<code>unchecked</code>å¼‚å¸¸ï¼Œä»–ä»¬çš„å¼‚å¸¸ä¸éœ€è¦è¢«<code>recover</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨Javaä¸­ï¼Œå¼‚å¸¸åˆ†ä¸º&lt;code&gt;checked&lt;/code&gt;ä¸&lt;code&gt;unchecked&lt;/code&gt;ï¼Œä»–ä»¬éƒ½åœ¨ä¸€ä¸ªåˆ†ç±»å±‚æ¬¡ä¸­ï¼Œå¦‚ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.meng.uno/images/ehd.jpeg&quot; alt=&quot;DEH&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
      <category term="Exception" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/Exception/"/>
    
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
      <category term="Exception" scheme="http://meng.uno/tags/Exception/"/>
    
  </entry>
  
  <entry>
    <title>äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡</title>
    <link href="http://meng.uno/posts/fff444e8/"/>
    <id>http://meng.uno/posts/fff444e8/</id>
    <published>2018-02-08T09:20:00.000Z</published>
    <updated>2018-02-10T13:05:27.172Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>æŸ¥æ‰¾æ˜¯æ¯”è¾ƒå¸¸è§çš„å·¥ä½œï¼Œä»Šå¤©æˆ‘é€šè¿‡å¯¹æ¯”å‡ ç§åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªç¡®å®šçš„å€¼çš„ä¾‹å­æ¥å‘å¤§å®¶å±•ç¤ºäºŒåˆ†æŸ¥æ‰¾çš„é­…åŠ›ã€‚</p></blockquote><h2 id="æ•°ç»„æŸ¥æ‰¾å…ƒç´ çš„å‡ ç§æ–¹æ³•"><a class="header-anchor" href="#æ•°ç»„æŸ¥æ‰¾å…ƒç´ çš„å‡ ç§æ–¹æ³•">ğŸŒŠ</a>æ•°ç»„æŸ¥æ‰¾å…ƒç´ çš„å‡ ç§æ–¹æ³•</h2><h3 id="ä½¿ç”¨list"><a class="header-anchor" href="#ä½¿ç”¨list">ğŸŒŠ</a>ä½¿ç”¨List</h3><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">useList</span><span class="params">(String[] arr, String targetValue)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Arrays.asList(arr).contains(targetValue);</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h3 id="ä½¿ç”¨set"><a class="header-anchor" href="#ä½¿ç”¨set">ğŸŒŠ</a>ä½¿ç”¨Set</h3><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">useSet</span><span class="params">(String[] arr, String targetValue)</span> </span>&#123;</span><br><span class="line">Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;String&gt;(Arrays.asList(arr));</span><br><span class="line"><span class="keyword">return</span> set.contains(targetValue);</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h3 id="ä½¿ç”¨for-loop"><a class="header-anchor" href="#ä½¿ç”¨for-loop">ğŸŒŠ</a>ä½¿ç”¨for-loop</h3><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">useLoop</span><span class="params">(String[] arr, String targetValue)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span>(String s: arr)&#123;</span><br><span class="line"><span class="keyword">if</span>(s.equals(targetValue))</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h3 id="ä½¿ç”¨äºŒåˆ†"><a class="header-anchor" href="#ä½¿ç”¨äºŒåˆ†">ğŸŒŠ</a>ä½¿ç”¨äºŒåˆ†</h3><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">useArraysBinarySearch</span><span class="params">(String[] arr, String targetValue)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> a =  Arrays.binarySearch(arr, targetValue);</span><br><span class="line"><span class="keyword">if</span>(a &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="æ—¶é—´å¤æ‚æ€§"><a class="header-anchor" href="#æ—¶é—´å¤æ‚æ€§">ğŸŒŠ</a>æ—¶é—´å¤æ‚æ€§</h2><h3 id="ä»£ç "><a class="header-anchor" href="#ä»£ç ">ğŸŒŠ</a>ä»£ç </h3><blockquote>  <p>ä½¿ç”¨å¦‚ä¸‹ä»£ç æ¥éªŒè¯ä¸åŒæ•°æ®è§„æ¨¡ï¼ˆ5ï¼Œ1kï¼Œ10kï¼‰çš„æŸ¥æ‰¾ä»»åŠ¡ä¸‹å››ç§æ–¹æ³•çš„æ—¶é—´å¤æ‚æ€§ã€‚ï¼ˆäºŒåˆ†æŸ¥æ‰¾éœ€è¦å¯¹æ•°æ®æ’åºï¼Œæ’åºæ—¶é—´æœªè®¡ç®—åœ¨å†…ã€‚ï¼‰</p></blockquote><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">String[] arr = <span class="keyword">new</span> String[] &#123;  <span class="string">"CD"</span>,  <span class="string">"BC"</span>, <span class="string">"EF"</span>, <span class="string">"DE"</span>, <span class="string">"AB"</span>&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//use list</span></span><br><span class="line"><span class="keyword">long</span> startTime = System.nanoTime();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">useList(arr, <span class="string">"A"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">long</span> endTime = System.nanoTime();</span><br><span class="line"><span class="keyword">long</span> duration = endTime - startTime;</span><br><span class="line">System.out.println(<span class="string">"useList:  "</span> + duration / <span class="number">1000000</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//use set</span></span><br><span class="line">startTime = System.nanoTime();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">useSet(arr, <span class="string">"A"</span>);</span><br><span class="line">&#125;</span><br><span class="line">endTime = System.nanoTime();</span><br><span class="line">duration = endTime - startTime;</span><br><span class="line">System.out.println(<span class="string">"useSet:  "</span> + duration / <span class="number">1000000</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">//use loop</span></span><br><span class="line">startTime = System.nanoTime();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">useLoop(arr, <span class="string">"A"</span>);</span><br><span class="line">&#125;</span><br><span class="line">endTime = System.nanoTime();</span><br><span class="line">duration = endTime - startTime;</span><br><span class="line">System.out.println(<span class="string">"useLoop:  "</span> + duration / <span class="number">1000000</span>);</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h3 id="5-ç»“æœ"><a class="header-anchor" href="#5-ç»“æœ">ğŸŒŠ</a>&quot;5&quot;ç»“æœ</h3><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>      </td>      <td class="code">        <pre><span class="line">useList:  <span class="number">13</span></span><br><span class="line">useSet:  <span class="number">72</span></span><br><span class="line">useLoop:  <span class="number">5</span></span><br></pre>      </td>    </tr>  </table></figure><h3 id="1k-ç»“æœ"><a class="header-anchor" href="#1k-ç»“æœ">ğŸŒŠ</a>&quot;1k&quot;ç»“æœ</h3><h4 id="éšæœºç”Ÿæˆæ•°æ®"><a class="header-anchor" href="#éšæœºç”Ÿæˆæ•°æ®">ğŸŒŠ</a>éšæœºç”Ÿæˆæ•°æ®</h4><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre>      </td>      <td class="code">        <pre><span class="line">String[] arr = <span class="keyword">new</span> String[<span class="number">1000</span>];</span><br><span class="line"> </span><br><span class="line">Random s = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt; <span class="number">1000</span>; i++)&#123;</span><br><span class="line">arr[i] = String.valueOf(s.nextInt());</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h4 id="ç»“æœ"><a class="header-anchor" href="#ç»“æœ">ğŸŒŠ</a>ç»“æœ</h4><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>      </td>      <td class="code">        <pre><span class="line">useList:  <span class="number">112</span></span><br><span class="line">useSet:  <span class="number">2055</span></span><br><span class="line">useLoop:  <span class="number">99</span></span><br><span class="line">useArrayBinary:  <span class="number">12</span></span><br></pre>      </td>    </tr>  </table></figure><h3 id="10k-ç»“æœ"><a class="header-anchor" href="#10k-ç»“æœ">ğŸŒŠ</a>&quot;10k&quot;ç»“æœ</h3><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre>      </td>      <td class="code">        <pre><span class="line">useList:  <span class="number">1590</span></span><br><span class="line">useSet:  <span class="number">23819</span></span><br><span class="line">useLoop:  <span class="number">1526</span></span><br><span class="line">useArrayBinary:  <span class="number">12</span></span><br></pre>      </td>    </tr>  </table></figure><h2 id="ç»“è®º"><a class="header-anchor" href="#ç»“è®º">ğŸŒŠ</a>ç»“è®º</h2><p>é€šè¿‡ä»¥ä¸Šç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°äºŒåˆ†æœç´¢ç¡®å®å¾ˆé«˜æ•ˆï¼Œè€Œä¸”å½“æ•°æ®é‡å˜å¤§æ—¶ï¼Œå…¶æ—¶é—´å¢é•¿å¹…åº¦è¿˜æ¯”è¾ƒå°ã€‚</p><p>ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<code>Arrays.binarySearch()</code>æ¥é«˜æ•ˆæŸ¥æ‰¾æŸå…ƒç´ äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;æŸ¥æ‰¾æ˜¯æ¯”è¾ƒå¸¸è§çš„å·¥ä½œï¼Œä»Šå¤©æˆ‘é€šè¿‡å¯¹æ¯”å‡ ç§åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªç¡®å®šçš„å€¼çš„ä¾‹å­æ¥å‘å¤§å®¶å±•ç¤ºäºŒåˆ†æŸ¥æ‰¾çš„é­…åŠ›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ•°ç»„æŸ¥æ‰¾å…ƒç´ çš„å‡ ç§æ–¹æ³•&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#æ•°
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
      <category term="Search" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/Search/"/>
    
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
      <category term="ç®—æ³•å¤æ‚æ€§" scheme="http://meng.uno/tags/%E7%AE%97%E6%B3%95%E5%A4%8D%E6%9D%82%E6%80%A7/"/>
    
      <category term="äºŒåˆ†æŸ¥æ‰¾" scheme="http://meng.uno/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"/>
    
  </entry>
  
  <entry>
    <title>Java Substring() çš„å®ç°</title>
    <link href="http://meng.uno/posts/f3057e6c/"/>
    <id>http://meng.uno/posts/f3057e6c/</id>
    <published>2018-02-08T07:43:08.000Z</published>
    <updated>2018-02-09T10:46:20.937Z</updated>
    
    <content type="html"><![CDATA[<p>å†™è¿‡Javaçš„äººåº”è¯¥éƒ½ç”¨è¿‡<code>substring(int bedinIndex, int endIndex)</code>æ–¹æ³•ã€‚æˆ‘å‘ç°è¿™ä¸ªç®€å•çš„æ–¹æ³•åœ¨å®ç°ä¸Šå±…ç„¶ç»è¿‡äº†ä¸€æ¬¡å¤§çš„å˜é©ã€‚</p><h2 id="substring-çš„ç”¨é€”"><a class="header-anchor" href="#substring-çš„ç”¨é€”">ğŸŒŠ</a>substring()çš„ç”¨é€”</h2><p>ä»£ç :</p><figure class="highlight">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre>      </td>      <td class="code">        <pre><span class="line">String origin = "asdfg"; </span><br><span class="line">origin = origin.substring(1,3);</span><br><span class="line">System.out.println(origin);</span><br></pre>      </td>    </tr>  </table></figure><p>è¾“å‡º:</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br></pre>      </td>      <td class="code">        <pre><span class="line">sd</span><br></pre>      </td>    </tr>  </table></figure><p>æˆ‘ä»¬å‘ç°å®ƒèƒ½å°†åŸå§‹å­—ç¬¦ä¸²ä¸­ä»ä¸‹æ ‡ä¸ºbeginIndexåˆ°endIndex-1ä¹‹é—´çš„å­ä¸²å–å‡ºã€‚é‚£å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</p><h2 id="substring-çš„å®ç°"><a class="header-anchor" href="#substring-çš„å®ç°">ğŸŒŠ</a>substring()çš„å®ç°</h2><blockquote>  <p>Javaä¸­çš„å­—ç¬¦ä¸²æœ‰ä¸‰ä¸ªåŸŸï¼šchar value[], int offsetä»¥åŠint countï¼Œå®ƒä»¬åˆ†åˆ«å­˜å‚¨å­—ç¬¦ä¸²çš„å€¼ï¼Œèµ·å§‹ä¸‹æ ‡ä¸é•¿åº¦ã€‚</p></blockquote><h3 id="jdk6ç‰ˆæœ¬"><a class="header-anchor" href="#jdk6ç‰ˆæœ¬">ğŸŒŠ</a>JDK6ç‰ˆæœ¬</h3><p>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ¯æ¬¡æ‰§è¡Œsubstring()æ–¹æ³•æ—¶å¹¶ä¸ä¼šæ–°å»ºæ–°çš„stringï¼Œä»…ä»…åªæ˜¯å°†ä¸Šè¿°ä¸‰ä¸ªåŸŸä¸­çš„offsetï¼Œcountåšå¿…è¦çš„ä¿®æ”¹ã€‚è¿”å›å¯¹è±¡ä»æŒ‡å‘åŸæ¥çš„æ•°æ®ã€‚</p><p><img src="http://www.meng.uno/images/substring_jdk.png" alt="Substring()å®ç°ç‰ˆæœ¬ä¸€"></p><p>è¿™æ ·ä¸€æ¥ï¼Œ<strong><em>ç¼ºç‚¹</em></strong>å°±æ¯”è¾ƒæ˜æ˜¾ï¼šå½“åŸå§‹å­—ç¬¦ä¸²æ¯”è¾ƒé•¿ï¼Œè€Œæˆªå–çš„å­ä¸²æ¯”è¾ƒçŸ­æ—¶ï¼Œåœ¨åç»­çš„ä½¿ç”¨ä¸­å°±ä¼šæµªè´¹å¤§é‡çš„ç©ºé—´ã€‚</p><h3 id="jdk7-ç‰ˆæœ¬"><a class="header-anchor" href="#jdk7-ç‰ˆæœ¬">ğŸŒŠ</a>JDK7+ç‰ˆæœ¬</h3><p>åœ¨ä¸Šä¸€ä¸ªç‰ˆæœ¬åŸºç¡€ä¸Šï¼Œè¿™ä¸ªæ–¹æ³•è¿›è¡Œäº†æ”¹è¿›ï¼Œæ¯æ¬¡ä½¿ç”¨è¿™ä¸ªæ–¹æ³•éƒ½ä¼šæ–°å»ºä¸€ä¸ªstringå¯¹è±¡ï¼Œå¹¶å°†å…¶è¿”å›ã€‚</p><p><img src="http://www.meng.uno/images/substring_jdk7.png" alt="Substring()å®ç°ç‰ˆæœ¬äºŒ"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å†™è¿‡Javaçš„äººåº”è¯¥éƒ½ç”¨è¿‡&lt;code&gt;substring(int bedinIndex, int endIndex)&lt;/code&gt;æ–¹æ³•ã€‚æˆ‘å‘ç°è¿™ä¸ªç®€å•çš„æ–¹æ³•åœ¨å®ç°ä¸Šå±…ç„¶ç»è¿‡äº†ä¸€æ¬¡å¤§çš„å˜é©ã€‚&lt;/p&gt;
&lt;h2 id=&quot;substring-çš„ç”¨é€”&quot;&gt;&lt;a class=&quot;heade
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Javaå¼‚å¸¸å¤„ç†</title>
    <link href="http://meng.uno/posts/7526d370/"/>
    <id>http://meng.uno/posts/7526d370/</id>
    <published>2018-02-01T14:21:52.000Z</published>
    <updated>2018-02-10T14:51:35.019Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨Javaä¸­ï¼Œè°ƒç”¨æŸæ–¹æ³•ï¼Œå°±å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ï¼ŒåŒæ—¶è¶…ç±»ä¹Ÿå¯ä»¥ç”¨æ¥æ•è·æˆ–è€…å¤„ç†å­ç±»å¼‚å¸¸ã€‚</p><h2 id="è°ƒç”¨æ–¹æ³•å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸"><a class="header-anchor" href="#è°ƒç”¨æ–¹æ³•å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸">ğŸŒŠ</a>è°ƒç”¨æ–¹æ³•å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¤„ç†å¼‚å¸¸çš„ç¨‹åºã€‚æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœåœ¨ä¸€ä¸ªæ–¹æ³•ä¸­æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œä¸ä»…æ˜¯è¯¥æ–¹æ³•ï¼Œè€Œä¸”æ‰€æœ‰è°ƒç”¨è¯¥æ–¹æ³•çš„æ–¹æ³•éƒ½å¿…é¡»å£°æ˜æˆ–æŠ›å‡ºå¼‚å¸¸ã€‚</p><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">exceptionTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Exception exception;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">            callDoOne(); </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doOne</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> exception;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">callDoOne</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        doOne();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><h2 id="è¶…ç±»å¯ä»¥ç”¨æ¥æ•è·æˆ–å¤„ç†å­ç±»å¼‚å¸¸"><a class="header-anchor" href="#è¶…ç±»å¯ä»¥ç”¨æ¥æ•è·æˆ–å¤„ç†å­ç±»å¼‚å¸¸">ğŸŒŠ</a>è¶…ç±»å¯ä»¥ç”¨æ¥æ•è·æˆ–å¤„ç†å­ç±»å¼‚å¸¸</h2><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç éªŒè¯ã€‚</p><figure class="highlight java">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre>      </td>      <td class="code">        <pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">exceptionTest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Exception exception;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> myException myexception;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">            callDoOne(); </span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doOne</span><span class="params">()</span> <span class="keyword">throws</span> myException </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> myexception;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">callDoOne</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        doOne();</span><br><span class="line">        <span class="keyword">throw</span> exception;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre>      </td>    </tr>  </table></figure><p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆcatchå­å¥åªæœ‰ä¸€ä¸ªçˆ¶ç±»åœ¨è¯­æ³•ä¸Šå®‰å…¨çš„åŸå› ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨Javaä¸­ï¼Œè°ƒç”¨æŸæ–¹æ³•ï¼Œå°±å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ï¼ŒåŒæ—¶è¶…ç±»ä¹Ÿå¯ä»¥ç”¨æ¥æ•è·æˆ–è€…å¤„ç†å­ç±»å¼‚å¸¸ã€‚&lt;/p&gt;
&lt;h2 id=&quot;è°ƒç”¨æ–¹æ³•å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#è°ƒç”¨æ–¹æ³•å¿…é¡»å¤„ç†è¢«è°ƒç”¨æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸&quot;&gt;ğŸŒŠ&lt;
      
    
    </summary>
    
      <category term="Javaå¼€å‘Tips" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/"/>
    
      <category term="Exception" scheme="http://meng.uno/categories/Java%E5%BC%80%E5%8F%91Tips/Exception/"/>
    
    
      <category term="Java" scheme="http://meng.uno/tags/Java/"/>
    
      <category term="Exception" scheme="http://meng.uno/tags/Exception/"/>
    
  </entry>
  
  <entry>
    <title>Analysis For Hyperkernel</title>
    <link href="http://meng.uno/posts/55c9299d/"/>
    <id>http://meng.uno/posts/55c9299d/</id>
    <published>2018-01-29T13:43:03.000Z</published>
    <updated>2018-02-10T14:56:55.140Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>Homepage: <a href="https://locore.cs.washington.edu/hyperkernel/" target="_blank" rel="noopener">https://locore.cs.washington.edu/hyperkernel/</a><br> Code: <a href="https://github.com/locore/hv6" target="_blank" rel="noopener">https://github.com/locore/hv6</a></p></blockquote><h2 id="state-machine-specification"><a class="header-anchor" href="#state-machine-specification">ğŸŒŠ</a>State-machine Specification</h2><p>State-machine specification means the system function will first verify the old procedure until the procedure is runnable and then return a new procedure and write to the system image. All of these must run in the user level. This specification consists  of two parts: a definition of abstract kernel state, and a definition of trap handlers (e.g., system calls) in terms of abstract state transitions. They use fully automated technique to find bugs and this method is full functional verification if program  is free of loops and state is finite.</p><p>The â€œhv6/hv6/spec/kernel/spec/specs.pyâ€ file contains the system calls which use this kind of specification. From the picture, we can see that they use Z3 to prove the correction of the â€œoldâ€ procedure and if it can transfer to a new state or it is runnable,  it will return the new procedure so that it can be proved true.</p><h2 id="declarative-specification"><a class="header-anchor" href="#declarative-specification">ğŸŒŠ</a>Declarative Specification</h2><p>The authors also provide a declarative specification of the high level properties that the state-machine specification should satisfy. The verifier will check that these high level properties are indeed satisfied, helping increase the programmerâ€™s confidence  in the correctness of the state-machine specification. To improve confidence in its correctness, there is a higher-level declarative specification to better capture programmer intuition about kernel behavior, in the form of a conjunction of crosscutting  properties that hold across all trap handlers.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;Homepage: &lt;a href=&quot;https://locore.cs.washington.edu/hyperkernel/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://locore.cs.washing
      
    
    </summary>
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="http://meng.uno/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="ç³»ç»ŸéªŒè¯" scheme="http://meng.uno/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E7%B3%BB%E7%BB%9F%E9%AA%8C%E8%AF%81/"/>
    
    
      <category term="System" scheme="http://meng.uno/tags/System/"/>
    
      <category term="Verification" scheme="http://meng.uno/tags/Verification/"/>
    
  </entry>
  
  <entry>
    <title>æ€ä¹ˆå¤„ç†å™ªå£°</title>
    <link href="http://meng.uno/posts/a12d1477/"/>
    <id>http://meng.uno/posts/a12d1477/</id>
    <published>2018-01-27T14:35:33.000Z</published>
    <updated>2018-02-10T14:51:35.018Z</updated>
    
    <content type="html"><![CDATA[<p>å¤„ç†å™ªå£°æ˜¯ä¸€ä¸ªåœ¨æœºå™¨å­¦ä¹ å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæ€»ä¼šè¢«é—®åˆ°çš„é—®é¢˜ã€‚å™ªå£°å¯ä»¥å‡ºç°åœ¨è¾“å…¥<code>X</code>ï¼Œäº¦å¯ä»¥å‡ºç°åœ¨è¾“å‡º<code>Y</code>ä¸­ã€‚</p><h2 id="xä¸­ç¼ºå¤±å€¼"><a class="header-anchor" href="#xä¸­ç¼ºå¤±å€¼">ğŸŒŠ</a><code>X</code>ä¸­ç¼ºå¤±å€¼</h2><ol>  <li>ä½¿ç”¨æ¥è‡ªæ‰€æœ‰å¯ç”¨æ•°æ®çš„ç‰¹å¾çš„å¹³å‡å€¼</li>  <li>å¿½ç•¥å®ä¾‹</li>  <li>ä½¿ç”¨æ¥è‡ªç±»ä¼¼é¡¹ç›®çš„å¹³å‡å€¼</li>  <li>ä½¿ç”¨å¦ä¸€ä¸ªæœºå™¨å­¦ä¹ ç®—æ³•æ¥é¢„æµ‹å€¼</li></ol><ul>  <li>Bagging æˆ–è€… Boosting</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¤„ç†å™ªå£°æ˜¯ä¸€ä¸ªåœ¨æœºå™¨å­¦ä¹ å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œæ€»ä¼šè¢«é—®åˆ°çš„é—®é¢˜ã€‚å™ªå£°å¯ä»¥å‡ºç°åœ¨è¾“å…¥&lt;code&gt;X&lt;/code&gt;ï¼Œäº¦å¯ä»¥å‡ºç°åœ¨è¾“å‡º&lt;code&gt;Y&lt;/code&gt;ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&quot;xä¸­ç¼ºå¤±å€¼&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#xä¸­ç¼ºå¤±å€¼&quot;&gt;ğŸŒŠ&lt;
      
    
    </summary>
    
      <category term="AIï¼ˆäººå·¥æ™ºèƒ½ï¼‰" scheme="http://meng.uno/categories/AI%EF%BC%88%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%EF%BC%89/"/>
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/categories/AI%EF%BC%88%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%EF%BC%89/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="æœºå™¨å­¦ä¹ " scheme="http://meng.uno/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"/>
    
      <category term="å™ªå£°" scheme="http://meng.uno/tags/%E5%99%AA%E5%A3%B0/"/>
    
  </entry>
  
  <entry>
    <title>Analysis for Yggdrasil</title>
    <link href="http://meng.uno/posts/5ed9f695/"/>
    <id>http://meng.uno/posts/5ed9f695/</id>
    <published>2018-01-16T14:31:00.000Z</published>
    <updated>2018-02-11T14:48:52.840Z</updated>
    
    <content type="html"><![CDATA[<p>Yggdrasil is a toolkit for verifying file system with push-button verification via crash refinement. As for push-button verification, it means that Yggdrasil needs no manual annotations or proofs. As for crash refinement, it is amenable to fully automated  SMT reasoning. The whole verification is something like the State-Machine Specification in the project â€œHyperkernelâ€.</p><p>The whole system architecture is shown as follows.</p><p><img src="http://www.meng.uno/images/yggdrasil/1.png" alt="Yggdrasil"></p><p>From this picture, we know that Yggdrasil needs three inputs: a specification of the expected behavior, an implementation and consistency invariants which indicate whether a file system image is in a consistent state or not. For better run-time performance,  Yggdrasil optionally performs optimizations. If there is a bug, Yggdrasil produces a counterexample to help identify and fix the cause. It requires no manual annotations or proofs about the implementation code. Once the verification passes, Yggdrasil  emits C code, which is then compiled and linked using a C compiler to produce an executable file system, as well as a â€œfsckâ€ checker.</p><p>The above is the entire overall content of this project. The authors also introduced every part of this project. I will analyze it by following the paper.</p><h2 id="single-level-file-system-yminlfs"><a class="header-anchor" href="#single-level-file-system-yminlfs">ğŸŒŠ</a>Single-level File System (YminLFS)</h2><p>In this project, every file system must contain three parts: an abstract data structure, a set of operations and a state equivalence predicate which defines whether a given implementation satisfies the specification. So the authors first defines a file  system which contains these features.</p><p><img src="http://www.meng.uno/images/yggdrasil/2.png" alt="Yggdrasil"></p><p><img src="http://www.meng.uno/images/yggdrasil/3.png" alt="Yggdrasil"></p><p><img src="http://www.meng.uno/images/yggdrasil/4.png" alt="Yggdrasil"></p><p><img src="http://www.meng.uno/images/yggdrasil/5.png" alt="Yggdrasil"></p><p>Then it runs the verification. Yggdrasil uses the Z3 solver to prove a two-part crash refinement.</p><p>The first part deals with crash-free executions which requires the implementation and specification are similar in the absence of crashes, which means if both YminLFS and FSSpec start in equivalent and consistent states, they end up in equivalent and  consistent states (just like state-machine). This project defines equivalence using the equivalent predicate and defines consistency using the consistency invariants as the above pictures show.</p><p>The second part deals with crash executions which requires the implementation to exist no more crash states than the specification, which means each possible state of the YminLFS implementation must be equivalent to some crash state of FSSpec. Whatâ€™s  more, Yggdrasil provides a greedy optimizer that tries to remove every disk flush and re-verify the code.</p><h2 id="multi-level-file-system-yxv6"><a class="header-anchor" href="#multi-level-file-system-yxv6">ğŸŒŠ</a>Multi-level File System (Yxv6)</h2><p>We could directly prove crash refinement between the entire file system specification and implementation in a single-level file system, however, we couldnâ€™t use the same method in a complex multi-level file system. First, letâ€™s look at the structure of  Yxv6 journaling file system.</p><p><img src="http://www.meng.uno/images/yggdrasil/6.png" alt="Yggdrasil"></p><p>This is the 5 layers of abstraction and every layer contains a specification and a implementation. The authors use this project to prove crash refinement for each layer and upper layers then use the specifications of lower layers. The lowest layer of  the stack is a specification of an asynchronous disk. This specification comprises the asynchronous disk model which is to implement YminLFS.</p><h2 id="application-level-ycp"><a class="header-anchor" href="#application-level-ycp">ğŸŒŠ</a>Application-level (â€œYcpâ€)</h2><p>Ycp has a formal specification which means if the copy operation succeeds, the result is the same as â€œcpâ€, however, if it fails, the file system is unchanged. To achieve this propose, the implementation of Ycp is something similar to Yxv6 file system  specification. There are 3 atomicity patterns which are â€œcreate a temporary fileâ€, â€œwrite the source data to itâ€ and â€œrename it to atomically create the target fileâ€. After doing such an analogy, verifying this operation is similar to verify the single-level  file system.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Yggdrasil is a toolkit for verifying file system with push-button verification via crash refinement. As for push-button verification, it 
      
    
    </summary>
    
      <category term="System Verification" scheme="http://meng.uno/categories/System-Verification/"/>
    
      <category term="Yggdrasil" scheme="http://meng.uno/categories/System-Verification/Yggdrasil/"/>
    
    
      <category term="Yggdrasil" scheme="http://meng.uno/tags/Yggdrasil/"/>
    
      <category term="System Verification" scheme="http://meng.uno/tags/System-Verification/"/>
    
  </entry>
  
  <entry>
    <title>KVM Unit Tests</title>
    <link href="http://meng.uno/posts/50351d5d/"/>
    <id>http://meng.uno/posts/50351d5d/</id>
    <published>2018-01-15T14:19:40.000Z</published>
    <updated>2018-02-11T14:48:52.840Z</updated>
    
    <content type="html"><![CDATA[<p>Kernel-based Virtual MachineÂ (KVM) is aÂ virtualizationÂ infrastructure for theÂ Linux kernelÂ that turns it into aÂ hypervisor. KVM requires a processor withÂ hardware virtualization extensions.</p><p>This project, as its name suggests, is to provideÂ unit testsÂ for KVM. The unit tests are tiny guest operating systems that generally execute only tens of lines of C and assembler test code in order to obtain its PASS/FAIL/SKIP result. Unit tests provide  KVM and virtual hardware functional testing by targeting the features through minimal implementations of their use per the hardware specification. The simplicity of unit tests make them easy to verify they are correct, easy to maintain, and easy to  use in timing measurements. Unit tests are also often used for quick and dirty bug reproducers.</p><h2 id="build-and-run"><a class="header-anchor" href="#build-and-run">ğŸŒŠ</a>Build and Run</h2><p>Building this project is very easy, we just need to enter the directory and run â€œ./configure; makeâ€. If there isnâ€™t any mistake, it means this project is successfully built. As can be seen from its name, it is a testing program so running it means running  some tests on KVM. In addition, as other verification systems, it also has some single test cases and a whole test suite. What has to be aware is we need to install â€œkvmâ€ or â€œqemu-kvmâ€ before testing, otherwise, the tests will just â€œSKIPâ€ because it  is just for testing KVM.</p><p>First, I will run a single test case which is in the â€œx86/â€ directory named â€œsyscall.flatâ€. The result is as follows.</p><p><img src="http://www.meng.uno/images/kvm/1.png" alt="KVM"></p><p>Then, I will run a test suite. The following picture is part of the result. I found that there are 3 status of the test results which are PASS, FAIL and SKIP.</p><p><img src="http://www.meng.uno/images/kvm/2.png" alt="KVM"></p><p>From the picture, we can see that not all tests are PASS, which means this version of KVM may have many points to be improved.</p><h2 id="analyze-the-test"><a class="header-anchor" href="#analyze-the-test">ğŸŒŠ</a>Analyze the Test</h2><p>To write a test case/suite, we first need to analyze an example. From the file â€œrun_tests.shâ€, we could find that it runs each test in â€œx86/unittests.cfgâ€. This is a section of this file. From it, we could know that when the test suite runs to here, it  will find test case â€œapic.flatâ€ and run it in the x86_64 architecture within 30 seconds.</p><p><img src="http://www.meng.uno/images/kvm/3.png" alt="KVM"></p><p>The result of every test case is printed to the screen by the â€œruntime.bashâ€ script.</p><p><img src="http://www.meng.uno/images/kvm/4.png" alt="KVM"></p><p>Whatâ€™s more, we could find the detailed information of every test case from â€œlogs/â€ directory.</p><p><img src="http://www.meng.uno/images/kvm/5.png" alt="KVM"></p><p>After analyzing a test suite, letâ€™s look at a single test case. I will choose the â€œsyscall.flatâ€ as an example. Letâ€™s see the main function. There are two subfunctions which is consistent with the first screenshot.</p><p><img src="http://www.meng.uno/images/kvm/6.png" alt="KVM"></p><p>Now I will focus on a single function as the following picture shows. It just tests some single function calls and report the results.</p><p><img src="http://www.meng.uno/images/kvm/7.png" alt="KVM"></p><h2 id="write-a-test"><a class="header-anchor" href="#write-a-test">ğŸŒŠ</a>Write A Test</h2><p>Because I canâ€™t know about KVM clearly for such a short period of time, here I just write a simple test, in order to experience how to write a test case.</p><p><img src="http://www.meng.uno/images/kvm/8.png" alt="KVM"></p><p>After compiling and running it, we could get this expected output.</p><p><img src="http://www.meng.uno/images/kvm/9.png" alt="KVM"></p><p>Now I could put my test case to the test suite, adding such code to the â€œunittests.cfgâ€ file.</p><p><img src="http://www.meng.uno/images/kvm/10.png" alt="KVM"></p><p>Also, it must be PASS as expected.</p><p><img src="http://www.meng.uno/images/kvm/11.png" alt="KVM"></p><h2 id="analyze-the-framework"><a class="header-anchor" href="#analyze-the-framework">ğŸŒŠ</a>Analyze the Framework</h2><p>In the beginning, letâ€™s analyze the directory structure.</p><p><img src="http://www.meng.uno/images/kvm/12.png" alt="KVM"></p><ul>  <li>./api/: there are three API categories 1) libc, 2) functions typical of kernel code, and 3) kvm-unit-tests specific.</li>  <li>./lib/: general architecture neutral services for the tests.</li>  <li>./x86/: the sources of the tests and the created images of X86 architecture.</li>  <li>./logs/: the output information.</li>  <li>./scripts/: helper scripts for building and running tests.</li>  <li>others: configure script, top-level Makefile, and run_tests.sh.</li></ul><p>The framework has the following components:</p><ul>  <li>Test building support</li>  <li>Shared code for test setup and API</li>  <li>Test running support</li></ul><p>Test building is done through makefiles and some supporting bash scripts. Test setup code includes, for example, early system init, MMU enablement, and UART init. The API provides some common libc functions, as well as some low-level helper functions  commonly seen in kernel code and some kvm-unit-tests specific APIs. Test running is provided with a few bash scripts, using a unit tests configuration file as input. Generally tests are run from within the source root directory using the supporting  scripts, but tests may optionally be built as standalone tests as well.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Kernel-based Virtual MachineÂ (KVM) is aÂ virtualizationÂ infrastructure for theÂ Linux kernelÂ that turns it into aÂ hypervisor. KVM requires 
      
    
    </summary>
    
      <category term="KVM" scheme="http://meng.uno/categories/KVM/"/>
    
    
      <category term="KVM" scheme="http://meng.uno/tags/KVM/"/>
    
  </entry>
  
  <entry>
    <title>Analysis for DynamoRIO</title>
    <link href="http://meng.uno/posts/a331aaad/"/>
    <id>http://meng.uno/posts/a331aaad/</id>
    <published>2018-01-13T13:57:16.000Z</published>
    <updated>2018-02-11T14:04:49.152Z</updated>
    
    <content type="html"><![CDATA[<p>DynamoRIO is a dynamic binary piling/translation platform. Through it, you can manipulate the running code of a program, that is, it can simulate running a program and allow you to transform and control any place of the running code. It is used for dynamic  analysis, optimization and translation of programs.</p><p>DynamoRIO is a cooperation project between HP and MIT. Dynamo comes from HPâ€™s laboratory, RIO (Runtime Introspection and Optimization) comes from MITâ€™s computer science laboratory. The history is shown as follows.</p><p><img src="http://www.meng.uno/images/rio/1.png" alt="RIO"></p><h2 id="architecture"><a class="header-anchor" href="#architecture">ğŸŒŠ</a>Architecture</h2><p>DynamoRIOâ€™s architecture is like this. It is between the operating system and the application so that it can get the system calls and the applicationsâ€™ code easily.</p><p><img src="http://www.meng.uno/images/rio/2.png" alt="RIO"></p><p>This picture is the Toolchain Control Points.</p><p><img src="http://www.meng.uno/images/rio/3.png" alt="RIO"></p><p>The process flow is as follows. The original program goes through the â€œbasic block builderâ€, â€œtrace selectorâ€, â€œbasic block cacheâ€ and â€œtrace cacheâ€ to get the emulation propose.</p><p><img src="http://www.meng.uno/images/rio/4.png" alt="RIO"></p><h2 id="efficiency"><a class="header-anchor" href="#efficiency">ğŸŒŠ</a>Efficiency</h2><p>DynamoRIO is separated from the code of applications by the â€œcontext switchâ€ as shown in the picture above. The applicationsâ€™ code is copied to the instruction cache. The code in these caches will execute as native code. Until a jump instruction is encountered,  the applicationsâ€™ â€œmachine stateâ€ will be saved, and the control will turn back to DynamoRIO to find the basic block where the jump instruction is located. DynamoRIO is much faster than pure emulations by â€œcode cacheâ€.</p><p><img src="http://www.meng.uno/images/rio/5.png" alt="RIO"></p><p>There are several improvements in this project. The picture above is the first one â€” Basic Block Cache. If you copy each basic block into a code cache and run it natively, it greatly reduces the overhead of interpreting, however, we still need to explain  each jump instruction, and then return to DynamoRIO to find the target instruction. If a target instruction already exists in the code cache and is referred to by a direct jump instruction, DynamoRIO can directly jump to the target instruction in the  code cache to avoid the overhead of the context switch, which is called â€œLinking Direct Branchesâ€.</p><p><img src="http://www.meng.uno/images/rio/6.png" alt="RIO"></p><p>The next improvement is â€œLinking Indirect Branchesâ€ since a conditional branch instruction can not be linked like a direct jump instruction because it has more than one goal and needs to make decisions and find the listâ€™s jump target.</p><p><img src="http://www.meng.uno/images/rio/7.png" alt="RIO"></p><p>Some basic blocks, which are often executed sequentially, are combined into one execution stream to reduce the number of branches and increase the locality of the program. It reduces some overhead of indirect branch search, because it has put indirect  brach in this trace as well. This is also the last improvement â€” Trace Building.</p><p><img src="http://www.meng.uno/images/rio/8.png" alt="RIO"></p><h2 id="transparency"><a class="header-anchor" href="#transparency">ğŸŒŠ</a>Transparency</h2><p>It has three transparency principles which are â€œAs few changes as possibleâ€, â€œHide necessary changesâ€ and â€œSeparate resourcesâ€. Changes in these areas are few: application code, stored addresses, threads and application data. Changes in these fields are  hidden: application addresses, address space, error transparency and code cache consistency. This picture shows the principle 3 well. DynamoRIOâ€™s own code also uses share libraries when loading applications, which may cause some conflicts if the application  also uses the same library. The solution is that, DynamoRIO doesnâ€™t use the library directly, calling system call on Linux and calling system call via windows win32 API profile.</p><p><img src="http://www.meng.uno/images/rio/9.png" alt="RIO"></p><p>The heap memory allocated by DynamoRIO itself is distinguished from the heap memory requested by the application. In addition, DynamoRIO uses its own I/O routines for input and output to avoid conflicts with the applicationsâ€™ I/O buffers. Whatâ€™s more,  since the use of shared locks can also cause conflicts between DynamoRIO and applications, it also has synchronization transparency.</p><p>To avoid conflicts with applications, DynamoRIO doesnâ€™t create its own thread, instead spawns threads in the application process to distinguish between its own status and applicationsâ€™ status via a â€œContext Switchâ€ as the first picture shows. Further  more, it chooses to leave the stack of application processes intact, creating a private stack of each thread.</p><h2 id="comprehensive"><a class="header-anchor" href="#comprehensive">ğŸŒŠ</a>Comprehensive</h2><p>All data streams must go through handlers generated by the dispatcher. The data flow is like this.</p><p><img src="http://www.meng.uno/images/rio/10.png" alt="RIO"></p><h2 id="customization"><a class="header-anchor" href="#customization">ğŸŒŠ</a>Customization</h2><p>DynamoRIO has developed some event driven APIs that allow developers to customize instrument instructions. Using it, you can achieve some proposes such as: memory checking, performance testing, system call tracking, code coverage calculation.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;DynamoRIO is a dynamic binary piling/translation platform. Through it, you can manipulate the running code of a program, that is, it can 
      
    
    </summary>
    
      <category term="RIO" scheme="http://meng.uno/categories/RIO/"/>
    
      <category term="DynamoRIO" scheme="http://meng.uno/categories/RIO/DynamoRIO/"/>
    
    
      <category term="DynamoRIO" scheme="http://meng.uno/tags/DynamoRIO/"/>
    
      <category term="RIO" scheme="http://meng.uno/tags/RIO/"/>
    
  </entry>
  
  <entry>
    <title>Zsh</title>
    <link href="http://meng.uno/posts/d911b12b/"/>
    <id>http://meng.uno/posts/d911b12b/</id>
    <published>2018-01-11T02:22:44.000Z</published>
    <updated>2018-02-11T03:08:26.198Z</updated>
    
    <content type="html"><![CDATA[<blockquote>  <p>ä¸å°‘ç¨‹åºå‘˜éƒ½è§‰å¾—Macçš„ä¸€å¤§ä¼˜åŠ¿å°±æ˜¯å…¶Shellï¼Œä¹Ÿæœ‰å¾ˆå¤šäººè§‰å¾—Macä¸Linuxåœ¨Shellä¸Šå¾ˆç›¸ä¼¼ã€‚ä¸é”™ï¼Œä½†æ˜¯Macè¿˜æ˜¯ç•¥èƒœä¸€ç­¹æˆ–è€…è¯´é«˜ä¸€ä¸ªé‡çº§ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å‘å¤§å®¶ä»‹ç»ä¸€ä¸ªMacç‰¹æœ‰çš„Shellï¼ˆLinuxä¹Ÿå¯ä»¥å®‰è£…ï¼Œä½†æ˜¯ä¸æ˜¯ç³»ç»Ÿè‡ªå¸¦ã€‚ï¼‰â€”â€” Zshã€‚</p></blockquote><h2 id="åˆ‡æ¢åˆ°zsh"><a class="header-anchor" href="#åˆ‡æ¢åˆ°zsh">ğŸŒŠ</a>åˆ‡æ¢åˆ°Zsh</h2><p>ä½¿ç”¨<code>cat /etc/shells</code>æŒ‡ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹è‡ªå·±çš„ç³»ç»Ÿæœ‰å“ªäº›Shellsï¼Œä¸‹é¢æ˜¯æˆ‘çš„Macçš„ç»“æœï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre>      </td>      <td class="code">        <pre><span class="line">/bin/bash</span><br><span class="line">/bin/csh</span><br><span class="line">/bin/ksh</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/tcsh</span><br><span class="line">/bin/zsh</span><br><span class="line">/usr/local/bin/fish</span><br></pre>      </td>    </tr>  </table></figure><p>ä½¿ç”¨è¿™ä¸ªæŒ‡ä»¤åˆ‡æ¢åˆ°Zshï¼š<code>chsh -s /bin/zsh</code>ã€‚ï¼ˆæƒ³ä½¿ç”¨å…¶ä»–Shellä¹Ÿæ˜¯åŒæ ·çš„æŒ‡ä»¤å“¦ã€‚ï¼‰</p><p>è¿™æ˜¯ï¼Œæˆ‘ä»¬çš„Shellé…ç½®æ–‡ä»¶å°±ä¸º<code>.zshrc</code>äº†ã€‚</p><blockquote>  <p>æˆ‘è§‰å¾—ä»è¿™é‡Œæˆ‘ä»¬åº”è¯¥å¯ä»¥çŸ¥é“ï¼Œä¸ºä»€ä¹ˆä¹‹å‰çš„Shellé…ç½®æ–‡ä»¶è¦ä»¥<code>.bash_profile</code>å‘½åäº†å§ã€‚å› ä¸ºMacé»˜è®¤Shellæ˜¯Bashã€‚</p></blockquote><h2 id="è¿ç§»bashé…ç½®"><a class="header-anchor" href="#è¿ç§»bashé…ç½®">ğŸŒŠ</a>è¿ç§»Bashé…ç½®</h2><p>æˆ‘ä½¿ç”¨Bashæœ‰å¥½å‡ å¹´äº†ï¼Œé‚£äº›é…ç½®éƒ½æ˜¯ä¸€äº›ç¯å¢ƒå˜é‡å•Šä»€ä¹ˆçš„ï¼Œå¦‚æœåœ¨Zshçš„é…ç½®é‡Œå†å†™ä¸€éï¼Œæ— ç–‘æ˜¯ä¸€ä»¶å¾ˆè´¹æ—¶åˆä½æ•ˆçš„äº‹ã€‚é‚£æœ‰æ²¡æœ‰ä»€ä¹ˆå¿«æ·çš„æ–¹å¼å‘¢ï¼Ÿå½“ç„¶æœ‰ï¼</p><p>é€šè¿‡å¦‚ä¸‹æŒ‡ä»¤ï¼š<code>source ~/.bash_profile</code>å°±å¯ä»¥å°†<code>.bash_profile</code>é‡Œçš„é…ç½®å…¨éƒ¨å¼•å…¥åˆ°<code>.zshrc</code>ä¸­äº†ã€‚åŒç†ï¼Œå¦‚æœä½ æƒ³è‡ªå·±å†™é…ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å¼•å…¥ã€‚ï¼ˆåæ–‡ä½ å°†çœ‹åˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹å·¥å…·å°±æ˜¯è¿™ä¹ˆåšçš„ã€‚ï¼‰</p><h2 id="å®‰è£…oh-my-zsh"><a class="header-anchor" href="#å®‰è£…oh-my-zsh">ğŸŒŠ</a>å®‰è£…oh my zsh</h2><p>é€šè¿‡<code>wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh</code>æŒ‡ä»¤å®‰è£…ã€‚</p><p>è¿™æ—¶æˆ‘ä»¬å‘ç°åœ¨<code>.zshrc</code>æ–‡ä»¶ä¸­ï¼Œå¤šäº†ä¸¤è¡Œï¼š</p><figure class="highlight stylus">  <table>    <tr>      <td class="gutter">        <pre><span class="line">1</span><br><span class="line">2</span><br></pre>      </td>      <td class="code">        <pre><span class="line">export ZSH=/Users/NAME/.oh-my-zsh</span><br><span class="line">source <span class="variable">$ZSH</span>/oh-my-zsh.sh</span><br></pre>      </td>    </tr>  </table></figure><h2 id="è‡ªå®šä¹‰shellä¸»é¢˜"><a class="header-anchor" href="#è‡ªå®šä¹‰shellä¸»é¢˜">ğŸŒŠ</a>è‡ªå®šä¹‰Shellä¸»é¢˜</h2><p>ä½¿ç”¨oh my zshä¸»è¦çš„åŸå› æ˜¯ä½¿ç”¨å…¶æä¾›çš„æ¼‚äº®çš„ä¸»é¢˜ï¼Œä¸»é¢˜ç›®å½•åœ¨<code>.oh-my-zsh/themes/</code>ä¸‹ï¼Œé€‰æ‹©ä¸»é¢˜<code>ZSH_THEME=&quot;robbyrussell&quot;</code>ã€‚è¿™æ—¶æˆ‘çš„Shellä¸»é¢˜å°±æ˜¯robbyrusselläº†ã€‚</p><p>æ‰“å¼€robbyrussell.zsh-themeæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹è§å‡ æ¡é…ç½®ã€‚</p><p>æˆ‘å°†å…¶ä¸­çš„<code>PROMPT</code>ä¿®æ”¹ä¸ºï¼š</p><p><code>PROMPT='${ret_status} %{$fg[cyan]%}%d %{$reset_color%} $(git_prompt_info)%{$fg_bold[red]%}&gt;%{$fg_bold[yellow]%}&gt;%{$fg_bold[green]%}&gt; '</code></p><p>è¿™æ—¶æˆ‘çš„Shellå°±å˜æˆäº†è¿™æ ·ï¼š</p><p><img src="http://www.meng.uno/images/zsh.png" alt="Zsh"></p><p>å¯ä»¥å‘ç°æˆ‘çš„å®šåˆ¶æœ‰ï¼šæ˜¾ç¤ºç»å¯¹è·¯å¾„ï¼Œ<code>&gt;&gt;&gt;</code>ç­‰ã€‚</p><p>è¿˜æœ‰å¾ˆå¤šä¸»é¢˜ä¸é…ç½®ï¼Œå¤§å®¶å¯ä»¥è‡ªå·±å°è¯•ã€‚</p><h2 id="å®šåˆ¶shell"><a class="header-anchor" href="#å®šåˆ¶shell">ğŸŒŠ</a>å®šåˆ¶Shell</h2><p>Zshè¿˜æœ‰ä¸ªåŠŸèƒ½å°±æ˜¯â€œåˆ«åâ€ã€‚ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰è¿™æ ·çš„ç»å†ï¼Œéœ€è¦æ‰“å¼€<code>.plist</code>è¿™æ ·çš„æ–‡ä»¶ï¼Œå¦‚æœç”¨æ™®é€šç¼–è¾‘å™¨æ‰“å¼€ä¼šéå¸¸ç•Œé¢ä¸å‹å¥½ï¼Œè€Œç”¨Xcodeæ‰“å¼€åˆ™å®Œç¾å¯è§‚ã€‚é‚£æ€ä¹ˆåœ¨æ§åˆ¶å°ç›´æ¥ç”¨Xcodeæ‰“å¼€æ–‡ä»¶å‘¢ï¼Ÿï¼ˆå…¶ä»–è½¯ä»¶åŒç†ï¼‰</p><p>æˆ‘åœ¨<code>.zshrc</code>ä¸­æ·»åŠ ï¼š<code>alias xcode=&quot;/Applications/Xcode.app/Contents/MacOS/Xcode&quot;</code>ï¼Œä¹‹åæˆ‘å°±å¯ä»¥ä½¿ç”¨<code>xcode X</code>æ¥ç”¨Xcodeæ‰“å¼€Xæ–‡ä»¶äº†ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºæŸç§ç±»å‹æ–‡ä»¶è®¾ç½®é»˜è®¤æ‰“å¼€æ–¹å¼ï¼š<code>alias -s html=atom</code>ï¼ˆå½“æˆ‘ä»¬é”®å…¥<code>.html</code>æ–‡ä»¶æ—¶ï¼Œä¼šè‡ªåŠ¨ç”¨Atomæ‰“å¼€ï¼‰ã€‚</p><h2 id="å®‰è£…æ’ä»¶"><a class="header-anchor" href="#å®‰è£…æ’ä»¶">ğŸŒŠ</a>å®‰è£…æ’ä»¶</h2><p>oh my zshä¸ºZshæä¾›äº†100+æ’ä»¶ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å®‰è£…æŸæ’ä»¶ï¼Œåªéœ€è¦åœ¨<code>.zshrc</code>æ–‡ä»¶ä¸­çš„<code>plugins=()</code>ä¸­æ·»åŠ ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåªéœ€è¦å¡«æ’ä»¶åå­—ï¼Œé»˜è®¤æ·»åŠ äº†<code>git</code>ã€‚</p><p>åœ¨è¿™é‡Œæˆ‘å‘å¤§å®¶ä»‹ç»å‡ ç§ç½‘ä¸Šå¾ˆå¸¸è§çš„æ’ä»¶ï¼š</p><ol>  <li><code>git</code>å½“ä½ å¤„äºä¸€ä¸ª git å—æ§çš„ç›®å½•ä¸‹æ—¶ï¼ŒShell ä¼šæ˜ç¡®æ˜¾ç¤º ã€Œgitã€å’Œ branchï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¦å¤–å¯¹ git å¾ˆå¤šå‘½ä»¤è¿›è¡Œäº†ç®€åŒ–ï¼Œä¾‹å¦‚ gco=â€™git checkoutâ€™ã€gd=â€™git diffâ€™ã€gst=â€™git statusâ€™ã€g=â€™gitâ€™ç­‰ç­‰ï¼Œç†Ÿç»ƒä½¿ç”¨å¯ä»¥å¤§å¤§å‡å°‘ git çš„å‘½ä»¤é•¿åº¦ï¼Œå‘½ä»¤å†…å®¹å¯ä»¥å‚è€ƒ~/.oh-my-zsh/plugins/git/git.plugin.zshã€‚</li>  <li><code>osx</code>tab å¢å¼ºï¼Œquick-look filename å¯ä»¥ç›´æ¥é¢„è§ˆæ–‡ä»¶ï¼Œman-preview grep å¯ä»¥ç”Ÿæˆ grepæ‰‹å†Œ çš„pdf ç‰ˆæœ¬ç­‰ã€‚</li>  <li><code>autojump</code>åƒä»–çš„åå­—ä¸€æ ·ï¼Œæä¾›è‡ªåŠ¨è¡¥å…¨ç­‰å¾ˆå¤šåŠŸèƒ½ï¼Œå¤§å®¶è‡ªå·±å»å°è¯•å§ã€‚</li></ol><p><strong>æ³¨æ„ï¼šå®‰è£…autojumpå»ºè®®ä½¿ç”¨Homebrew</strong></p><p><code>brew install autojump</code></p><p>ç„¶åæŒ‰ç…§æç¤ºå°†ä¸€å¥ç±»ä¼¼è¿™ä¸ª</p><p><code>[ -f /usr/local/etc/profile.d/autojump.sh ] &amp;&amp; . /usr/local/etc/profile.d/autojump.sh</code></p><p>çš„å¥å­æ’å…¥åˆ°<code>.zshrc</code>æ–‡ä»¶ä¸­å³å¯ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
  &lt;p&gt;ä¸å°‘ç¨‹åºå‘˜éƒ½è§‰å¾—Macçš„ä¸€å¤§ä¼˜åŠ¿å°±æ˜¯å…¶Shellï¼Œä¹Ÿæœ‰å¾ˆå¤šäººè§‰å¾—Macä¸Linuxåœ¨Shellä¸Šå¾ˆç›¸ä¼¼ã€‚ä¸é”™ï¼Œä½†æ˜¯Macè¿˜æ˜¯ç•¥èƒœä¸€ç­¹æˆ–è€…è¯´é«˜ä¸€ä¸ªé‡çº§ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å‘å¤§å®¶ä»‹ç»ä¸€ä¸ªMacç‰¹æœ‰çš„Shellï¼ˆLinuxä¹Ÿå¯ä»¥å®‰è£…ï¼Œä½†æ˜¯ä¸æ˜¯ç³»ç»Ÿè‡ªå¸¦ã€‚ï¼‰â€”â€”
      
    
    </summary>
    
      <category term="Shells" scheme="http://meng.uno/categories/Shells/"/>
    
    
      <category term="Zsh" scheme="http://meng.uno/tags/Zsh/"/>
    
  </entry>
  
  <entry>
    <title>Deep Learningä¸Šæ‰‹å·¥å…·</title>
    <link href="http://meng.uno/posts/99be2c50/"/>
    <id>http://meng.uno/posts/99be2c50/</id>
    <published>2018-01-10T14:43:43.000Z</published>
    <updated>2018-02-10T14:51:35.020Z</updated>
    
    <content type="html"><![CDATA[<p>ç°åœ¨Deep Learningå¤ªç«äº†ï¼Œä»¥è‡³äºæ²¡æœ‰ä»»ä½•è®¡ç®—æœºåŸºç¡€çš„äººéƒ½æƒ³ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆå¯¹äºæ–°æ‰‹ï¼Œç”šè‡³è¿Pythonä»£ç éƒ½å†™ä¸å¥½çš„DLçˆ±å¥½è€…ï¼Œæœ‰ä»€ä¹ˆä¸Šæ‰‹å·¥å…·ä¹ˆï¼Ÿé€‰æ‹©åˆé€‚çš„å·¥å…·å¯ä»¥å¸®åŠ©å­¦ä¹ æ›´å¿«ï¼Œå¾ˆå·§çš„æ˜¯ï¼Œæœ‰å¾ˆå¤šä¸åŒçš„å·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä¸‹å›¾åˆ—å‡ºäº†å¸¸ç”¨çš„å·¥å…·ã€‚</p><p><img src="http://www.meng.uno/images/tools_dp.png" alt="DL"></p><p>è°·æ­Œå¼€å‘çš„<code>Tensorflow</code>ï¼Œå¾®è½¯çš„<code>CNTK</code>ä»¥åŠ<code>Theano</code>éƒ½æ˜¯ä¸ºæ·±åº¦å­¦ä¹ è€Œå¼€å‘çš„åº“ï¼Œå®ƒä»¬ä¿ƒè¿›äº†ä½¿ç”¨<code>GPU</code>è®¡ç®—ã€‚ä»–ä»¬å¹¶ä¸éš¾ï¼Œä½†ä¸<code>Keras</code>ç›¸æ¯”ï¼Œä»–ä»¬ä»ç„¶éå¸¸å¤æ‚ã€‚<code>Keras</code>åªæ˜¯ä½¿ç”¨åº•å±‚æ·±åº¦å­¦ä¹ åº“çš„ç•Œé¢ã€‚ä½¿ç”¨<code>Keras</code>å°±åƒç©ä¹é«˜ä¸€æ ·ç®€å•ã€‚æˆ‘å»ºè®®åˆå­¦è€…ä»<code>Keras</code>å¼€å§‹ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å¿«é€Ÿäº†è§£æ·±åº¦å­¦ä¹ å¯ä»¥åšäº›ä»€ä¹ˆï¼Œå¹¶ç§¯æè¿›è¡Œä¸€äº›æœ‰è¶£çš„é¡¹ç›®ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç°åœ¨Deep Learningå¤ªç«äº†ï¼Œä»¥è‡³äºæ²¡æœ‰ä»»ä½•è®¡ç®—æœºåŸºç¡€çš„äººéƒ½æƒ³ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆå¯¹äºæ–°æ‰‹ï¼Œç”šè‡³è¿Pythonä»£ç éƒ½å†™ä¸å¥½çš„DLçˆ±å¥½è€…ï¼Œæœ‰ä»€ä¹ˆä¸Šæ‰‹å·¥å…·ä¹ˆï¼Ÿé€‰æ‹©åˆé€‚çš„å·¥å…·å¯ä»¥å¸®åŠ©å­¦ä¹ æ›´å¿«ï¼Œå¾ˆå·§çš„æ˜¯ï¼Œæœ‰å¾ˆå¤šä¸åŒçš„å·¥å…·å¯ä¾›é€‰æ‹©ï¼Œä¸‹å›¾åˆ—å‡ºäº†å¸¸ç”¨çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img sr
      
    
    </summary>
    
      <category term="AIï¼ˆäººå·¥æ™ºèƒ½ï¼‰" scheme="http://meng.uno/categories/AI%EF%BC%88%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%EF%BC%89/"/>
    
      <category term="Deep Learning" scheme="http://meng.uno/categories/AI%EF%BC%88%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%EF%BC%89/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://meng.uno/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>CryptoMinisat</title>
    <link href="http://meng.uno/posts/7d26fe8/"/>
    <id>http://meng.uno/posts/7d26fe8/</id>
    <published>2018-01-10T13:50:36.000Z</published>
    <updated>2018-02-11T14:04:49.150Z</updated>
    
    <content type="html"><![CDATA[<p>Inspired by other verification system projects, I want to further explore the means of verification they used such as SMT solver, SAT solver, Coq and so on. Iâ€™ll start with this report from an advanced SAT solver â€” CryptoMinisat. (I have written a report  about STP which is a SMT solver.)</p><p>TheÂ Boolean Satisfiability ProblemÂ (SAT for short) is the problem of determining if there exists anÂ interpretationÂ thatÂ satisfiesÂ a givenÂ booleanÂ formula. In other words, it asks whether the variables of a given boolean formula can be consistently replaced  by the values TRUE or FALSE in such a way that the formulaÂ evaluates to TRUE. If this is the case, the formula is calledÂ satisfiable. Otherwise, the formula isÂ unsatisfiable.</p><p>SAT solvers have recently been enjoying a boom in the application front: more and more applications can and do make use of SAT solvers to accomplish tasks ranging from the fairly trivial to the very complex. The benefit of the incredible improvements  in the design of efficient SAT solvers those recent years is now reaching our lives:Â The Intel Core7 processor for instanceÂ has been designed with the help of SAT technology, whileÂ the device drivers of Windows 7Â are being certified thanks to an SMT  solver (based on a SAT solver).</p><h2 id="build-and-test"><a class="header-anchor" href="#build-and-test">ğŸŒŠ</a>Build and Test</h2><p>This is the 5th version of CryptoMinisat which means the install instruction is very prefect now. To build and test this project, all we have to do is following the instruction. Firstly, we need to install many dependencies. Then, it is very simple to  build by â€œmakeâ€. The following is part of the output.</p><p><img src="http://www.meng.uno/images/cryptominisat/1.png" alt="CryptoMinisat"></p><p>Testing this project is very easy by the script written by the authors. Typing â€œmake testâ€ and waiting for a moment, we will get this output which means the tests are correct.</p><p><img src="http://www.meng.uno/images/cryptominisat/2.png" alt="CryptoMinisat"></p><h2 id="run-this-project"><a class="header-anchor" href="#run-this-project">ğŸŒŠ</a>Run This Project</h2><p>This is a very mature project which can be run from the terminal or used as a C++/Python library. In this report, I just choose the first way.</p><p>As I said before, this project is a SAT solver which means it could find out the situations which fulfill the input or return error. The grammar is very simple just like this.</p><p><img src="http://www.meng.uno/images/cryptominisat/3.png" alt="CryptoMinisat"></p><p>The first line means this input has 2 variables and 4 clauses. Every line is a clause which is ended by â€œ0â€. Using the third line as an example, it says that 2 is TRUE and 3 is FALSE. I use this file as an input and run it in the terminal. The result  is shown as follows. It means 1 is TRUE, 2 and 3 are FALSE is the only solution to this problem.</p><p><img src="http://www.meng.uno/images/cryptominisat/4.png" alt="CryptoMinisat"></p><p>This is another example and the result.</p><p><img src="http://www.meng.uno/images/cryptominisat/5.png" alt="CryptoMinisat"></p><p><img src="http://www.meng.uno/images/cryptominisat/6.png" alt="CryptoMinisat"></p><p>It means there isnâ€™t a solution to this problem.</p><h2 id="how-it-works"><a class="header-anchor" href="#how-it-works">ğŸŒŠ</a>How It Works</h2><p>There are many improvements and techniques included in this project. It uses â€œMinisatâ€ as its core and uses Gaussian Elimination on top-level. This is another part of its techniques.</p><ul>  <li>Variable elimination and replacement, strengthening and subsumption;</li>  <li>Gate-based clause shortening and removal;</li>  <li>No time or memory-outs on weird CNFs;</li>  <li>Variable renumbering and variable number hiding. due to this, XOR clauses are cut and the added variables are always consistently displayed;</li>  <li>Temporary results are stored in SQLite which supports high speed update;</li>  <li>XOR recovery.</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Inspired by other verification system projects, I want to further explore the means of verification they used such as SMT solver, SAT sol
      
    
    </summary>
    
      <category term="solver" scheme="http://meng.uno/categories/solver/"/>
    
      <category term="SAT" scheme="http://meng.uno/categories/solver/SAT/"/>
    
    
      <category term="CryptoMinisat" scheme="http://meng.uno/tags/CryptoMinisat/"/>
    
      <category term="SAT" scheme="http://meng.uno/tags/SAT/"/>
    
      <category term="solver" scheme="http://meng.uno/tags/solver/"/>
    
  </entry>
  
  <entry>
    <title>Trinity</title>
    <link href="http://meng.uno/posts/664baed9/"/>
    <id>http://meng.uno/posts/664baed9/</id>
    <published>2018-01-05T14:37:53.000Z</published>
    <updated>2018-02-11T14:48:52.839Z</updated>
    
    <content type="html"><![CDATA[<p>As we all known, system call testing is very important to a system. System call fuzzers arenâ€™t a particularly new idea. A few projects began from the mid-2000s with the aim of bringing more sophistication to the fuzz-testing process. One of them, Scrashme,  was started in 2006. Work on that project languished for a few years, and only picked up momentum starting in late 2010, when the authors began to devote significantly more time to its development. In December 2010, Scrashme was renamed to Trinity which  is this project.</p><p>Trinity is an intelligent system call fuzzer since it incorporates specific knowledge about each system call which is tested. Its thought is to reduce the time spent running â€œuselessâ€ tests, so reaching deeper into the tested code and increasing the chances  of testing a more interesting case that may result in an unexpected error.</p><h2 id="build-and-run"><a class="header-anchor" href="#build-and-run">ğŸŒŠ</a>Build and Run</h2><p>We can get the source code from GitHub, compile the code and invoke Trinity with a command line as simple as â€œ./trinityâ€. Building this project is very simple, we just need to enter the directory and â€œ./configure; makeâ€. Itâ€™s so simple that the authors  didnâ€™t write it out. The result of a successful â€œmakeâ€ is like this:</p><p><img src="http://www.meng.uno/images/fuzzer/1.png" alt="Trinity"></p><p>Now letâ€™s run it. I will test a system call â€œmadviseâ€ as an example.</p><p><img src="http://www.meng.uno/images/fuzzer/2.png" alt="Trinity"></p><p><img src="http://www.meng.uno/images/fuzzer/3.png" alt="Trinity"></p><p>From the above picture, we can see that there are 384 32 bits system calls and 333 64 bits system calls tested in this project (not all in this test case).</p><p>The log information of the main test process and its children processes are stored separately like this.</p><p><img src="http://www.meng.uno/images/fuzzer/4.png" alt="Trinity"></p><p>This project also has many other test modes which I didnâ€™t test here. Trinity has been rather successful at findingÂ bugs if we fully test it. It said that the authors of this project had sometimes left systems running for hours or days in order to discover  failures.</p><h2 id="analyze-the-test"><a class="header-anchor" href="#analyze-the-test">ğŸŒŠ</a>Analyze the Test</h2><p>Here is the segment of the code of system call â€œmadviseâ€.</p><p><img src="http://www.meng.uno/images/fuzzer/5.png" alt="Trinity"></p><p>This is a structure definition, from which we can see Trinity has some understanding of the arguments for each system call. This is why it brings intelligence to its tests. The â€œ.num_argsâ€ means that this system call need 3 parameters. These parameters  are â€œarg1, arg2, arg3â€ whose names and types are defined as the picture shows.</p><p>I found the architecture of Trinity from its website. From this picture, we know that the â€œtrinity-mainâ€ process kicks off a number of child processes (It is 4 in this picture) that perform the system call tests.Â There is a shared memory region used to  record various pieces of global information, such as open file descriptor numbers, total system calls performed, and number of system calls that succeeded and failed. The shared memory region also records various information about each of the child  processes as the picture shown in the â€œBuild and Runâ€ section. The â€œtrinity-watchdogâ€Â process ensures that the test system is still working correctly which is similar to the function of â€œZookeeperâ€ to â€œHadoopâ€, I think.</p><p><img src="http://www.meng.uno/images/fuzzer/6.png" alt="Trinity"></p><h2 id="write-a-test"><a class="header-anchor" href="#write-a-test">ğŸŒŠ</a>Write A Test</h2><p>First, we need to select a system call for testing. I choose â€œgetcpuâ€ system call here from â€œsyscalls.hâ€ file. (We need to delete the original test file because all system call listed in â€œsyscalls.hâ€ are tested.) Then I write a new file to â€œ/trinity/syscalls/â€  directory named â€œmeng.câ€ and the contents are as follows.</p><p><img src="http://www.meng.uno/images/fuzzer/7.png" alt="Trinity"></p><p>The type of parameters can be found at â€œsyscall.hâ€ as follows.</p><p><img src="http://www.meng.uno/images/fuzzer/8.png" alt="Trinity"></p><p>After compiling the file and running, here is part of the result.</p><p><img src="http://www.meng.uno/images/fuzzer/9.png" alt="Trinity"></p><p><img src="http://www.meng.uno/images/fuzzer/10.png" alt="Trinity"></p><p>In the future, I may add some system calls which it didnâ€™t test till now to this project. However, you can see that it is very difficult for us to really test a system call which we used everyday using this project because Trinity randomly invokes system  calls currently and real programs demonstrate common patterns for making system calls.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;As we all known, system call testing is very important to a system. System call fuzzers arenâ€™t a particularly new idea. A few projects be
      
    
    </summary>
    
      <category term="Fuzzer" scheme="http://meng.uno/categories/Fuzzer/"/>
    
    
      <category term="Trinity" scheme="http://meng.uno/tags/Trinity/"/>
    
      <category term="Fuzzer" scheme="http://meng.uno/tags/Fuzzer/"/>
    
  </entry>
  
  <entry>
    <title>Boogie</title>
    <link href="http://meng.uno/posts/4f0a9591/"/>
    <id>http://meng.uno/posts/4f0a9591/</id>
    <published>2018-01-03T14:43:12.000Z</published>
    <updated>2018-02-11T14:48:52.838Z</updated>
    
    <content type="html"><![CDATA[<p>Boogie is an intermediate verification language (IVL), intended as a layer on which to build program verifiers for other languages. It is also the name of the verification tool that takes Boogie programs as input. It can accept the input of a Boogie program  and generate verification conditions that are passed to an SMT solver such as Z3 used by my test.</p><h2 id="build-and-run"><a class="header-anchor" href="#build-and-run">ğŸŒŠ</a>Build and Run</h2><p>Building this project is very simple, however, we may need to install many other tools such as â€œMonoâ€ (I use a MacBook to build this project) and â€œNuGetâ€. The information of successfully building is like this.</p><p><img src="http://www.meng.uno/images/boogie/1.png" alt="Boogie"></p><p>There are two kinds of verifications said by the authors: Driver tests and Unit tests, however, I couldnâ€™t find the python script for the latter, so I just run the driver tests.</p><h2 id="driver-tests"><a class="header-anchor" href="#driver-tests">ğŸŒŠ</a>Driver Tests</h2><p>In this kind of tests, we need to use â€œlitâ€ and â€œOutputCheckâ€. We could run all the tests by â€œlit .â€. The result is shown as follows.</p><p><img src="http://www.meng.uno/images/boogie/2.png" alt="Boogie"></p><p>We also could run a single test by giving â€œlitâ€ a specific folder or file. The picture is a test of a folder.</p><p><img src="http://www.meng.uno/images/boogie/3.png" alt="Boogie"></p><h2 id="analyze-the-test"><a class="header-anchor" href="#analyze-the-test">ğŸŒŠ</a>Analyze the Test</h2><p><img src="http://www.meng.uno/images/boogie/4.png" alt="Boogie"></p><p>The picture is a function written by Boogie, from which we can see that the Boogie language is something like C language. In addition, in every Boogie file, every function is separated.</p><p>If there are some errors occurred, there will be a â€œ.expectâ€ file outputted like this to tell us why they are wrong.</p><p><img src="http://www.meng.uno/images/boogie/5.png" alt="Boogie"></p><h2 id="write-a-test"><a class="header-anchor" href="#write-a-test">ğŸŒŠ</a>Write A Test</h2><p>We can write a new file or just add our function to a existed file. The following is my test:</p><p><img src="http://www.meng.uno/images/boogie/6.png" alt="Boogie"></p><p>This is the result:</p><p><img src="http://www.meng.uno/images/boogie/7.png" alt="Boogie"></p><p>I plan to analyze this project deeply, however, its code is very old so it maybe a little difficult for me to do this. I just do these tests on this projects now. Maybe I will analyze the whole project some day. From this project, I can learn what is  an intermediate verification language (IVL) and how it works. I found that there were many tools adapting this strategy, including the VCC and HAVOC verifiers for C and the verifiers for Dafny, Chalice, and Spec#.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Boogie is an intermediate verification language (IVL), intended as a layer on which to build program verifiers for other languages. It is
      
    
    </summary>
    
      <category term="Language" scheme="http://meng.uno/categories/Language/"/>
    
    
      <category term="Boogie" scheme="http://meng.uno/tags/Boogie/"/>
    
      <category term="Language" scheme="http://meng.uno/tags/Language/"/>
    
  </entry>
  
  <entry>
    <title>Simple Theorem Prover SMT solver</title>
    <link href="http://meng.uno/posts/cd3afb7d/"/>
    <id>http://meng.uno/posts/cd3afb7d/</id>
    <published>2018-01-03T13:42:58.000Z</published>
    <updated>2018-02-11T14:04:49.153Z</updated>
    
    <content type="html"><![CDATA[<p>I found it could be generated as program analysis tools, theorem provers, automated bug finders and so on which means it is a very crucial research. STP is a constraint solver aimed at solving constraints of bit vectors and arrays.Â It can read CVC, SMT-LIB1  and SMT-LIB2 formats files. It also could be used by Python, SMT-LIBv2 and even C library. STP preprocesses the input through the application of mathematical and logical identities, and then eagerly translates constraints into a purely propositional  logic formula that it feeds to an off-the-shelf SAT solver.</p><p>STP views memory as untyped bytes. It provides only three data types: booleans, bitvectors, and arrays of bitvectors. A bitvector is an unsigned, fixed-length sequence of bits. For example, â€œ0010â€ is a constant, 4-bit bitvector representing the constant  2.</p><h2 id="build-and-run"><a class="header-anchor" href="#build-and-run">ğŸŒŠ</a>Build and Run</h2><p>We can build this project on Linux or Docker, however, you know, Google isnâ€™t well supported in China, so I canâ€™t use â€œrepoâ€ execution which needed by Docker. In this document, I will use a quick install.</p><p>Firstly, we need to install many dependencies. Then, since STP uses â€œminisatâ€ as its SAT solver by default, we need to install it first. It is very simple to do this by â€œcmakeâ€. The following is part of the output.</p><p><img src="http://www.meng.uno/images/stp/1.png" alt="STP"></p><p>Then we could start to install STP (To get the code, we need to use â€œgit cloneâ€ but not download it directly).</p><p><img src="http://www.meng.uno/images/stp/2.png" alt="STP"></p><p>This project depends on various external tools to do testing. Here we install â€œlitâ€ and do some individual tests and use â€œGoogleTestâ€ to write some unit tests.</p><h2 id="analyze-individual-test"><a class="header-anchor" href="#analyze-individual-test">ğŸŒŠ</a>Analyze Individual Test</h2><p>An individual test is like this.</p><p><img src="http://www.meng.uno/images/stp/3.png" alt="STP"></p><p>In this screenshot, we can see that this file is judging â€œb = (c || b)â€ and â€œ((c || b) = b) &lt; c &lt; bâ€. We could find that an individual test file may contain these components:</p><ul>  <li>â€œ; lineâ€: comments;</li>  <li>â€œset-infoâ€: set some configuration information for running this file;</li>  <li>â€œdeclare-funâ€: definite some functions and their return types;</li>  <li>â€œassertâ€: like C lang, do some judgement;</li>  <li>â€œexitâ€: return.</li></ul><h2 id="analyze-unit-test"><a class="header-anchor" href="#analyze-unit-test">ğŸŒŠ</a>Analyze Unit Test</h2><p>We can simply run unit test by giving â€œlitâ€ the individual tests directory or run â€œmake C-api-testsâ€ to build the C-api tests as unit tests. The Cpp file is like this.</p><p><img src="http://www.meng.uno/images/stp/4.png" alt="STP"></p><p>From this picture, we can see that a C-api test contains many simple verifications.</p><h2 id="analyze-the-code-structure"><a class="header-anchor" href="#analyze-the-code-structure">ğŸŒŠ</a>Analyze the Code Structure</h2><p><img src="http://www.meng.uno/images/stp/5.png" alt="STP"></p><p>From the above picture, I give the following simple understandings to this project.</p><ul>  <li>â€œInterfaceâ€: Define a C interface to achieve the file ins and outs;</li>  <li>â€œSatâ€: Copy from â€œminisatâ€ to call SAT solver.</li>  <li>â€œASTâ€: Implement the abstract syntax tree for parsed solver inputs;</li>  <li>â€œUtilâ€: Store some header files for small tasks;</li>  <li>â€œPrinterâ€: Appoint some output formats;</li>  <li>â€œSimplifierâ€: Simplify algorithms for AST;</li>  <li>â€œParserâ€: Store some parsers for the CVC, SMT-LIB1, SMT-LIB2 inputs;</li>  <li>â€œSTPManagerâ€: Hold all components together.</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;I found it could be generated as program analysis tools, theorem provers, automated bug finders and so on which means it is a very crucia
      
    
    </summary>
    
      <category term="solver" scheme="http://meng.uno/categories/solver/"/>
    
      <category term="SMT" scheme="http://meng.uno/categories/solver/SMT/"/>
    
    
      <category term="solver" scheme="http://meng.uno/tags/solver/"/>
    
      <category term="STP" scheme="http://meng.uno/tags/STP/"/>
    
      <category term="SMT" scheme="http://meng.uno/tags/SMT/"/>
    
  </entry>
  
</feed>
